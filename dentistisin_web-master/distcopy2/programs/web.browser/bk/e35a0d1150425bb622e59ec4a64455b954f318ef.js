!function(){var n,t;(function(){t={}}).call(this),function(){(function(){var n=this,r=n._,e={},u=Array.prototype,i=Object.prototype,a=Function.prototype,o=u.push,c=u.slice,l=u.concat,f=i.toString,s=i.hasOwnProperty,p=u.forEach,v=u.map,h=u.reduce,d=u.reduceRight,g=u.filter,m=u.every,y=u.some,b=u.indexOf,_=u.lastIndexOf,w=Array.isArray,x=Object.keys,j=a.bind,A=function(n){return n instanceof A?n:this instanceof A?void(this._wrapped=n):new A(n)};"undefined"!=typeof t?("undefined"!=typeof module&&module.exports&&(t=module.exports=A),t._=A):n._=A,A.VERSION="1.5.2";var k=function(n){return"[object Arguments]"===f.call(n)};k(arguments)||(k=function(n){return!(!n||!s.call(n,"callee")||"function"!=typeof n.callee)});var O=function(n){return n.length===+n.length&&(k(n)||n.constructor!==Object)},E=A.each=A.forEach=function(n,t,r){if(null!=n)if(p&&n.forEach===p)n.forEach(t,r);else if(O(n)){for(var u=0,i=n.length;i>u;u++)if(t.call(r,n[u],u,n)===e)return}else for(var a=A.keys(n),u=0,i=a.length;i>u;u++)if(t.call(r,n[a[u]],a[u],n)===e)return};A.map=A.collect=function(n,t,r){var e=[];return null==n?e:v&&n.map===v?n.map(t,r):(E(n,function(n,u,i){e.push(t.call(r,n,u,i))}),e)};var F="Reduce of empty array with no initial value";A.reduce=A.foldl=A.inject=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),h&&n.reduce===h)return e&&(t=A.bind(t,e)),u?n.reduce(t,r):n.reduce(t);if(E(n,function(n,i,a){u?r=t.call(e,r,n,i,a):(r=n,u=!0)}),!u)throw new TypeError(F);return r},A.reduceRight=A.foldr=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),d&&n.reduceRight===d)return e&&(t=A.bind(t,e)),u?n.reduceRight(t,r):n.reduceRight(t);var i=n.length;if(!O(n)){var a=A.keys(n);i=a.length}if(E(n,function(o,c,l){c=a?a[--i]:--i,u?r=t.call(e,r,n[c],c,l):(r=n[c],u=!0)}),!u)throw new TypeError(F);return r},A.find=A.detect=function(n,t,r){var e;return M(n,function(n,u,i){return t.call(r,n,u,i)?(e=n,!0):void 0}),e},A.filter=A.select=function(n,t,r){var e=[];return null==n?e:g&&n.filter===g?n.filter(t,r):(E(n,function(n,u,i){t.call(r,n,u,i)&&e.push(n)}),e)},A.reject=function(n,t,r){return A.filter(n,function(n,e,u){return!t.call(r,n,e,u)},r)},A.every=A.all=function(n,t,r){t||(t=A.identity);var u=!0;return null==n?u:m&&n.every===m?n.every(t,r):(E(n,function(n,i,a){return(u=u&&t.call(r,n,i,a))?void 0:e}),!!u)};var M=A.some=A.any=function(n,t,r){t||(t=A.identity);var u=!1;return null==n?u:y&&n.some===y?n.some(t,r):(E(n,function(n,i,a){return u||(u=t.call(r,n,i,a))?e:void 0}),!!u)};A.contains=A.include=function(n,t){return null==n?!1:b&&n.indexOf===b?-1!=n.indexOf(t):M(n,function(n){return n===t})},A.invoke=function(n,t){var r=c.call(arguments,2),e=A.isFunction(t);return A.map(n,function(n){return(e?t:n[t]).apply(n,r)})},A.pluck=function(n,t){return A.map(n,function(n){return n[t]})},A.where=function(n,t,r){return A.isEmpty(t)?r?void 0:[]:A[r?"find":"filter"](n,function(n){for(var r in t)if(t[r]!==n[r])return!1;return!0})},A.findWhere=function(n,t){return A.where(n,t,!0)},A.max=function(n,t,r){if(!t&&A.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.max.apply(Math,n);if(!t&&A.isEmpty(n))return-(1/0);var e={computed:-(1/0),value:-(1/0)};return E(n,function(n,u,i){var a=t?t.call(r,n,u,i):n;a>e.computed&&(e={value:n,computed:a})}),e.value},A.min=function(n,t,r){if(!t&&A.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.min.apply(Math,n);if(!t&&A.isEmpty(n))return 1/0;var e={computed:1/0,value:1/0};return E(n,function(n,u,i){var a=t?t.call(r,n,u,i):n;a<e.computed&&(e={value:n,computed:a})}),e.value},A.shuffle=function(n){var t,r=0,e=[];return E(n,function(n){t=A.random(r++),e[r-1]=e[t],e[t]=n}),e},A.sample=function(n,t,r){return arguments.length<2||r?n[A.random(n.length-1)]:A.shuffle(n).slice(0,Math.max(0,t))};var R=function(n){return A.isFunction(n)?n:function(t){return t[n]}};A.sortBy=function(n,t,r){var e=R(t);return A.pluck(A.map(n,function(n,t,u){return{value:n,index:t,criteria:e.call(r,n,t,u)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||void 0===r)return 1;if(e>r||void 0===e)return-1}return n.index-t.index}),"value")};var S=function(n){return function(t,r,e){var u={},i=null==r?A.identity:R(r);return E(t,function(r,a){var o=i.call(e,r,a,t);n(u,o,r)}),u}};A.groupBy=S(function(n,t,r){(A.has(n,t)?n[t]:n[t]=[]).push(r)}),A.indexBy=S(function(n,t,r){n[t]=r}),A.countBy=S(function(n,t){A.has(n,t)?n[t]++:n[t]=1}),A.sortedIndex=function(n,t,r,e){r=null==r?A.identity:R(r);for(var u=r.call(e,t),i=0,a=n.length;a>i;){var o=i+a>>>1;r.call(e,n[o])<u?i=o+1:a=o}return i},A.toArray=function(n){return n?A.isArray(n)?c.call(n):O(n)?A.map(n,A.identity):A.values(n):[]},A.size=function(n){return null==n?0:O(n)?n.length:A.keys(n).length},A.first=A.head=A.take=function(n,t,r){return null==n?void 0:null==t||r?n[0]:c.call(n,0,t)},A.initial=function(n,t,r){return c.call(n,0,n.length-(null==t||r?1:t))},A.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:c.call(n,Math.max(n.length-t,0))},A.rest=A.tail=A.drop=function(n,t,r){return c.call(n,null==t||r?1:t)},A.compact=function(n){return A.filter(n,A.identity)};var I=function(n,t,r){return t&&A.every(n,A.isArray)?l.apply(r,n):(E(n,function(n){A.isArray(n)||A.isArguments(n)?t?o.apply(r,n):I(n,t,r):r.push(n)}),r)};A.flatten=function(n,t){return I(n,t,[])},A.without=function(n){return A.difference(n,c.call(arguments,1))},A.uniq=A.unique=function(n,t,r,e){A.isFunction(t)&&(e=r,r=t,t=!1);var u=r?A.map(n,r,e):n,i=[],a=[];return E(u,function(r,e){(t?e&&a[a.length-1]===r:A.contains(a,r))||(a.push(r),i.push(n[e]))}),i},A.union=function(){return A.uniq(A.flatten(arguments,!0))},A.intersection=function(n){var t=c.call(arguments,1);return A.filter(A.uniq(n),function(n){return A.every(t,function(t){return A.indexOf(t,n)>=0})})},A.difference=function(n){var t=l.apply(u,c.call(arguments,1));return A.filter(n,function(n){return!A.contains(t,n)})},A.zip=function(){for(var n=A.max(A.pluck(arguments,"length").concat(0)),t=new Array(n),r=0;n>r;r++)t[r]=A.pluck(arguments,""+r);return t},A.object=function(n,t){if(null==n)return{};for(var r={},e=0,u=n.length;u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},A.indexOf=function(n,t,r){if(null==n)return-1;var e=0,u=n.length;if(r){if("number"!=typeof r)return e=A.sortedIndex(n,t),n[e]===t?e:-1;e=0>r?Math.max(0,u+r):r}if(b&&n.indexOf===b)return n.indexOf(t,r);for(;u>e;e++)if(n[e]===t)return e;return-1},A.lastIndexOf=function(n,t,r){if(null==n)return-1;var e=null!=r;if(_&&n.lastIndexOf===_)return e?n.lastIndexOf(t,r):n.lastIndexOf(t);for(var u=e?r:n.length;u--;)if(n[u]===t)return u;return-1},A.range=function(n,t,r){arguments.length<=1&&(t=n||0,n=0),r=arguments[2]||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=0,i=new Array(e);e>u;)i[u++]=n,n+=r;return i};var T=function(){};A.bind=function(n,t){var r,e;if(j&&n.bind===j)return j.apply(n,c.call(arguments,1));if(!A.isFunction(n))throw new TypeError;return r=c.call(arguments,2),e=function(){if(!(this instanceof e))return n.apply(t,r.concat(c.call(arguments)));T.prototype=n.prototype;var u=new T;T.prototype=null;var i=n.apply(u,r.concat(c.call(arguments)));return Object(i)===i?i:u}},A.partial=function(n){var t=c.call(arguments,1);return function(){return n.apply(this,t.concat(c.call(arguments)))}},A.bindAll=function(n){var t=c.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return E(t,function(t){n[t]=A.bind(n[t],n)}),n},A.memoize=function(n,t){var r={};return t||(t=A.identity),function(){var e=t.apply(this,arguments);return A.has(r,e)?r[e]:r[e]=n.apply(this,arguments)}},A.delay=function(n,t){var r=c.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},A.defer=function(n){return A.delay.apply(A,[n,1].concat(c.call(arguments,1)))},A.throttle=function(n,t,r){var e,u,i,a=null,o=0;r||(r={});var c=function(){o=r.leading===!1?0:new Date,a=null,i=n.apply(e,u)};return function(){var l=new Date;o||r.leading!==!1||(o=l);var f=t-(l-o);return e=this,u=arguments,0>=f?(clearTimeout(a),a=null,o=l,i=n.apply(e,u)):a||r.trailing===!1||(a=setTimeout(c,f)),i}},A.debounce=function(n,t,r){var e,u,i,a,o;return function(){i=this,u=arguments,a=new Date;var c=function(){var l=new Date-a;t>l?e=setTimeout(c,t-l):(e=null,r||(o=n.apply(i,u)))},l=r&&!e;return e||(e=setTimeout(c,t)),l&&(o=n.apply(i,u)),o}},A.once=function(n){var t=!1,r;return function(){return t?r:(t=!0,r=n.apply(this,arguments),n=null,r)}},A.wrap=function(n,t){return function(){var r=[n];return o.apply(r,arguments),t.apply(this,r)}},A.compose=function(){var n=arguments;return function(){for(var t=arguments,r=n.length-1;r>=0;r--)t=[n[r].apply(this,t)];return t[0]}},A.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},A.keys=x||function(n){if(n!==Object(n))throw new TypeError("Invalid object");var t=[];for(var r in n)A.has(n,r)&&t.push(r);return t},A.values=function(n){for(var t=A.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=n[t[u]];return e},A.pairs=function(n){for(var t=A.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=[t[u],n[t[u]]];return e},A.invert=function(n){for(var t={},r=A.keys(n),e=0,u=r.length;u>e;e++)t[n[r[e]]]=r[e];return t},A.functions=A.methods=function(n){var t=[];for(var r in n)A.isFunction(n[r])&&t.push(r);return t.sort()},A.extend=function(n){return E(c.call(arguments,1),function(t){if(t)for(var r in t)n[r]=t[r]}),n},A.pick=function(n){var t={},r=l.apply(u,c.call(arguments,1));return E(r,function(r){r in n&&(t[r]=n[r])}),t},A.omit=function(n){var t={},r=l.apply(u,c.call(arguments,1));for(var e in n)A.contains(r,e)||(t[e]=n[e]);return t},A.defaults=function(n){return E(c.call(arguments,1),function(t){if(t)for(var r in t)void 0===n[r]&&(n[r]=t[r])}),n},A.clone=function(n){return A.isObject(n)?A.isArray(n)?n.slice():A.extend({},n):n},A.tap=function(n,t){return t(n),n};var N=function(n,t,r,e){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;n instanceof A&&(n=n._wrapped),t instanceof A&&(t=t._wrapped);var u=f.call(n);if(u!=f.call(t))return!1;switch(u){case"[object String]":return n==String(t);case"[object Number]":return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case"[object Date]":case"[object Boolean]":return+n==+t;case"[object RegExp]":return n.source==t.source&&n.global==t.global&&n.multiline==t.multiline&&n.ignoreCase==t.ignoreCase}if("object"!=typeof n||"object"!=typeof t)return!1;for(var i=r.length;i--;)if(r[i]==n)return e[i]==t;var a=n.constructor,o=t.constructor;if(a!==o&&!(A.isFunction(a)&&a instanceof a&&A.isFunction(o)&&o instanceof o))return!1;r.push(n),e.push(t);var c=0,l=!0;if("[object Array]"==u){if(c=n.length,l=c==t.length)for(;c--&&(l=N(n[c],t[c],r,e)););}else{for(var s in n)if(A.has(n,s)&&(c++,!(l=A.has(t,s)&&N(n[s],t[s],r,e))))break;if(l){for(s in t)if(A.has(t,s)&&!c--)break;l=!c}}return r.pop(),e.pop(),l};A.isEqual=function(n,t){return N(n,t,[],[])},A.isEmpty=function(n){if(null==n)return!0;if(A.isArray(n)||A.isString(n))return 0===n.length;for(var t in n)if(A.has(n,t))return!1;return!0},A.isElement=function(n){return!(!n||1!==n.nodeType)},A.isArray=w||function(n){return"[object Array]"==f.call(n)},A.isObject=function(n){return n===Object(n)},E(["Arguments","Function","String","Number","Date","RegExp"],function(n){A["is"+n]=function(t){return f.call(t)=="[object "+n+"]"}}),A.isArguments(arguments)||(A.isArguments=function(n){return!(!n||!A.has(n,"callee"))}),"function"!=typeof/./&&(A.isFunction=function(n){return"function"==typeof n}),A.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},A.isNaN=function(n){return A.isNumber(n)&&n!=+n},A.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"==f.call(n)},A.isNull=function(n){return null===n},A.isUndefined=function(n){return void 0===n},A.has=function(n,t){return s.call(n,t)},A.noConflict=function(){return n._=r,this},A.identity=function(n){return n},A.times=function(n,t,r){for(var e=Array(Math.max(0,n)),u=0;n>u;u++)e[u]=t.call(r,u);return e},A.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))};var q={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};q.unescape=A.invert(q.escape);var B={escape:new RegExp("["+A.keys(q.escape).join("")+"]","g"),unescape:new RegExp("("+A.keys(q.unescape).join("|")+")","g")};A.each(["escape","unescape"],function(n){A[n]=function(t){return null==t?"":(""+t).replace(B[n],function(t){return q[n][t]})}}),A.result=function(n,t){if(null==n)return void 0;var r=n[t];return A.isFunction(r)?r.call(n):r},A.mixin=function(n){E(A.functions(n),function(t){var r=A[t]=n[t];A.prototype[t]=function(){var n=[this._wrapped];return o.apply(n,arguments),U.call(this,r.apply(A,n))}})};var D=0;A.uniqueId=function(n){var t=++D+"";return n?n+t:t},A.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var P=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},C=/\\|'|\r|\n|\t|\u2028|\u2029/g;A.template=function(n,t,r){var e;r=A.defaults({},r,A.templateSettings);var u=new RegExp([(r.escape||P).source,(r.interpolate||P).source,(r.evaluate||P).source].join("|")+"|$","g"),i=0,a="__p+='";n.replace(u,function(t,r,e,u,o){return a+=n.slice(i,o).replace(C,function(n){return"\\"+z[n]}),r&&(a+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'"),e&&(a+="'+\n((__t=("+e+"))==null?'':__t)+\n'"),u&&(a+="';\n"+u+"\n__p+='"),i=o+t.length,t}),a+="';\n",r.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{e=new Function(r.variable||"obj","_",a)}catch(o){throw o.source=a,o}if(t)return e(t,A);var c=function(n){return e.call(this,n,A)};return c.source="function("+(r.variable||"obj")+"){\n"+a+"}",c},A.chain=function(n){return A(n).chain()};var U=function(n){return this._chain?A(n).chain():n};A.mixin(A),E(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=u[n];A.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!=n&&"splice"!=n||0!==r.length||delete r[0],U.call(this,r)}}),E(["concat","join","slice"],function(n){var t=u[n];A.prototype[n]=function(){return U.call(this,t.apply(this._wrapped,arguments))}}),A.extend(A.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this)}.call(this),function(){n=t._}.call(this),"undefined"==typeof Package&&(Package={}),Package.underscore={_:n}}();

!function(){var t=Package.underscore._,e;(function(){e={isClient:!0,isServer:!1,isCordova:!1},"object"==typeof __meteor_runtime_config__&&__meteor_runtime_config__.PUBLIC_SETTINGS&&(e.settings={"public":__meteor_runtime_config__.PUBLIC_SETTINGS})}).call(this),function(){function n(t){return t?e._debug("Exception in callback of async function",t.stack?t.stack:t):void 0}if(e.isServer)var r=Npm.require("fibers/future");"object"==typeof __meteor_runtime_config__&&__meteor_runtime_config__.meteorRelease&&(e.release=__meteor_runtime_config__.meteorRelease),t.extend(e,{_get:function(t){for(var e=1;e<arguments.length;e++){if(!(arguments[e]in t))return void 0;t=t[arguments[e]]}return t},_ensure:function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];n in t||(t[n]={}),t=t[n]}return t},_delete:function(t){for(var e=[t],n=!0,r=1;r<arguments.length-1;r++){var o=arguments[r];if(!(o in t)){n=!1;break}if(t=t[o],"object"!=typeof t)break;e.push(t)}for(var r=e.length-1;r>=0;r--){var o=arguments[r+1];if(n)n=!1;else for(var i in e[r][o])return;delete e[r][o]}},wrapAsync:function(o,i){return function(){for(var a=i||this,u=t.toArray(arguments),s,c=u.length-1;c>=0;--c){var l=u[c],f=typeof l;if("undefined"!==f){"function"===f&&(s=l);break}}if(!s){if(e.isClient)s=n;else{var _=new r;s=_.resolver()}++c}u[c]=e.bindEnvironment(s);var p=o.apply(a,u);return _?_.wait():p}},_inherits:function(e,n){for(var r in n)t.has(n,r)&&(e[r]=n[r]);var o=function(){this.constructor=e};return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e}});var o=!1;e._wrapAsync=function(t,n){return o||(e._debug("Meteor._wrapAsync has been renamed to Meteor.wrapAsync"),o=!0),e.wrapAsync.apply(e,arguments)}}.call(this),function(){"use strict";function t(){if(o.setImmediate){var t=function(t){o.setImmediate(t)};return t.implementation="setImmediate",t}return null}function n(){function t(t,e){return"string"==typeof t&&t.substring(0,e.length)===e}function e(e){if(e.source===o&&t(e.data,u)){var n=e.data.substring(u.length);try{a[n]&&a[n]()}finally{delete a[n]}}}if(!o.postMessage||o.importScripts)return null;var n=!0,r=o.onmessage;if(o.onmessage=function(){n=!1},o.postMessage("","*"),o.onmessage=r,!n)return null;var i=0,a={},u="Meteor._setImmediate."+Math.random()+".";o.addEventListener?o.addEventListener("message",e,!1):o.attachEvent("onmessage",e);var s=function(t){++i,a[i]=t,o.postMessage(u+i,"*")};return s.implementation="postMessage",s}function r(){var t=function(t){o.setTimeout(t,0)};return t.implementation="setTimeout",t}var o=this;e._setImmediate=t()||n()||r()}.call(this),function(){var n=function(t){if(Package.ddp){var e=Package.ddp.DDP._CurrentInvocation;if(e.get()&&e.get().isSimulation)throw new Error("Can't set timers inside simulations");return function(){e.withValue(null,t)}}return t},r=function(t,r){return e.bindEnvironment(n(r),t)};t.extend(e,{setTimeout:function(t,e){return setTimeout(r("setTimeout callback",t),e)},setInterval:function(t,e){return setInterval(r("setInterval callback",t),e)},clearInterval:function(t){return clearInterval(t)},clearTimeout:function(t){return clearTimeout(t)},defer:function(t){e._setImmediate(r("defer callback",t))}})}.call(this),function(){e.makeErrorType=function(t,n){var r=function(){var e=this;if(Error.captureStackTrace)Error.captureStackTrace(e,r);else{var o=new Error;o.__proto__=r.prototype,o instanceof r&&(e=o)}return n.apply(e,arguments),e.errorType=t,e};return e._inherits(r,Error),r},e.Error=e.makeErrorType("Meteor.Error",function(t,e,n){var r=this;r.error=t,r.reason=e,r.details=n,r.message=r.reason?r.reason+" ["+r.error+"]":"["+r.error+"]"}),e.Error.prototype.clone=function(){var t=this;return new e.Error(t.error,t.reason,t.details)}}.call(this),function(){e._noYieldsAllowed=function(t){return t()},e._SynchronousQueue=function(){var t=this;t._tasks=[],t._running=!1,t._runTimeout=null},t.extend(e._SynchronousQueue.prototype,{runTask:function(n){var r=this;if(!r.safeToRunTask())throw new Error("Could not synchronously run a task from a running task");r._tasks.push(n);var o=r._tasks;r._tasks=[],r._running=!0,r._runTimeout&&(clearTimeout(r._runTimeout),r._runTimeout=null);try{for(;!t.isEmpty(o);){var i=o.shift();try{i()}catch(a){if(t.isEmpty(o))throw a;e._debug("Exception in queued task: "+a.stack)}}}finally{r._running=!1}},queueTask:function(e){var n=this;n._tasks.push(e),n._runTimeout||(n._runTimeout=setTimeout(t.bind(n.flush,n),0))},flush:function(){var t=this;t.runTask(function(){})},drain:function(){var e=this;if(e.safeToRunTask())for(;!t.isEmpty(e._tasks);)e.flush()},safeToRunTask:function(){var t=this;return!t._running}})}.call(this),function(){var t=[],n=!e.isCordova&&("loaded"===document.readyState||"complete"==document.readyState),r=1,o=function(){if(r--,!(r>0)){n=!0;var o=function(){if(e.isCordova&&(!cordova.plugins||!cordova.plugins.CordovaUpdate))return void e.setTimeout(o,20);for(;t.length;)t.shift()()};o()}};document.addEventListener?(document.addEventListener("DOMContentLoaded",o,!1),e.isCordova&&(r++,document.addEventListener("deviceready",o,!1)),window.addEventListener("load",o,!1)):(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&o()}),window.attachEvent("load",o)),e.startup=function(r){var o=!document.addEventListener&&document.documentElement.doScroll;if(o&&window===top){try{o("left")}catch(i){return void setTimeout(function(){e.startup(r)},50)}r()}else n?r():t.push(r)}}.call(this),function(){var t=0;e._debug=function(){if(t)return void t--;if("undefined"!=typeof console&&"undefined"!=typeof console.log)if(0==arguments.length)console.log("");else if("function"==typeof console.log.apply){for(var e=!0,n=0;n<arguments.length;n++)"string"!=typeof arguments[n]&&(e=!1);e?console.log.apply(console,[Array.prototype.join.call(arguments," ")]):console.log.apply(console,arguments)}else if("function"==typeof Function.prototype.bind){var r=Function.prototype.bind.call(console.log,console);r.apply(console,arguments)}else Function.prototype.call.call(console.log,console,Array.prototype.slice.call(arguments))},e._suppress_log=function(e){t+=e},e._supressed_log_expected=function(){return 0!==t}}.call(this),function(){var n=0,r=[];e.EnvironmentVariable=function(){this.slot=n++},t.extend(e.EnvironmentVariable.prototype,{get:function(){return r[this.slot]},getOrNullIfOutsideFiber:function(){return this.get()},withValue:function(t,e){var n=r[this.slot];try{r[this.slot]=t;var o=e()}finally{r[this.slot]=n}return o}}),e.bindEnvironment=function(n,o,i){var a=t.clone(r);if(!o||"string"==typeof o){var u=o||"callback of async function";o=function(t){e._debug("Exception in "+u+":",t&&t.stack||t)}}return function(){var e=r;try{r=a;var u=n.apply(i,t.toArray(arguments))}catch(s){o(s)}finally{r=e}return u}},e._nodeCodeMustBeInFiber=function(){}}.call(this),function(){e.absoluteUrl=function(n,r){r||"object"!=typeof n||(r=n,n=void 0),r=t.extend({},e.absoluteUrl.defaultOptions,r||{});var o=r.rootUrl;if(!o)throw new Error("Must pass options.rootUrl or set ROOT_URL in the server environment");return/^http[s]?:\/\//i.test(o)||(o="http://"+o),/\/$/.test(o)||(o+="/"),n&&(o+=n),r.secure&&/^http:/.test(o)&&!/http:\/\/localhost[:\/]/.test(o)&&!/http:\/\/127\.0\.0\.1[:\/]/.test(o)&&(o=o.replace(/^http:/,"https:")),r.replaceLocalhost&&(o=o.replace(/^http:\/\/localhost([:\/].*)/,"http://127.0.0.1$1")),o},e.absoluteUrl.defaultOptions={},"object"==typeof __meteor_runtime_config__&&__meteor_runtime_config__.ROOT_URL&&(e.absoluteUrl.defaultOptions.rootUrl=__meteor_runtime_config__.ROOT_URL),e._relativeToSiteRootUrl=function(t){return"object"==typeof __meteor_runtime_config__&&"/"===t.substr(0,1)&&(t=(__meteor_runtime_config__.ROOT_URL_PATH_PREFIX||"")+t),t}}.call(this),"undefined"==typeof Package&&(Package={}),Package.meteor={Meteor:e}}();

!function(){var Meteor=Package.meteor.Meteor,JSON;(function(){window.JSON&&(JSON=window.JSON)}).call(this),function(){"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(t){return 10>t?"0"+t:t}function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var n,r,o,f,u=gap,i,a=e[t];switch(a&&"object"==typeof a&&"function"==typeof a.toJSON&&(a=a.toJSON(t)),"function"==typeof rep&&(a=rep.call(e,t,a)),typeof a){case"string":return quote(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a)return"null";if(gap+=indent,i=[],"[object Array]"===Object.prototype.toString.apply(a)){for(f=a.length,n=0;f>n;n+=1)i[n]=str(n,a)||"null";return o=0===i.length?"[]":gap?"[\n"+gap+i.join(",\n"+gap)+"\n"+u+"]":"["+i.join(",")+"]",gap=u,o}if(rep&&"object"==typeof rep)for(f=rep.length,n=0;f>n;n+=1)"string"==typeof rep[n]&&(r=rep[n],o=str(r,a),o&&i.push(quote(r)+(gap?": ":":")+o));else for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(o=str(r,a),o&&i.push(quote(r)+(gap?": ":":")+o));return o=0===i.length?"{}":gap?"{\n"+gap+i.join(",\n"+gap)+"\n"+u+"}":"{"+i.join(",")+"}",gap=u,o}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(t){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(t){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(t,e,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;n>r;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(t,e){var n,r,o=t[e];if(o&&"object"==typeof o)for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(r=walk(o,n),void 0!==r?o[n]=r:delete o[n]);return reviver.call(t,e,o)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()}.call(this),"undefined"==typeof Package&&(Package={}),Package.json={JSON:JSON}}();

!function(){var n=Package.meteor.Meteor,r;(function(){for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e={},a=0;a<n.length;a++)e[n.charAt(a)]=a;r={},r.encode=function(n){if("string"==typeof n){var e=n;n=r.newBinary(e.length);for(var a=0;a<e.length;a++){var l=e.charCodeAt(a);if(l>255)throw new Error("Not ascii. Base64.encode can only take ascii strings.");n[a]=l}}for(var u=[],i=null,o=null,c=null,s=null,a=0;a<n.length;a++)switch(a%3){case 0:i=n[a]>>2&63,o=(3&n[a])<<4;break;case 1:o|=n[a]>>4&15,c=(15&n[a])<<2;break;case 2:c|=n[a]>>6&3,s=63&n[a],u.push(t(i)),u.push(t(o)),u.push(t(c)),u.push(t(s)),i=null,o=null,c=null,s=null}return null!=i&&(u.push(t(i)),u.push(t(o)),u.push(null==c?"=":t(c)),null==s&&u.push("=")),u.join("")};var t=function(r){return n.charAt(r)},l=function(n){return"="===n?-1:e[n]};r.newBinary=function(n){if("undefined"==typeof Uint8Array||"undefined"==typeof ArrayBuffer){for(var r=[],e=0;n>e;e++)r.push(0);return r.$Uint8ArrayPolyfill=!0,r}return new Uint8Array(new ArrayBuffer(n))},r.decode=function(n){var e=Math.floor(3*n.length/4);"="==n.charAt(n.length-1)&&(e--,"="==n.charAt(n.length-2)&&e--);for(var a=r.newBinary(e),t=null,u=null,i=null,o=0,c=0;c<n.length;c++){var s=n.charAt(c),f=l(s);switch(c%4){case 0:if(0>f)throw new Error("invalid base64 string");t=f<<2;break;case 1:if(0>f)throw new Error("invalid base64 string");t|=f>>4,a[o++]=t,u=(15&f)<<4;break;case 2:f>=0&&(u|=f>>2,a[o++]=u,i=(3&f)<<6);break;case 3:f>=0&&(a[o++]=i|f)}}return a}}).call(this),"undefined"==typeof Package&&(Package={}),Package.base64={Base64:r}}();

!function(){var n=Package.meteor.Meteor,e=Package.json.JSON,t=Package.underscore._,r=Package.base64.Base64,u,a;(function(){u={},a={};var i={};u.addType=function(n,e){if(t.has(i,n))throw new Error("Type "+n+" already present");i[n]=e};var o=function(n){return t.isNaN(n)||n===1/0||n===-(1/0)},f=[{matchJSONValue:function(n){return t.has(n,"$date")&&1===t.size(n)},matchObject:function(n){return n instanceof Date},toJSONValue:function(n){return{$date:n.getTime()}},fromJSONValue:function(n){return new Date(n.$date)}},{matchJSONValue:function(n){return t.has(n,"$InfNaN")&&1===t.size(n)},matchObject:o,toJSONValue:function(n){var e;return e=t.isNaN(n)?0:n===1/0?1:-1,{$InfNaN:e}},fromJSONValue:function(n){return n.$InfNaN/0}},{matchJSONValue:function(n){return t.has(n,"$binary")&&1===t.size(n)},matchObject:function(n){return"undefined"!=typeof Uint8Array&&n instanceof Uint8Array||n&&t.has(n,"$Uint8ArrayPolyfill")},toJSONValue:function(n){return{$binary:r.encode(n)}},fromJSONValue:function(n){return r.decode(n.$binary)}},{matchJSONValue:function(n){return t.has(n,"$escape")&&1===t.size(n)},matchObject:function(n){return t.isEmpty(n)||t.size(n)>2?!1:t.any(f,function(e){return e.matchJSONValue(n)})},toJSONValue:function(n){var e={};return t.each(n,function(n,t){e[t]=u.toJSONValue(n)}),{$escape:e}},fromJSONValue:function(n){var e={};return t.each(n.$escape,function(n,t){e[t]=u.fromJSONValue(n)}),e}},{matchJSONValue:function(n){return t.has(n,"$type")&&t.has(n,"$value")&&2===t.size(n)},matchObject:function(n){return u._isCustomType(n)},toJSONValue:function(e){var t=n._noYieldsAllowed(function(){return e.toJSONValue()});return{$type:e.typeName(),$value:t}},fromJSONValue:function(e){var r=e.$type;if(!t.has(i,r))throw new Error("Custom EJSON type "+r+" is not defined");var u=i[r];return n._noYieldsAllowed(function(){return u(e.$value)})}}];u._isCustomType=function(n){return n&&"function"==typeof n.toJSONValue&&"function"==typeof n.typeName&&t.has(i,n.typeName())};var c=u._adjustTypesToJSONValue=function(n){if(null===n)return null;var e=l(n);return void 0!==e?e:"object"!=typeof n?n:(t.each(n,function(e,t){if("object"==typeof e||void 0===e||o(e)){var r=l(e);return r?void(n[t]=r):void c(e)}}),n)},l=function(n){for(var e=0;e<f.length;e++){var t=f[e];if(t.matchObject(n))return t.toJSONValue(n)}return void 0};u.toJSONValue=function(n){var e=l(n);return void 0!==e?e:("object"==typeof n&&(n=u.clone(n),c(n)),n)};var s=u._adjustTypesFromJSONValue=function(n){if(null===n)return null;var e=y(n);return e!==n?e:"object"!=typeof n?n:(t.each(n,function(e,t){if("object"==typeof e){var r=y(e);if(e!==r)return void(n[t]=r);s(e)}}),n)},y=function(n){if("object"==typeof n&&null!==n&&t.size(n)<=2&&t.all(n,function(n,e){return"string"==typeof e&&"$"===e.substr(0,1)}))for(var e=0;e<f.length;e++){var r=f[e];if(r.matchJSONValue(n))return r.fromJSONValue(n)}return n};u.fromJSONValue=function(n){var e=y(n);return e===n&&"object"==typeof n?(n=u.clone(n),s(n),n):e},u.stringify=function(n,t){var r=u.toJSONValue(n);return t&&(t.canonical||t.indent)?u._canonicalStringify(r,t):e.stringify(r)},u.parse=function(n){if("string"!=typeof n)throw new Error("EJSON.parse argument should be a string");return u.fromJSONValue(e.parse(n))},u.isBinary=function(n){return!!("undefined"!=typeof Uint8Array&&n instanceof Uint8Array||n&&n.$Uint8ArrayPolyfill)},u.equals=function(n,e,r){var a,i=!(!r||!r.keyOrderSensitive);if(n===e)return!0;if(t.isNaN(n)&&t.isNaN(e))return!0;if(!n||!e)return!1;if("object"!=typeof n||"object"!=typeof e)return!1;if(n instanceof Date&&e instanceof Date)return n.valueOf()===e.valueOf();if(u.isBinary(n)&&u.isBinary(e)){if(n.length!==e.length)return!1;for(a=0;a<n.length;a++)if(n[a]!==e[a])return!1;return!0}if("function"==typeof n.equals)return n.equals(e,r);if("function"==typeof e.equals)return e.equals(n,r);if(n instanceof Array){if(!(e instanceof Array))return!1;if(n.length!==e.length)return!1;for(a=0;a<n.length;a++)if(!u.equals(n[a],e[a],r))return!1;return!0}switch(u._isCustomType(n)+u._isCustomType(e)){case 1:return!1;case 2:return u.equals(u.toJSONValue(n),u.toJSONValue(e))}var o;if(i){var f=[];return t.each(e,function(n,e){f.push(e)}),a=0,o=t.all(n,function(n,t){return a>=f.length?!1:t!==f[a]?!1:u.equals(n,e[f[a]],r)?(a++,!0):!1}),o&&a===f.length}return a=0,o=t.all(n,function(n,i){return t.has(e,i)&&u.equals(n,e[i],r)?(a++,!0):!1}),o&&t.size(e)===a},u.clone=function(n){var e;if("object"!=typeof n)return n;if(null===n)return null;if(n instanceof Date)return new Date(n.getTime());if(n instanceof RegExp)return n;if(u.isBinary(n)){e=u.newBinary(n.length);for(var r=0;r<n.length;r++)e[r]=n[r];return e}if(t.isArray(n)||t.isArguments(n)){for(e=[],r=0;r<n.length;r++)e[r]=u.clone(n[r]);return e}return"function"==typeof n.clone?n.clone():u._isCustomType(n)?u.fromJSONValue(u.clone(u.toJSONValue(n)),!0):(e={},t.each(n,function(n,t){e[t]=u.clone(n)}),e)},u.newBinary=r.newBinary}).call(this),function(){function n(n){return e.stringify(n)}var r=function(e,u,a,i,o){var f,c,l,s,y=i,h,N=u[e];switch(typeof N){case"string":return n(N);case"number":return isFinite(N)?String(N):"null";case"boolean":return String(N);case"object":if(!N)return"null";if(y=i+a,h=[],t.isArray(N)||t.isArguments(N)){for(s=N.length,f=0;s>f;f+=1)h[f]=r(f,N,a,y,o)||"null";return l=0===h.length?"[]":y?"[\n"+y+h.join(",\n"+y)+"\n"+i+"]":"["+h.join(",")+"]"}var p=t.keys(N);return o&&(p=p.sort()),t.each(p,function(e){l=r(e,N,a,y,o),l&&h.push(n(e)+(y?": ":":")+l)}),l=0===h.length?"{}":y?"{\n"+y+h.join(",\n"+y)+"\n"+i+"}":"{"+h.join(",")+"}"}};u._canonicalStringify=function(n,e){if(e=t.extend({indent:"",canonical:!1},e),e.indent===!0)e.indent="  ";else if("number"==typeof e.indent){for(var u="",a=0;a<e.indent;a++)u+=" ";e.indent=u}return r("",{"":n},e.indent,"",e.canonical)}}.call(this),"undefined"==typeof Package&&(Package={}),Package.ejson={EJSON:u,EJSONTest:a}}();

!function(){var e=Package.meteor.Meteor,t=Package.underscore._,r=Package.ejson.EJSON,n;(function(){n=function(){return n.info.apply(this,arguments)};var i=0,o=[],a=0;n._intercept=function(e){i+=e},n._suppress=function(e){a+=e},n._intercepted=function(){var e=o;return o=[],i=0,e},n.outputFormat="json";var s={debug:"green",warn:"magenta",error:"red"},l="blue",c=["time","timeInexact","level","file","line","program","originApp","satellite","stderr"],u=c.concat(["app","message"]),g=function(t){var r=n.format(t),i=t.level;"undefined"!=typeof console&&console[i]?console[i](r):e._debug(r)};n._getCallerDetails=function(){var e=function(){var e=new Error,t=e.stack;return t},t=e();if(!t)return{};for(var r=t.split("\n"),n,i=1;i<r.length;++i){if(n=r[i],n.match(/^\s*at eval \(eval/))return{file:"eval"};if(!n.match(/packages\/(?:local-test:)?logging(?:\/|\.js)/))break}var o={},a=/(?:[@(]| at )([^(]+?):([0-9:]+)(?:\)|$)/.exec(n);return a?(o.line=a[2].split(":")[0],o.file=a[1].split("/").slice(-1)[0].split("?")[0],o):o},t.each(["debug","info","warn","error"],function(s){n[s]=function(l){if(a)return void a--;var u=!1;i&&(i--,u=!0);var f=!t.isObject(l)||t.isRegExp(l)||t.isDate(l)?{message:new String(l).toString()}:l;if(t.each(c,function(e){if(f[e])throw new Error("Can't set '"+e+"' in log message")}),t.has(f,"message")&&!t.isString(f.message))throw new Error("The 'message' field in log objects must be a string");if(f.omitCallerDetails||(f=t.extend(n._getCallerDetails(),f)),f.time=new Date,f.level=s,"debug"!==s)if(u)o.push(r.stringify(f));else if(e.isServer)if("colored-text"===n.outputFormat)console.log(n.format(f,{color:!0}));else{if("json"!==n.outputFormat)throw new Error("Unknown logging output format: "+n.outputFormat);console.log(r.stringify(f))}else g(f)}}),n.parse=function(e){var t=null;if(e&&"{"===e.charAt(0))try{t=r.parse(e)}catch(n){}return t&&t.time&&t.time instanceof Date?t:null},n.format=function(n,i){n=r.clone(n),i=i||{};var o=n.time;if(!(o instanceof Date))throw new Error("'time' must be a Date object");var a=n.timeInexact,c=n.level||"info",g=n.file,f=n.line,m=n.app||"",p=n.originApp,v=n.message||"",h=n.program||"",d=n.satellite,w=n.stderr||"";t.each(u,function(e){delete n[e]}),t.isEmpty(n)||(v&&(v+=" "),v+=r.stringify(n));var b=function(e){return 10>e?"0"+e:e.toString()},D=function(e){return 100>e?"0"+b(e):e.toString()},j=o.getFullYear().toString()+b(o.getMonth()+1)+b(o.getDate()),S=b(o.getHours())+":"+b(o.getMinutes())+":"+b(o.getSeconds())+"."+D(o.getMilliseconds()),k="("+-((new Date).getTimezoneOffset()/60)+")",E="";m&&(E+=m),p&&p!==m&&(E+=" via "+p),E&&(E="["+E+"] ");var x=[];h&&x.push(h),g&&x.push(g),f&&x.push(f);var y=t.isEmpty(x)?"":"("+x.join(":")+") ";d&&(y+=["[",d,"]"].join(""));var _=w?"(STDERR) ":"",C=[c.charAt(0).toUpperCase(),j,"-",S,k,a?"? ":" ",E,y,_].join(""),F=function(t,r){return i.color&&e.isServer&&r?Npm.require("cli-color")[r](t):t};return F(C,i.metaColor||l)+F(v,s[c])},n.objFromText=function(e,r){var n={message:e,level:"info",time:new Date,timeInexact:!0};return t.extend(n,r)}}).call(this),"undefined"==typeof Package&&(Package={}),Package.logging={Log:n}}();

!function(){var a=Package.meteor.Meteor,e=Package.underscore._,t=Package.logging.Log,o=Package.json.JSON,n;(function(){n={};var t="Meteor_Reload",r={},i,l=null;try{l=window.sessionStorage,l?(l.setItem("__dummy__","1"),l.removeItem("__dummy__")):l=null}catch(g){l=null}n._getData=function(){return l&&l.getItem(t)},l&&(i=n._getData(),l.removeItem(t)),i||(i="{}");var c={};try{c=o.parse(i),"object"!=typeof c&&(a._debug("Got bad data on reload. Ignoring."),c={})}catch(d){a._debug("Got invalid JSON on reload. Ignoring.")}c.reload&&"object"==typeof c.data&&(r=c.data);var u=[];n._onMigrate=function(a,e){e||(e=a,a=void 0),u.push({name:a,callback:e})},n._migrationData=function(a){return r[a]};var s=function(a,t){a=a||function(){},t=t||{};for(var o={},n=e.clone(u),r=!0;n.length;){var i=n.shift(),l=i.callback(a,t);l[0]||(r=!1),l.length>1&&i.name&&(o[i.name]=l[1])}return r||t.immediateMigration?o:null};n._migrate=function(e,n){var r=s(e,n);if(null===r)return!1;try{var i=o.stringify({data:r,reload:!0})}catch(g){throw a._debug("Couldn't serialize data for migration",r),g}if(l)try{l.setItem(t,i)}catch(g){a._debug("Couldn't save data for migration to sessionStorage",g)}else a._debug("Browser does not support sessionStorage. Not saving migration state.");return!0},n._withFreshProvidersForTest=function(a){var t=e.clone(u);u=[];try{a()}finally{u=t}};var f=!1;n._reload=function(a){if(a=a||{},!f){f=!0;var t=function(){e.defer(function(){n._migrate(t,a)&&window.location.reload()})};t()}}}).call(this),function(){a._reload={onMigrate:n._onMigrate,migrationData:n._migrationData,reload:n._reload}}.call(this),"undefined"==typeof Package&&(Package={}),Package.reload={Reload:n}}();

!function(){var n=Package.meteor.Meteor,t,e;(function(){t={},t.active=!1,t.currentComputation=null,t._computations={};var e=function(n){t.currentComputation=n,t.active=!!n},r=function(){return"undefined"!=typeof n?n._debug:"undefined"!=typeof console&&console.error?function(){console.error.apply(console,arguments)}:function(){}},o=function(t){"undefined"!=typeof n&&n._supressed_log_expected()&&n._suppress_log(t-1)},i=function(n,t){if(d)throw t;var e=["Exception from Tracker "+n+" function:"];if(t.stack&&t.message&&t.name){var i=t.stack.indexOf(t.message);if(0>i||i>t.name.length+2){var a=t.name+": "+t.message;e.push(a)}}e.push(t.stack),o(e.length);for(var u=0;u<e.length;u++)r()(e[u])},a=function(t){return"undefined"==typeof n||n.isClient?t:function(){var e=arguments;n._noYieldsAllowed(function(){t.apply(null,e)})}},u=1,c=[],s=!1,f=!1,p=!1,d=!1,l=[],h=function(){s||("undefined"!=typeof n?n._setImmediate(t._runFlush):setTimeout(t._runFlush,0),s=!0)},v=!1;t.Computation=function(n,e,r){if(!v)throw new Error("Tracker.Computation constructor is private; use Tracker.autorun");v=!1;var o=this;o.stopped=!1,o.invalidated=!1,o.firstRun=!0,o._id=u++,o._onInvalidateCallbacks=[],o._parent=e,o._func=n,o._onError=r,o._recomputing=!1,t._computations[o._id]=o;var i=!0;try{o._compute(),i=!1}finally{o.firstRun=!1,i&&o.stop()}},t.Computation.prototype.onInvalidate=function(n){var e=this;if("function"!=typeof n)throw new Error("onInvalidate requires a function");e.invalidated?t.nonreactive(function(){a(n)(e)}):e._onInvalidateCallbacks.push(n)},t.Computation.prototype.invalidate=function(){var n=this;if(!n.invalidated){n._recomputing||n.stopped||(h(),c.push(this)),n.invalidated=!0;for(var e=0,r;r=n._onInvalidateCallbacks[e];e++)t.nonreactive(function(){a(r)(n)});n._onInvalidateCallbacks=[]}},t.Computation.prototype.stop=function(){this.stopped||(this.stopped=!0,this.invalidate(),delete t._computations[this._id])},t.Computation.prototype._compute=function(){var n=this;n.invalidated=!1;var r=t.currentComputation;e(n);var o=p;p=!0;try{a(n._func)(n)}finally{e(r),p=o}},t.Computation.prototype._needsRecompute=function(){var n=this;return n.invalidated&&!n.stopped},t.Computation.prototype._recompute=function(){var n=this;n._recomputing=!0;try{if(n._needsRecompute())try{n._compute()}catch(t){n._onError?n._onError(t):i("recompute",t)}}finally{n._recomputing=!1}},t.Dependency=function(){this._dependentsById={}},t.Dependency.prototype.depend=function(n){if(!n){if(!t.active)return!1;n=t.currentComputation}var e=this,r=n._id;return r in e._dependentsById?!1:(e._dependentsById[r]=n,n.onInvalidate(function(){delete e._dependentsById[r]}),!0)},t.Dependency.prototype.changed=function(){var n=this;for(var t in n._dependentsById)n._dependentsById[t].invalidate()},t.Dependency.prototype.hasDependents=function(){var n=this;for(var t in n._dependentsById)return!0;return!1},t.flush=function(n){t._runFlush({finishSynchronously:!0,throwFirstError:n&&n._throwFirstError})},t._runFlush=function(n){if(f)throw new Error("Can't call Tracker.flush while flushing");if(p)throw new Error("Can't flush inside Tracker.autorun");n=n||{},f=!0,s=!0,d=!!n.throwFirstError;var e=0,r=!1;try{for(;c.length||l.length;){for(;c.length;){var o=c.shift();if(o._recompute(),o._needsRecompute()&&c.unshift(o),!n.finishSynchronously&&++e>1e3)return void(r=!0)}if(l.length){var a=l.shift();try{a()}catch(u){i("afterFlush",u)}}}r=!0}finally{if(r||(f=!1,t._runFlush({finishSynchronously:n.finishSynchronously,throwFirstError:!1})),s=!1,f=!1,c.length||l.length){if(n.finishSynchronously)throw new Error("still have more to do?");setTimeout(h,10)}}},t.autorun=function(n,e){if("function"!=typeof n)throw new Error("Tracker.autorun requires a function argument");e=e||{},v=!0;var r=new t.Computation(n,t.currentComputation,e.onError);return t.active&&t.onInvalidate(function(){r.stop()}),r},t.nonreactive=function(n){var r=t.currentComputation;e(null);try{return n()}finally{e(r)}},t.onInvalidate=function(n){if(!t.active)throw new Error("Tracker.onInvalidate requires a currentComputation");t.currentComputation.onInvalidate(n)},t.afterFlush=function(n){l.push(n),h()}}).call(this),function(){n.flush=t.flush,n.autorun=t.autorun,n.autosubscribe=t.autorun,t.depend=function(n){return n.depend()},e=t}.call(this),"undefined"==typeof Package&&(Package={}),Package.tracker={Tracker:t,Deps:e}}();

!function(){var e=Package.meteor.Meteor,n=Package.underscore._,t;(function(){if(e.isServer)var n=Npm.require("crypto");var r=function(){function e(){var e=4022871197,n=function(n){n=n.toString();for(var t=0;t<n.length;t++){e+=n.charCodeAt(t);var r=.02519603282416938*e;e=r>>>0,r-=e,r*=e,e=r>>>0,r-=e,e+=4294967296*r}return 2.3283064365386963e-10*(e>>>0)};return n.version="Mash 0.9",n}return function(n){var t=0,r=0,o=0,i=1;0==n.length&&(n=[+new Date]);var a=e();t=a(" "),r=a(" "),o=a(" ");for(var u=0;u<n.length;u++)t-=a(n[u]),0>t&&(t+=1),r-=a(n[u]),0>r&&(r+=1),o-=a(n[u]),0>o&&(o+=1);a=null;var d=function(){var e=2091639*t+2.3283064365386963e-10*i;return t=r,r=o,o=e-(i=0|e)};return d.uint32=function(){return 4294967296*d()},d.fract53=function(){return d()+1.1102230246251565e-16*(2097152*d()|0)},d.version="Alea 0.9",d.args=n,d}(Array.prototype.slice.call(arguments))},o="23456789ABCDEFGHJKLMNPQRSTWXYZabcdefghijkmnopqrstuvwxyz",i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-_",a=function(e){var n=this;void 0!==e&&(n.alea=r.apply(null,e))};a.prototype.fraction=function(){var e=this;if(e.alea)return e.alea();if(n){var t=parseInt(e.hexString(8),16);return 2.3283064365386963e-10*t}if("undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues){var r=new Uint32Array(1);return window.crypto.getRandomValues(r),2.3283064365386963e-10*r[0]}throw new Error("No random generator available")},a.prototype.hexString=function(e){var t=this;if(n&&!t.alea){var r=Math.ceil(e/2),o;try{o=n.randomBytes(r)}catch(i){o=n.pseudoRandomBytes(r)}var a=o.toString("hex");return a.substring(0,e)}for(var u=[],d=0;e>d;++d)u.push(t.choice("0123456789abcdef"));return u.join("")},a.prototype._randomString=function(e,n){for(var t=this,r=[],o=0;e>o;o++)r[o]=t.choice(n);return r.join("")},a.prototype.id=function(e){var n=this;return void 0===e&&(e=17),n._randomString(e,o)},a.prototype.secret=function(e){var n=this;return void 0===e&&(e=43),n._randomString(e,i)},a.prototype.choice=function(e){var n=Math.floor(this.fraction()*e.length);return"string"==typeof e?e.substr(n,1):e[n]};var u="undefined"!=typeof window&&window.innerHeight||"undefined"!=typeof document&&document.documentElement&&document.documentElement.clientHeight||"undefined"!=typeof document&&document.body&&document.body.clientHeight||1,d="undefined"!=typeof window&&window.innerWidth||"undefined"!=typeof document&&document.documentElement&&document.documentElement.clientWidth||"undefined"!=typeof document&&document.body&&document.body.clientWidth||1,c="undefined"!=typeof navigator&&navigator.userAgent||"";t=n||"undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues?new a:new a([new Date,u,d,c,Math.random()]),t.createWithSeeds=function(){if(0===arguments.length)throw new Error("No seeds were provided");return new a(arguments)}}).call(this),function(){e.uuid=function(){for(var e="0123456789abcdef",n=[],r=0;36>r;r++)n[r]=t.choice(e);n[14]="4",n[19]=e.substr(3&parseInt(n[19],16)|8,1),n[8]=n[13]=n[18]=n[23]="-";var o=n.join("");return o}}.call(this),"undefined"==typeof Package&&(Package={}),Package.random={Random:t}}();

!function(){var e=Package.meteor.Meteor,t=Package.underscore._,r=Package.random.Random,i;(function(){i=function(e){var r=this;t.extend(r,t.defaults(t.clone(e||{}),{baseTimeout:1e3,exponent:2.2,maxTimeout:3e5,minTimeout:10,minCount:2,fuzz:.5})),r.retryTimer=null},t.extend(i.prototype,{clear:function(){var e=this;e.retryTimer&&clearTimeout(e.retryTimer),e.retryTimer=null},_timeout:function(e){var t=this;if(e<t.minCount)return t.minTimeout;var i=Math.min(t.maxTimeout,t.baseTimeout*Math.pow(t.exponent,e));return i*=r.fraction()*t.fuzz+(1-t.fuzz/2)},retryLater:function(t,r){var i=this,n=i._timeout(t);return i.retryTimer&&clearTimeout(i.retryTimer),i.retryTimer=e.setTimeout(r,n),n}})}).call(this),"undefined"==typeof Package&&(Package={}),Package.retry={Retry:i}}();

!function(){var e=Package.meteor.Meteor,t=Package.underscore._,r=Package.ejson.EJSON,n,i;(function(){var o=new e.EnvironmentVariable;n=function(e,t){var r=o.getOrNullIfOutsideFiber();r&&r.checking(e);try{l(e,t)}catch(n){throw n instanceof i.Error&&n.path&&(n.message+=" in field "+n.path),n}},i={Optional:function(e){return new a(e)},OneOf:function(){return new c(t.toArray(arguments))},Any:["__any__"],Where:function(e){return new f(e)},ObjectIncluding:function(e){return new s(e)},ObjectWithValues:function(e){return new h(e)},Integer:["__integer__"],Error:e.makeErrorType("Match.Error",function(t){this.message="Match error: "+t,this.path="",this.sanitizedError=new e.Error(400,"Match failed")}),test:function(e,t){try{return l(e,t),!0}catch(r){if(r instanceof i.Error)return!1;throw r}},_failIfArgumentsAreNotAllChecked:function(e,t,r,n){var i=new p(r,n),a=o.withValue(i,function(){return e.apply(t,r)});return i.throwUnlessAllArgumentsHaveBeenChecked(),a}};var a=function(e){this.pattern=e},c=function(e){if(t.isEmpty(e))throw new Error("Must provide at least one choice to Match.OneOf");this.choices=e},f=function(e){this.condition=e},s=function(e){this.pattern=e},h=function(e){this.pattern=e},u=[[String,"string"],[Number,"number"],[Boolean,"boolean"],[void 0,"undefined"]],l=function(e,n){if(n!==i.Any){for(var o=0;o<u.length;++o)if(n===u[o][0]){if(typeof e===u[o][1])return;throw new i.Error("Expected "+u[o][1]+", got "+typeof e)}if(null===n){if(null===e)return;throw new i.Error("Expected null, got "+r.stringify(e))}if("string"==typeof n||"number"==typeof n){if(e===n)return;throw new i.Error("Expected "+n+", got "+r.stringify(e))}if(n===i.Integer){if("number"==typeof e&&(0|e)===e)return;throw new i.Error("Expected Integer, got "+(e instanceof Object?r.stringify(e):e))}if(n===Object&&(n=i.ObjectIncluding({})),n instanceof Array){if(1!==n.length)throw Error("Bad pattern: arrays must have one type element"+r.stringify(n));if(!t.isArray(e)&&!t.isArguments(e))throw new i.Error("Expected array, got "+r.stringify(e));return void t.each(e,function(e,t){try{l(e,n[0])}catch(r){throw r instanceof i.Error&&(r.path=w(t,r.path)),r}})}if(n instanceof f){if(n.condition(e))return;throw new i.Error("Failed Match.Where validation")}if(n instanceof a&&(n=i.OneOf(void 0,n.pattern)),n instanceof c){for(var o=0;o<n.choices.length;++o)try{return void l(e,n.choices[o])}catch(p){if(!(p instanceof i.Error))throw p}throw new i.Error("Failed Match.OneOf or Match.Optional validation")}if(n instanceof Function){if(e instanceof n)return;throw new i.Error("Expected "+(n.name||"particular constructor"))}var g=!1,d;if(n instanceof s&&(g=!0,n=n.pattern),n instanceof h&&(g=!0,d=[n.pattern],n={}),"object"!=typeof n)throw Error("Bad pattern: unknown pattern type");if("object"!=typeof e)throw new i.Error("Expected object, got "+typeof e);if(null===e)throw new i.Error("Expected object, got null");if(e.constructor!==Object)throw new i.Error("Expected plain object");var y={},E={};t.each(n,function(e,t){e instanceof a?E[t]=e.pattern:y[t]=e}),t.each(e,function(e,r){try{if(t.has(y,r))l(e,y[r]),delete y[r];else if(t.has(E,r))l(e,E[r]);else{if(!g)throw new i.Error("Unknown key");d&&l(e,d[0])}}catch(n){throw n instanceof i.Error&&(n.path=w(r,n.path)),n}}),t.each(y,function(e,t){throw new i.Error("Missing key '"+t+"'")})}},p=function(e,r){var n=this;n.args=t.clone(e),n.args.reverse(),n.description=r};t.extend(p.prototype,{checking:function(e){var r=this;r._checkingOneValue(e)||(t.isArray(e)||t.isArguments(e))&&t.each(e,t.bind(r._checkingOneValue,r))},_checkingOneValue:function(e){for(var r=this,n=0;n<r.args.length;++n)if(e===r.args[n]||t.isNaN(e)&&t.isNaN(r.args[n]))return r.args.splice(n,1),!0;return!1},throwUnlessAllArgumentsHaveBeenChecked:function(){var e=this;if(!t.isEmpty(e.args))throw new Error("Did not check() all arguments during "+e.description)}});var g=["do","if","in","for","let","new","try","var","case","else","enum","eval","false","null","this","true","void","with","break","catch","class","const","super","throw","while","yield","delete","export","import","public","return","static","switch","typeof","default","extends","finally","package","private","continue","debugger","function","arguments","interface","protected","implements","instanceof"],w=function(e,r){return"number"==typeof e||e.match(/^[0-9]+$/)?e="["+e+"]":(!e.match(/^[a-z_$][0-9a-z_$]*$/i)||t.contains(g,e))&&(e=JSON.stringify([e])),r&&"["!==r[0]?e+"."+r:e+r}}).call(this),"undefined"==typeof Package&&(Package={}),Package.check={check:n,Match:i}}();

!function(){var i=Package.meteor.Meteor,t=Package.underscore._,a=Package.json.JSON,n=Package.ejson.EJSON,e;(function(){e=function(i,t){var n=this;n._map={},n._idStringify=i||a.stringify,n._idParse=t||a.parse},t.extend(e.prototype,{get:function(i){var t=this,a=t._idStringify(i);return t._map[a]},set:function(i,t){var a=this,n=a._idStringify(i);a._map[n]=t},remove:function(i){var t=this,a=t._idStringify(i);delete t._map[a]},has:function(i){var a=this,n=a._idStringify(i);return t.has(a._map,n)},empty:function(){var i=this;return t.isEmpty(i._map)},clear:function(){var i=this;i._map={}},forEach:function(i){for(var a=this,n=t.keys(a._map),e=0;e<n.length;e++){var r=i.call(null,a._map[n[e]],a._idParse(n[e]));if(r===!1)return}},size:function(){var i=this;return t.size(i._map)},setDefault:function(i,a){var n=this,e=n._idStringify(i);return t.has(n._map,e)?n._map[e]:(n._map[e]=a,a)},clone:function(){var i=this,t=new e(i._idStringify,i._idParse);return i.forEach(function(i,a){t.set(a,n.clone(i))}),t}})}).call(this),"undefined"==typeof Package&&(Package={}),Package["id-map"]={IdMap:e}}();

!function(){var t=Package.meteor.Meteor,e=Package.underscore._,r;(function(){var t=function(t,e,r,n){return{key:t,value:e,next:r,prev:n}};r=function(){var t=this;t._dict={},t._first=null,t._last=null,t._size=0;var r=e.toArray(arguments);t._stringify=function(t){return t},"function"==typeof r[0]&&(t._stringify=r.shift()),e.each(r,function(e){t.putBefore(e[0],e[1],null)})},e.extend(r.prototype,{_k:function(t){return" "+this._stringify(t)},empty:function(){var t=this;return!t._first},size:function(){var t=this;return t._size},_linkEltIn:function(t){var e=this;t.next?(t.prev=t.next.prev,t.next.prev=t,t.prev&&(t.prev.next=t)):(t.prev=e._last,e._last&&(e._last.next=t),e._last=t),(null===e._first||e._first===t.next)&&(e._first=t)},_linkEltOut:function(t){var e=this;t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next),t===e._last&&(e._last=t.prev),t===e._first&&(e._first=t.next)},putBefore:function(e,r,n){var i=this;if(i._dict[i._k(e)])throw new Error("Item "+e+" already present in OrderedDict");var o=n?t(e,r,i._dict[i._k(n)]):t(e,r,null);if(void 0===o.next)throw new Error("could not find item to put this one before");i._linkEltIn(o),i._dict[i._k(e)]=o,i._size++},append:function(t,e){var r=this;r.putBefore(t,e,null)},remove:function(t){var e=this,r=e._dict[e._k(t)];if(void 0===r)throw new Error("Item "+t+" not present in OrderedDict");return e._linkEltOut(r),e._size--,delete e._dict[e._k(t)],r.value},get:function(t){var e=this;return e.has(t)?e._dict[e._k(t)].value:void 0},has:function(t){var r=this;return e.has(r._dict,r._k(t))},forEach:function(t){for(var e=this,n=0,i=e._first;null!==i;){var o=t(i.value,i.key,n);if(o===r.BREAK)return;i=i.next,n++}},first:function(){var t=this;return t.empty()?void 0:t._first.key},firstValue:function(){var t=this;return t.empty()?void 0:t._first.value},last:function(){var t=this;return t.empty()?void 0:t._last.key},lastValue:function(){var t=this;return t.empty()?void 0:t._last.value},prev:function(t){var e=this;if(e.has(t)){var r=e._dict[e._k(t)];if(r.prev)return r.prev.key}return null},next:function(t){var e=this;if(e.has(t)){var r=e._dict[e._k(t)];if(r.next)return r.next.key}return null},moveBefore:function(t,e){var r=this,n=r._dict[r._k(t)],i=e?r._dict[r._k(e)]:null;if(void 0===n)throw new Error("Item to move is not present");if(void 0===i)throw new Error("Could not find element to move this one before");i!==n.next&&(r._linkEltOut(n),n.next=i,r._linkEltIn(n))},indexOf:function(t){var e=this,n=null;return e.forEach(function(i,o,u){return e._k(o)===e._k(t)?(n=u,r.BREAK):void 0}),n},_checkRep:function(){var t=this;e.each(t._dict,function(t,e){if(e.next===e)throw new Error("Next is a loop");if(e.prev===e)throw new Error("Prev is a loop")})}}),r.BREAK={"break":!0}}).call(this),"undefined"==typeof Package&&(Package={}),Package["ordered-dict"]={OrderedDict:r}}();

!function(){var t=Package.meteor.Meteor,n,o;(function(){o={exports:{}}}).call(this),function(){!function(){function t(t){for(var n=[],o=[],a=0;a<t[0].length;a++)n.push(t[0][a][1]),o.push(t[0][a][0]);return n=n.sort(function(t,n){return t-n}),o=o.sort(function(t,n){return t-n}),[[n[0],o[0]],[n[n.length-1],o[o.length-1]]]}function n(t,n,o){for(var a=[[0,0]],r=0;r<o.length;r++){for(var e=0;e<o[r].length;e++)a.push(o[r][e]);a.push([0,0])}for(var i=!1,r=0,e=a.length-1;r<a.length;e=r++)a[r][0]>n!=a[e][0]>n&&t<(a[e][1]-a[r][1])*(n-a[r][0])/(a[e][0]-a[r][0])+a[r][1]&&(i=!i);return i}var a={};"undefined"!=typeof o&&o.exports&&(o.exports=a),a.lineStringsIntersect=function(t,n){for(var o=[],a=0;a<=t.coordinates.length-2;++a)for(var r=0;r<=n.coordinates.length-2;++r){var e={x:t.coordinates[a][1],y:t.coordinates[a][0]},i={x:t.coordinates[a+1][1],y:t.coordinates[a+1][0]},s={x:n.coordinates[r][1],y:n.coordinates[r][0]},c={x:n.coordinates[r+1][1],y:n.coordinates[r+1][0]},u=(c.x-s.x)*(e.y-s.y)-(c.y-s.y)*(e.x-s.x),h=(i.x-e.x)*(e.y-s.y)-(i.y-e.y)*(e.x-s.x),d=(c.y-s.y)*(i.x-e.x)-(c.x-s.x)*(i.y-e.y);if(0!=d){var l=u/d,y=h/d;l>=0&&1>=l&&y>=0&&1>=y&&o.push({type:"Point",coordinates:[e.x+l*(i.x-e.x),e.y+l*(i.y-e.y)]})}}return 0==o.length&&(o=!1),o},a.pointInBoundingBox=function(t,n){return!(t.coordinates[1]<n[0][0]||t.coordinates[1]>n[1][0]||t.coordinates[0]<n[0][1]||t.coordinates[0]>n[1][1])},a.pointInPolygon=function(o,r){for(var e="Polygon"==r.type?[r.coordinates]:r.coordinates,i=!1,s=0;s<e.length;s++)a.pointInBoundingBox(o,t(e[s]))&&(i=!0);if(!i)return!1;for(var c=!1,s=0;s<e.length;s++)n(o.coordinates[1],o.coordinates[0],e[s])&&(c=!0);return c},a.numberToRadius=function(t){return t*Math.PI/180},a.numberToDegree=function(t){return 180*t/Math.PI},a.drawCircle=function(t,n,o){for(var r=[n.coordinates[1],n.coordinates[0]],e=t/1e3/6371,i=[a.numberToRadius(r[0]),a.numberToRadius(r[1])],o=o||15,s=[[r[0],r[1]]],c=0;o>c;c++){var u=2*Math.PI*c/o,h=Math.asin(Math.sin(i[0])*Math.cos(e)+Math.cos(i[0])*Math.sin(e)*Math.cos(u)),d=i[1]+Math.atan2(Math.sin(u)*Math.sin(e)*Math.cos(i[0]),Math.cos(e)-Math.sin(i[0])*Math.sin(h));s[c]=[],s[c][1]=a.numberToDegree(h),s[c][0]=a.numberToDegree(d)}return{type:"Polygon",coordinates:[s]}},a.rectangleCentroid=function(t){var n=t.coordinates[0],o=n[0][0],a=n[0][1],r=n[2][0],e=n[2][1],i=r-o,s=e-a;return{type:"Point",coordinates:[o+i/2,a+s/2]}},a.pointDistance=function(t,n){var o=t.coordinates[0],r=t.coordinates[1],e=n.coordinates[0],i=n.coordinates[1],s=a.numberToRadius(i-r),c=a.numberToRadius(e-o),u=Math.pow(Math.sin(s/2),2)+Math.cos(a.numberToRadius(r))*Math.cos(a.numberToRadius(i))*Math.pow(Math.sin(c/2),2),h=2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u));return 6371*h*1e3},a.geometryWithinRadius=function(t,n,o){if("Point"==t.type)return a.pointDistance(t,n)<=o;if("LineString"==t.type||"Polygon"==t.type){var r={},e;e="Polygon"==t.type?t.coordinates[0]:t.coordinates;for(var i in e)if(r.coordinates=e[i],a.pointDistance(r,n)>o)return!1}return!0},a.area=function(t){for(var n=0,o=t.coordinates[0],a=o.length-1,r,e,i=0;i<o.length;a=i++){var r={x:o[i][1],y:o[i][0]},e={x:o[a][1],y:o[a][0]};n+=r.x*e.y,n-=r.y*e.x}return n/=2},a.centroid=function(t){for(var n,o=0,r=0,e=t.coordinates[0],i=e.length-1,s,c,u=0;u<e.length;i=u++){var s={x:e[u][1],y:e[u][0]},c={x:e[i][1],y:e[i][0]};n=s.x*c.y-c.x*s.y,o+=(s.x+c.x)*n,r+=(s.y+c.y)*n}return n=6*a.area(t),{type:"Point",coordinates:[r/n,o/n]}},a.simplify=function(t,n){n=n||20,t=t.map(function(t){return{lng:t.coordinates[0],lat:t.coordinates[1]}});var o,a,r,e,i,s,c,u,h,d,l,y,M,f,g,x,p,v,P,b=Math.PI/180*.5,m=new Array,T=new Array,I=new Array;if(t.length<3)return t;for(o=t.length,d=360*n/(2*Math.PI*6378137),d*=d,r=0,T[0]=0,I[0]=o-1,a=1;a>0;)if(e=T[a-1],i=I[a-1],a--,i-e>1){for(l=t[i].lng()-t[e].lng(),y=t[i].lat()-t[e].lat(),Math.abs(l)>180&&(l=360-Math.abs(l)),l*=Math.cos(b*(t[i].lat()+t[e].lat())),M=l*l+y*y,s=e+1,c=e,h=-1;i>s;s++)f=t[s].lng()-t[e].lng(),g=t[s].lat()-t[e].lat(),Math.abs(f)>180&&(f=360-Math.abs(f)),f*=Math.cos(b*(t[s].lat()+t[e].lat())),x=f*f+g*g,p=t[s].lng()-t[i].lng(),v=t[s].lat()-t[i].lat(),Math.abs(p)>180&&(p=360-Math.abs(p)),p*=Math.cos(b*(t[s].lat()+t[i].lat())),P=p*p+v*v,u=x>=M+P?P:P>=M+x?x:(f*y-g*l)*(f*y-g*l)/M,u>h&&(c=s,h=u);d>h?(m[r]=e,r++):(a++,T[a-1]=c,I[a-1]=i,a++,T[a-1]=e,I[a-1]=c)}else m[r]=e,r++;m[r]=o-1,r++;for(var R=new Array,s=0;r>s;s++)R.push(t[m[s]]);return R.map(function(t){return{type:"Point",coordinates:[t.lng,t.lat]}})},a.destinationPoint=function(t,n,o){o/=6371,n=a.numberToRadius(n);var r=a.numberToRadius(t.coordinates[0]),e=a.numberToRadius(t.coordinates[1]),i=Math.asin(Math.sin(r)*Math.cos(o)+Math.cos(r)*Math.sin(o)*Math.cos(n)),s=e+Math.atan2(Math.sin(n)*Math.sin(o)*Math.cos(r),Math.cos(o)-Math.sin(r)*Math.sin(i));return s=(s+3*Math.PI)%(2*Math.PI)-Math.PI,{type:"Point",coordinates:[a.numberToDegree(i),a.numberToDegree(s)]}}}()}.call(this),function(){n=o.exports}.call(this),"undefined"==typeof Package&&(Package={}),Package["geojson-utils"]={GeoJSON:n}}();

!function(){var e=Package.meteor.Meteor,r=Package.underscore._,t=Package.json.JSON,n=Package.ejson.EJSON,o=Package["id-map"].IdMap,i=Package["ordered-dict"].OrderedDict,a=Package.tracker.Tracker,s=Package.tracker.Deps,c=Package.random.Random,u=Package["geojson-utils"].GeoJSON,d,f,l,h,p,v,_,m,y,g,w,b,$,I,E,O;(function(){d=function(r){var t=this;t.name=r,t._docs=new d._IdMap,t._observeQueue=new e._SynchronousQueue,t.next_qid=1,t.queries={},t._savedOriginals=null,t.paused=!1},f={},l={},d._applyChanges=function(e,t){r.each(t,function(r,t){void 0===r?delete e[t]:e[t]=r})},h=function(e){var r=new Error(e);return r.name="MinimongoError",r},d.prototype.find=function(e,r){return 0===arguments.length&&(e={}),new d.Cursor(this,e,r)},d.Cursor=function(e,r,t){var n=this;t||(t={}),n.collection=e,n.sorter=null,d._selectorIsId(r)?(n._selectorId=r,n.matcher=new f.Matcher(r)):(n._selectorId=void 0,n.matcher=new f.Matcher(r),(n.matcher.hasGeoQuery()||t.sort)&&(n.sorter=new f.Sorter(t.sort||[],{matcher:n.matcher}))),n.skip=t.skip,n.limit=t.limit,n.fields=t.fields,n._projectionFn=d._compileProjection(n.fields||{}),n._transform=d.wrapTransform(t.transform),"undefined"!=typeof a&&(n.reactive=void 0===t.reactive?!0:t.reactive)},d.Cursor.prototype.rewind=function(){},d.prototype.findOne=function(e,r){return 0===arguments.length&&(e={}),r=r||{},r.limit=1,this.find(e,r).fetch()[0]},d.Cursor.prototype.forEach=function(e,t){var n=this,o=n._getRawObjects({ordered:!0});n.reactive&&n._depend({addedBefore:!0,removed:!0,changed:!0,movedBefore:!0}),r.each(o,function(r,o){r=n._projectionFn(r),n._transform&&(r=n._transform(r)),e.call(t,r,o,n)})},d.Cursor.prototype.getTransform=function(){return this._transform},d.Cursor.prototype.map=function(e,r){var t=this,n=[];return t.forEach(function(o,i){n.push(e.call(r,o,i,t))}),n},d.Cursor.prototype.fetch=function(){var e=this,r=[];return e.forEach(function(e){r.push(e)}),r},d.Cursor.prototype.count=function(){var e=this;return e.reactive&&e._depend({added:!0,removed:!0},!0),e._getRawObjects({ordered:!0}).length},d.Cursor.prototype._publishCursor=function(e){var r=this;if(!r.collection.name)throw new Error("Can't publish a cursor from a collection without a name.");var t=r.collection.name;return Mongo.Collection._publishCursor(r,e,t)},d.Cursor.prototype._getCollectionName=function(){var e=this;return e.collection.name},d._observeChangesCallbacksAreOrdered=function(e){if(e.added&&e.addedBefore)throw new Error("Please specify only one of added() and addedBefore()");return!(!e.addedBefore&&!e.movedBefore)},d._observeCallbacksAreOrdered=function(e){if(e.addedAt&&e.added)throw new Error("Please specify only one of added() and addedAt()");if(e.changedAt&&e.changed)throw new Error("Please specify only one of changed() and changedAt()");if(e.removed&&e.removedAt)throw new Error("Please specify only one of removed() and removedAt()");return!!(e.addedAt||e.movedTo||e.changedAt||e.removedAt)},d.ObserveHandle=function(){},r.extend(d.Cursor.prototype,{observe:function(e){var r=this;return d._observeFromObserveChanges(r,e)},observeChanges:function(e){var t=this,o=d._observeChangesCallbacksAreOrdered(e);if(!e._allow_unordered&&!o&&(t.skip||t.limit))throw new Error("must use ordered observe (ie, 'addedBefore' instead of 'added') with skip or limit");if(t.fields&&(0===t.fields._id||t.fields._id===!1))throw Error("You may not observe a cursor with {fields: {_id: 0}}");var i={matcher:t.matcher,sorter:o&&t.sorter,distances:t.matcher.hasGeoQuery()&&o&&new d._IdMap,resultsSnapshot:null,ordered:o,cursor:t,projectionFn:t._projectionFn},s;t.reactive&&(s=t.collection.next_qid++,t.collection.queries[s]=i),i.results=t._getRawObjects({ordered:o,distances:i.distances}),t.collection.paused&&(i.resultsSnapshot=o?[]:new d._IdMap);var c=function(e){return e?function(){var r=this,n=arguments;t.collection.paused||t.collection._observeQueue.queueTask(function(){e.apply(r,n)})}:function(){}};if(i.added=c(e.added),i.changed=c(e.changed),i.removed=c(e.removed),o&&(i.addedBefore=c(e.addedBefore),i.movedBefore=c(e.movedBefore)),!e._suppress_initial&&!t.collection.paused){var u=o?r.bind(r.each,null,i.results):r.bind(i.results.forEach,i.results);u(function(e){var r=n.clone(e);delete r._id,o&&i.addedBefore(e._id,t._projectionFn(r),null),i.added(e._id,t._projectionFn(r))})}var f=new d.ObserveHandle;return r.extend(f,{collection:t.collection,stop:function(){t.reactive&&delete t.collection.queries[s]}}),t.reactive&&a.active&&a.onInvalidate(function(){f.stop()}),t.collection._observeQueue.drain(),f}}),d.Cursor.prototype._getRawObjects=function(e){var r=this;e=e||{};var t=e.ordered?[]:new d._IdMap;if(void 0!==r._selectorId){if(r.skip)return t;var n=r.collection._docs.get(r._selectorId);return n&&(e.ordered?t.push(n):t.set(r._selectorId,n)),t}var o;if(r.matcher.hasGeoQuery()&&e.ordered&&(e.distances?(o=e.distances,o.clear()):o=new d._IdMap),r.collection._docs.forEach(function(n,i){var a=r.matcher.documentMatches(n);return a.result&&(e.ordered?(t.push(n),o&&void 0!==a.distance&&o.set(i,a.distance)):t.set(i,n)),!r.limit||r.skip||r.sorter||t.length!==r.limit?!0:!1}),!e.ordered)return t;if(r.sorter){var i=r.sorter.getComparator({distances:o});t.sort(i)}var a=r.skip||0,s=r.limit?r.limit+a:t.length;return t.slice(a,s)},d.Cursor.prototype._depend=function(e,t){var n=this;if(a.active){var o=new a.Dependency;o.depend();var i=r.bind(o.changed,o),s={_suppress_initial:!0,_allow_unordered:t};r.each(["added","changed","removed","addedBefore","movedBefore"],function(r){e[r]&&(s[r]=i)}),n.observeChanges(s)}},d.prototype.insert=function(t,o){var i=this;t=n.clone(t),r.has(t,"_id")||(t._id=d._useOID?new d._ObjectID:c.id());var a=t._id;if(i._docs.has(a))throw h("Duplicate _id '"+a+"'");i._saveOriginal(a,void 0),i._docs.set(a,t);var s=[];for(var u in i.queries){var f=i.queries[u],l=f.matcher.documentMatches(t);l.result&&(f.distances&&void 0!==l.distance&&f.distances.set(a,l.distance),f.cursor.skip||f.cursor.limit?s.push(u):d._insertInResults(f,t))}return r.each(s,function(e){i.queries[e]&&i._recomputeResults(i.queries[e])}),i._observeQueue.drain(),o&&e.defer(function(){o(null,a)}),a},d.prototype._eachPossiblyMatchingDoc=function(e,r){var t=this,n=d._idsMatchedBySelector(e);if(n)for(var o=0;o<n.length;++o){var i=n[o],a=t._docs.get(i);if(a){var s=r(a,i);if(s===!1)break}}else t._docs.forEach(r)},d.prototype.remove=function(t,o){var i=this;if(i.paused&&!i._savedOriginals&&n.equals(t,{})){var a=i._docs.size();return i._docs.clear(),r.each(i.queries,function(e){e.ordered?e.results=[]:e.results.clear()}),o&&e.defer(function(){o(null,a)}),a}var s=new f.Matcher(t),c=[];i._eachPossiblyMatchingDoc(t,function(e,r){s.documentMatches(e).result&&c.push(r)});for(var u=[],l=[],h=0;h<c.length;h++){var p=c[h],v=i._docs.get(p);r.each(i.queries,function(e,r){e.matcher.documentMatches(v).result&&(e.cursor.skip||e.cursor.limit?u.push(r):l.push({qid:r,doc:v}))}),i._saveOriginal(p,v),i._docs.remove(p)}return r.each(l,function(e){var r=i.queries[e.qid];r&&(r.distances&&r.distances.remove(e.doc._id),d._removeFromResults(r,e.doc))}),r.each(u,function(e){var r=i.queries[e];r&&i._recomputeResults(r)}),i._observeQueue.drain(),a=c.length,o&&e.defer(function(){o(null,a)}),a},d.prototype.update=function(t,o,i,a){var s=this;!a&&i instanceof Function&&(a=i,i=null),i||(i={});var c=new f.Matcher(t),u={};r.each(s.queries,function(e,r){!e.cursor.skip&&!e.cursor.limit||s.paused||(u[r]=n.clone(e.results))});var l={},h=0;s._eachPossiblyMatchingDoc(t,function(e,r){var t=c.documentMatches(e);return t.result&&(s._saveOriginal(r,e),s._modifyAndNotify(e,o,l,t.arrayIndices),++h,!i.multi)?!1:!0}),r.each(l,function(e,r){var t=s.queries[r];t&&s._recomputeResults(t,u[r])}),s._observeQueue.drain();var p;if(0===h&&i.upsert){var v=d._removeDollarOperators(t);d._modify(v,o,{isInsert:!0}),!v._id&&i.insertedId&&(v._id=i.insertedId),p=s.insert(v),h=1}var _;return i._returnObject?(_={numberAffected:h},void 0!==p&&(_.insertedId=p)):_=h,a&&e.defer(function(){a(null,_)}),_},d.prototype.upsert=function(e,t,n,o){var i=this;return o||"function"!=typeof n||(o=n,n={}),i.update(e,t,r.extend({},n,{upsert:!0,_returnObject:!0}),o)},d.prototype._modifyAndNotify=function(e,r,t,o){var i=this,a={};for(var s in i.queries){var c=i.queries[s];a[s]=c.ordered?c.matcher.documentMatches(e).result:c.results.has(e._id)}var u=n.clone(e);d._modify(e,r,{arrayIndices:o});for(s in i.queries){c=i.queries[s];var f=a[s],l=c.matcher.documentMatches(e),h=l.result;h&&c.distances&&void 0!==l.distance&&c.distances.set(e._id,l.distance),c.cursor.skip||c.cursor.limit?(f||h)&&(t[s]=!0):f&&!h?d._removeFromResults(c,e):!f&&h?d._insertInResults(c,e):f&&h&&d._updateInResults(c,e,u)}},d._insertInResults=function(e,r){var t=n.clone(r);if(delete t._id,e.ordered){if(e.sorter){var o=d._insertInSortedList(e.sorter.getComparator({distances:e.distances}),e.results,r),i=e.results[o+1];i=i?i._id:null,e.addedBefore(r._id,e.projectionFn(t),i)}else e.addedBefore(r._id,e.projectionFn(t),null),e.results.push(r);e.added(r._id,e.projectionFn(t))}else e.added(r._id,e.projectionFn(t)),e.results.set(r._id,r)},d._removeFromResults=function(e,r){if(e.ordered){var t=d._findInOrderedResults(e,r);e.removed(r._id),e.results.splice(t,1)}else{var n=r._id;e.removed(r._id),e.results.remove(n)}},d._updateInResults=function(e,t,o){if(!n.equals(t._id,o._id))throw new Error("Can't change a doc's _id while updating");var i=e.projectionFn,a=d._makeChangedFields(i(t),i(o));if(!e.ordered)return void(r.isEmpty(a)||(e.changed(t._id,a),e.results.set(t._id,t)));var s=d._findInOrderedResults(e,t);if(r.isEmpty(a)||e.changed(t._id,a),e.sorter){e.results.splice(s,1);var c=d._insertInSortedList(e.sorter.getComparator({distances:e.distances}),e.results,t);if(s!==c){var u=e.results[c+1];u=u?u._id:null,e.movedBefore&&e.movedBefore(t._id,u)}}},d.prototype._recomputeResults=function(e,r){var t=this;t.paused||r||(r=e.results),e.distances&&e.distances.clear(),e.results=e.cursor._getRawObjects({ordered:e.ordered,distances:e.distances}),t.paused||d._diffQueryChanges(e.ordered,r,e.results,e,{projectionFn:e.projectionFn})},d._findInOrderedResults=function(e,r){if(!e.ordered)throw new Error("Can't call _findInOrderedResults on unordered query");for(var t=0;t<e.results.length;t++)if(e.results[t]===r)return t;throw Error("object missing from query")},d._binarySearch=function(e,r,t){for(var n=0,o=r.length;o>0;){var i=Math.floor(o/2);e(t,r[n+i])>=0?(n+=i+1,o-=i+1):o=i}return n},d._insertInSortedList=function(e,r,t){if(0===r.length)return r.push(t),0;var n=d._binarySearch(e,r,t);return r.splice(n,0,t),n},d.prototype.saveOriginals=function(){var e=this;if(e._savedOriginals)throw new Error("Called saveOriginals twice without retrieveOriginals");e._savedOriginals=new d._IdMap},d.prototype.retrieveOriginals=function(){var e=this;if(!e._savedOriginals)throw new Error("Called retrieveOriginals without saveOriginals");var r=e._savedOriginals;return e._savedOriginals=null,r},d.prototype._saveOriginal=function(e,r){var t=this;t._savedOriginals&&(t._savedOriginals.has(e)||t._savedOriginals.set(e,n.clone(r)))},d.prototype.pauseObservers=function(){if(!this.paused){this.paused=!0;for(var e in this.queries){var r=this.queries[e];r.resultsSnapshot=n.clone(r.results)}}},d.prototype.resumeObservers=function(){var e=this;if(this.paused){this.paused=!1;for(var r in this.queries){var t=e.queries[r];d._diffQueryChanges(t.ordered,t.resultsSnapshot,t.results,t,{projectionFn:t.projectionFn}),t.resultsSnapshot=null}e._observeQueue.drain()}},d._idStringify=function(e){if(e instanceof d._ObjectID)return e.valueOf();if("string"==typeof e)return""===e?e:"-"===e.substr(0,1)||"~"===e.substr(0,1)||d._looksLikeObjectID(e)||"{"===e.substr(0,1)?"-"+e:e;if(void 0===e)return"-";if("object"==typeof e&&null!==e)throw new Error("Meteor does not currently support objects other than ObjectID as ids");return"~"+t.stringify(e)},d._idParse=function(e){return""===e?e:"-"===e?void 0:"-"===e.substr(0,1)?e.substr(1):"~"===e.substr(0,1)?t.parse(e.substr(1)):d._looksLikeObjectID(e)?new d._ObjectID(e):e},d._makeChangedFields=function(e,r){var t={};return d._diffObjects(r,e,{leftOnly:function(e,r){t[e]=void 0},rightOnly:function(e,r){t[e]=r},both:function(e,r,o){n.equals(r,o)||(t[e]=o)}}),t}}).call(this),function(){d.wrapTransform=function(e){if(!e)return null;if(e.__wrappedTransform__)return e;var t=function(t){if(!r.has(t,"_id"))throw new Error("can only transform documents with _id");var o=t._id,i=a.nonreactive(function(){return e(t)});if(!v(i))throw new Error("transform must return object");if(r.has(i,"_id")){if(!n.equals(i._id,o))throw new Error("transformed document can't have different _id")}else i._id=o;return i};return t.__wrappedTransform__=!0,t}}.call(this),function(){p=function(e){return r.isArray(e)&&!n.isBinary(e)},v=d._isPlainObject=function(e){return e&&3===d._f._type(e)},_=function(e){return p(e)||v(e)},m=function(e,n){if(!v(e))return!1;var o=void 0;return r.each(e,function(r,i){var a="$"===i.substr(0,1);if(void 0===o)o=a;else if(o!==a){if(!n)throw new Error("Inconsistent operator: "+t.stringify(e));o=!1}}),!!o},y=function(e){return/^[0-9]+$/.test(e)}}.call(this),function(){f.Matcher=function(e){var r=this;r._paths={},r._hasGeoQuery=!1,r._hasWhere=!1,r._isSimple=!0,r._matchingDocument=void 0,r._selector=null,r._docMatcher=r._compileSelector(e)},r.extend(f.Matcher.prototype,{documentMatches:function(e){if(!e||"object"!=typeof e)throw Error("documentMatches needs a document");return this._docMatcher(e)},hasGeoQuery:function(){return this._hasGeoQuery},hasWhere:function(){return this._hasWhere},isSimple:function(){return this._isSimple},_compileSelector:function(r){var t=this;if(r instanceof Function)return t._isSimple=!1,t._selector=r,t._recordPathUsed(""),function(e){return{result:!!r.call(e)}};if(d._selectorIsId(r))return t._selector={_id:r},t._recordPathUsed("_id"),function(e){return{result:n.equals(e._id,r)}};if(!r||"_id"in r&&!r._id)return t._isSimple=!1,C;if("boolean"==typeof r||p(r)||n.isBinary(r))throw new Error("Invalid selector: "+r);return t._selector=n.clone(r),e(r,t,{isRoot:!0})},_recordPathUsed:function(e){this._paths[e]=!0},_getPaths:function(){return r.keys(this._paths)}});var e=function(e,n,o){o=o||{};var i=[];return r.each(e,function(e,a){if("$"===a.substr(0,1)){if(!r.has(s,a))throw new Error("Unrecognized logical operator: "+a);n._isSimple=!1,i.push(s[a](e,n,o.inElemMatch))}else{o.inElemMatch||n._recordPathUsed(a);var c=$(a),u=t(e,n,o.isRoot);i.push(function(e){var r=c(e);return u(r)})}}),A(i)},t=function(e,r,t){return e instanceof RegExp?(r._isSimple=!1,o(g(e))):m(e)?i(e,r,t):o(w(e))},o=function(e,t){return t=t||{},function(n){var o=n;t.dontExpandLeafArrays||(o=I(n,t.dontIncludeLeafArrays));var i={};return i.result=r.any(o,function(r){var t=e(r.value);return"number"==typeof t&&(r.arrayIndices||(r.arrayIndices=[t]),t=!0),t&&r.arrayIndices&&(i.arrayIndices=r.arrayIndices),t}),i}};g=function(e){return function(t){return t instanceof RegExp?r.isEqual(t,e):"string"!=typeof t?!1:(e.lastIndex=0,e.test(t))}},w=function(e){if(m(e))throw Error("Can't create equalityValueSelector for operator object");return null==e?function(e){return null==e}:function(r){return d._f._equal(e,r)}};var i=function(e,t,n){var i=[];return r.each(e,function(a,s){var c=r.contains(["$lt","$lte","$gt","$gte"],s)&&r.isNumber(a),u="$ne"===s&&!r.isObject(a),d=r.contains(["$in","$nin"],s)&&r.isArray(a)&&!r.any(a,r.isObject);if("$eq"===s||c||d||u||(t._isSimple=!1),r.has(h,s))i.push(h[s](a,e,t,n));else{if(!r.has(b,s))throw new Error("Unrecognized operator: "+s);var f=b[s];i.push(o(f.compileElementSelector(a,e,t),f))}}),M(i)},a=function(t,n,o){if(!p(t)||r.isEmpty(t))throw Error("$and/$or/$nor must be nonempty array");return r.map(t,function(r){if(!v(r))throw Error("$or/$and/$nor entries need to be full objects");return e(r,n,{inElemMatch:o})})},s={$and:function(e,r,t){var n=a(e,r,t);return A(n)},$or:function(e,t,n){var o=a(e,t,n);return 1===o.length?o[0]:function(e){var t=r.any(o,function(r){return r(e).result});return{result:t}}},$nor:function(e,t,n){var o=a(e,t,n);return function(e){var t=r.all(o,function(r){return!r(e).result});return{result:t}}},$where:function(e,r){return r._recordPathUsed(""),r._hasWhere=!0,e instanceof Function||(e=Function("obj","return "+e)),function(r){return{result:e.call(r,r)}}},$comment:function(){return function(){return{result:!0}}}},c=function(e){return function(r){var t=e(r);return{result:!t.result}}},h={$not:function(e,r,n){return c(t(e,n))},$ne:function(e){return c(o(w(e)))},$nin:function(e){return c(o(b.$in.compileElementSelector(e)))},$exists:function(e){var r=o(function(e){return void 0!==e});return e?r:c(r)},$options:function(e,t){if(!r.has(t,"$regex"))throw Error("$options needs a $regex");return k},$maxDistance:function(e,r){if(!r.$near)throw Error("$maxDistance needs a $near");return k},$all:function(e,n,o){if(!p(e))throw Error("$all requires array");if(r.isEmpty(e))return C;var i=[];return r.each(e,function(e){if(m(e))throw Error("no $ expressions in $all");i.push(t(e,o))}),M(i)},$near:function(e,t,n,o){if(!o)throw Error("$near can't be inside another $ operator");n._hasGeoQuery=!0;var i,a,s;if(v(e)&&r.has(e,"$geometry"))i=e.$maxDistance,a=e.$geometry,s=function(e){return e&&e.type?"Point"===e.type?u.pointDistance(a,e):u.geometryWithinRadius(e,a,i)?0:i+1:null};else{if(i=t.$maxDistance,!p(e)&&!v(e))throw Error("$near argument must be coordinate pair or GeoJSON");a=O(e),s=function(e){return p(e)||v(e)?E(a,e):null}}return function(e){e=I(e);var t={result:!1};return r.each(e,function(e){var r=s(e.value);null===r||r>i||void 0!==t.distance&&t.distance<=r||(t.result=!0,t.distance=r,e.arrayIndices?t.arrayIndices=e.arrayIndices:delete t.arrayIndices)}),t}}},E=function(e,t){e=O(e),t=O(t);var n=e[0]-t[0],o=e[1]-t[1];return r.isNaN(n)||r.isNaN(o)?null:Math.sqrt(n*n+o*o)},O=function(e){return r.map(e,r.identity)},j=function(e){return{compileElementSelector:function(r){if(p(r))return function(){return!1};void 0===r&&(r=null);var t=d._f._type(r);return function(n){return void 0===n&&(n=null),d._f._type(n)!==t?!1:e(d._f._cmp(n,r))}}}};b={$lt:j(function(e){return 0>e}),$gt:j(function(e){return e>0}),$lte:j(function(e){return 0>=e}),$gte:j(function(e){return e>=0}),$mod:{compileElementSelector:function(e){if(!p(e)||2!==e.length||"number"!=typeof e[0]||"number"!=typeof e[1])throw Error("argument to $mod must be an array of two numbers");var r=e[0],t=e[1];return function(e){return"number"==typeof e&&e%r===t}}},$in:{compileElementSelector:function(e){if(!p(e))throw Error("$in needs an array");var t=[];return r.each(e,function(e){if(e instanceof RegExp)t.push(g(e));else{if(m(e))throw Error("cannot nest $ under $in");t.push(w(e))}}),function(e){return void 0===e&&(e=null),r.any(t,function(r){return r(e)})}}},$size:{dontExpandLeafArrays:!0,compileElementSelector:function(e){if("string"==typeof e)e=0;else if("number"!=typeof e)throw Error("$size needs a number");return function(r){return p(r)&&r.length===e}}},$type:{dontIncludeLeafArrays:!0,compileElementSelector:function(e){if("number"!=typeof e)throw Error("$type needs a number");return function(r){return void 0!==r&&d._f._type(r)===e}}},$regex:{compileElementSelector:function(e,r){if(!("string"==typeof e||e instanceof RegExp))throw Error("$regex has to be a string or RegExp");var t;if(void 0!==r.$options){if(/[^gim]/.test(r.$options))throw new Error("Only the i, m, and g regexp options are supported");var n=e instanceof RegExp?e.source:e;t=new RegExp(n,r.$options)}else t=e instanceof RegExp?e:new RegExp(e);return g(t)}},$elemMatch:{dontExpandLeafArrays:!0,compileElementSelector:function(r,n,o){if(!v(r))throw Error("$elemMatch need an object");var i,a;return m(r,!0)?(i=t(r,o),a=!1):(i=e(r,o,{inElemMatch:!0}),a=!0),function(e){if(!p(e))return!1;for(var r=0;r<e.length;++r){var t=e[r],n;if(a){if(!v(t)&&!p(t))return!1;n=t}else n=[{value:t,dontIterate:!0}];if(i(n).result)return r}return!1}}}},$=function(e,t){t=t||{};var n=e.split("."),o=n.length?n[0]:"",i=y(o),a=n.length>=2&&y(n[1]),s;n.length>1&&(s=$(n.slice(1).join(".")));var c=function(e){return e.dontIterate||delete e.dontIterate,e.arrayIndices&&!e.arrayIndices.length&&delete e.arrayIndices,e};return function(e,n){if(n||(n=[]),p(e)){if(!(i&&o<e.length))return[];n=n.concat(+o,"x")}var u=e[o];if(!s)return[c({value:u,dontIterate:p(e)&&p(u),arrayIndices:n})];if(!_(u))return p(e)?[]:[c({value:void 0,arrayIndices:n})];var d=[],f=function(e){Array.prototype.push.apply(d,e)};return f(s(u,n)),!p(u)||a&&t.forSort||r.each(u,function(e,r){v(e)&&f(s(e,n.concat(r)))}),d}},l.makeLookupFunction=$,I=function(e,t){var n=[];return r.each(e,function(e){var o=p(e.value);t&&o&&!e.dontIterate||n.push({value:e.value,arrayIndices:e.arrayIndices}),o&&!e.dontIterate&&r.each(e.value,function(r,t){n.push({value:r,arrayIndices:(e.arrayIndices||[]).concat(t)})})}),n};var C=function(e){return{result:!1}},k=function(e){return{result:!0}},S=function(e){return 0===e.length?k:1===e.length?e[0]:function(t){var n={};return n.result=r.all(e,function(e){var r=e(t);return r.result&&void 0!==r.distance&&void 0===n.distance&&(n.distance=r.distance),r.result&&r.arrayIndices&&(n.arrayIndices=r.arrayIndices),r.result}),n.result||(delete n.distance,delete n.arrayIndices),n}},A=S,M=S;d._f={_type:function(e){return"number"==typeof e?1:"string"==typeof e?2:"boolean"==typeof e?8:p(e)?4:null===e?10:e instanceof RegExp?11:"function"==typeof e?13:e instanceof Date?9:n.isBinary(e)?5:e instanceof d._ObjectID?7:3},_equal:function(e,r){return n.equals(e,r,{keyOrderSensitive:!0})},_typeorder:function(e){return[-1,1,2,3,4,5,-1,6,7,8,0,9,-1,100,2,100,1,8,1][e]},_cmp:function(e,r){if(void 0===e)return void 0===r?0:-1;if(void 0===r)return 1;var t=d._f._type(e),n=d._f._type(r),o=d._f._typeorder(t),i=d._f._typeorder(n);if(o!==i)return i>o?-1:1;if(t!==n)throw Error("Missing type coercion logic in _cmp");if(7===t&&(t=n=2,e=e.toHexString(),r=r.toHexString()),9===t&&(t=n=1,e=e.getTime(),r=r.getTime()),1===t)return e-r;if(2===n)return r>e?-1:e===r?0:1;if(3===t){var a=function(e){var r=[];for(var t in e)r.push(t),r.push(e[t]);return r};return d._f._cmp(a(e),a(r))}if(4===t)for(var s=0;;s++){if(s===e.length)return s===r.length?0:-1;if(s===r.length)return 1;var c=d._f._cmp(e[s],r[s]);if(0!==c)return c}if(5===t){if(e.length!==r.length)return e.length-r.length;for(s=0;s<e.length;s++){if(e[s]<r[s])return-1;if(e[s]>r[s])return 1}return 0}if(8===t)return e?r?0:1:r?-1:0;if(10===t)return 0;if(11===t)throw Error("Sorting not supported on regular expression");if(13===t)throw Error("Sorting not supported on Javascript code");throw Error("Unknown type to sort")}},d._removeDollarOperators=function(e){var r={};for(var t in e)"$"!==t.substr(0,1)&&(r[t]=e[t]);return r}}.call(this),function(){f.Sorter=function(n,o){var i=this;o=o||{},i._sortSpecParts=[];var a=function(e,r){if(!e)throw Error("sort keys must be non-empty");if("$"===e.charAt(0))throw Error("unsupported sort key: "+e);i._sortSpecParts.push({path:e,lookup:$(e,{forSort:!0}),ascending:r})};if(n instanceof Array)for(var s=0;s<n.length;s++)"string"==typeof n[s]?a(n[s],!0):a(n[s][0],"desc"!==n[s][1]);else{if("object"!=typeof n)throw Error("Bad sort specification: "+t.stringify(n));r.each(n,function(e,r){a(r,e>=0)})}if(i.affectedByModifier){var c={};r.each(i._sortSpecParts,function(e){c[e.path]=1}),i._selectorForAffectedByModifier=new f.Matcher(c)}i._keyComparator=e(r.map(i._sortSpecParts,function(e,r){return i._keyFieldComparator(r)})),i._keyFilter=null,o.matcher&&i._useWithMatcher(o.matcher)},r.extend(f.Sorter.prototype,{getComparator:function(r){var t=this;if(!r||!r.distances)return t._getBaseComparator();var n=r.distances;return e([t._getBaseComparator(),function(e,r){if(!n.has(e._id))throw Error("Missing distance for "+e._id);if(!n.has(r._id))throw Error("Missing distance for "+r._id);return n.get(e._id)-n.get(r._id)}])},_getPaths:function(){var e=this;return r.pluck(e._sortSpecParts,"path")},_getMinKeyFromDoc:function(e){var r=this,t=null;if(r._generateKeysFromDoc(e,function(e){return r._keyCompatibleWithSelector(e)?null===t?void(t=e):void(r._compareKeys(e,t)<0&&(t=e)):void 0}),null===t)throw Error("sort selector found no keys in doc?");return t},_keyCompatibleWithSelector:function(e){var r=this;return!r._keyFilter||r._keyFilter(e)},_generateKeysFromDoc:function(e,t){var n=this;if(0===n._sortSpecParts.length)throw new Error("can't generate keys without a spec");var o=[],i=function(e){return e.join(",")+","},a=null;if(r.each(n._sortSpecParts,function(t,n){var s=I(t.lookup(e),!0);s.length||(s=[{value:null}]);var c=!1;if(o[n]={},r.each(s,function(e){if(!e.arrayIndices){if(s.length>1)throw Error("multiple branches but no array used?");return void(o[n][""]=e.value)}c=!0;var t=i(e.arrayIndices);if(r.has(o[n],t))throw Error("duplicate path: "+t);if(o[n][t]=e.value,a&&!r.has(a,t))throw Error("cannot index parallel arrays")}),a){if(!r.has(o[n],"")&&r.size(a)!==r.size(o[n]))throw Error("cannot index parallel arrays!")}else c&&(a={},r.each(o[n],function(e,r){a[r]=!0}))}),!a){var s=r.map(o,function(e){if(!r.has(e,""))throw Error("no value in sole key case?");return e[""]});return void t(s)}r.each(a,function(e,n){var i=r.map(o,function(e){if(r.has(e,""))return e[""];if(!r.has(e,n))throw Error("missing path?");return e[n]});t(i)})},_compareKeys:function(e,r){var t=this;if(e.length!==t._sortSpecParts.length||r.length!==t._sortSpecParts.length)throw Error("Key has wrong length");return t._keyComparator(e,r)},_keyFieldComparator:function(e){var r=this,t=!r._sortSpecParts[e].ascending;return function(r,n){var o=d._f._cmp(r[e],n[e]);return t&&(o=-o),o}},_getBaseComparator:function(){var e=this;return e._sortSpecParts.length?function(r,t){var n=e._getMinKeyFromDoc(r),o=e._getMinKeyFromDoc(t);return e._compareKeys(n,o)}:function(e,r){return 0}},_useWithMatcher:function(e){var t=this;if(t._keyFilter)throw Error("called _useWithMatcher twice?");if(!r.isEmpty(t._sortSpecParts)){var n=e._selector;if(!(n instanceof Function)){var o={};r.each(t._sortSpecParts,function(e,r){o[e.path]=[]}),r.each(n,function(e,t){var n=o[t];if(n){if(e instanceof RegExp){if(e.ignoreCase||e.multiline)return;return void n.push(g(e))}return m(e)?void r.each(e,function(t,o){r.contains(["$lt","$lte","$gt","$gte"],o)&&n.push(b[o].compileElementSelector(t)),"$regex"!==o||e.$options||n.push(b.$regex.compileElementSelector(t,e))}):void n.push(w(e))}}),r.isEmpty(o[t._sortSpecParts[0].path])||(t._keyFilter=function(e){return r.all(t._sortSpecParts,function(t,n){return r.all(o[t.path],function(r){return r(e[n])})})})}}}});var e=function(e){return function(r,t){for(var n=0;n<e.length;++n){var o=e[n](r,t);if(0!==o)return o}return 0}}}.call(this),function(){d._compileProjection=function(e){d._checkSupportedProjection(e);var t=r.isUndefined(e._id)?!0:e._id,o=E(e),i=function(e,t){if(r.isArray(e))return r.map(e,function(e){return i(e,t)});var a=o.including?{}:n.clone(e);return r.each(t,function(t,s){r.has(e,s)&&(r.isObject(t)?r.isObject(e[s])&&(a[s]=i(e[s],t)):o.including?a[s]=n.clone(e[s]):delete a[s])}),a};return function(e){var n=i(e,o.tree);return t&&r.has(e,"_id")&&(n._id=e._id),!t&&r.has(n,"_id")&&delete n._id,n}},E=function(e){var t=r.keys(e).sort();t.length>0&&(1!==t.length||"_id"!==t[0])&&(t=r.reject(t,function(e){return"_id"===e}));var n=null;r.each(t,function(r){var t=!!e[r];if(null===n&&(n=t),n!==t)throw h("You cannot currently mix including and excluding fields.")});var o=O(t,function(e){return n},function(e,r,t){var n=t,o=r;throw h("both "+n+" and "+o+" found in fields option, using both of them may trigger unexpected behavior. Did you mean to use only one of them?")});return{tree:o,including:n}},O=function(e,t,n,o){return o=o||{},r.each(e,function(e){var i=o,a=e.split("."),s=r.all(a.slice(0,-1),function(t,o){if(r.has(i,t)){if(!r.isObject(i[t])&&(i[t]=n(i[t],a.slice(0,o+1).join("."),e),!r.isObject(i[t])))return!1}else i[t]={};return i=i[t],!0});if(s){var c=r.last(a);i[c]=r.has(i,c)?n(i[c],e,e):t(e)}}),o},d._checkSupportedProjection=function(e){if(!r.isObject(e)||r.isArray(e))throw h("fields option must be an object");r.each(e,function(e,t){if(r.contains(t.split("."),"$"))throw h("Minimongo doesn't support $ operator in projections yet.");if(-1===r.indexOf([1,0,!0,!1],e))throw h("Projection values should be one of 1, 0, true, or false")})}}.call(this),function(){d._modify=function(t,a,s){if(s=s||{},!v(a))throw h("Modifier must be an object");var c=m(a),u;if(c)u=n.clone(t),r.each(a,function(t,n){var a=i[n];if(s.isInsert&&"$setOnInsert"===n&&(a=i.$set),!a)throw h("Invalid modifier specified "+n);r.each(t,function(t,i){if(""===i)throw h("An empty update path is not valid.");if("_id"===i)throw h("Mod on _id not allowed");var c=i.split(".");if(!r.all(c,r.identity))throw h("The update path '"+i+"' contains an empty field name, which is not allowed.");var d=r.has(o,n),f="$rename"===n,l=e(u,c,{noCreate:o[n],forbidArray:"$rename"===n,arrayIndices:s.arrayIndices}),p=c.pop();a(l,p,t,i,u)})});else{if(a._id&&!n.equals(t._id,a._id))throw h("Cannot change the _id of a document");for(var d in a)if(/\./.test(d))throw h("When replacing document, field name may not contain '.'");u=a}r.each(r.keys(t),function(e){"_id"!==e&&delete t[e]}),r.each(u,function(e,r){t[r]=e})};var e=function(e,r,n){n=n||{};for(var o=!1,i=0;i<r.length;i++){var a=i===r.length-1,s=r[i],c=_(e);if(!c){if(n.noCreate)return void 0;var u=h("cannot use the part '"+s+"' to traverse "+e);throw u.setPropertyError=!0,u}if(e instanceof Array){if(n.forbidArray)return null;if("$"===s){if(o)throw h("Too many positional (i.e. '$') elements");if(!n.arrayIndices||!n.arrayIndices.length)throw h("The positional operator did not find the match needed from the query");s=n.arrayIndices[0],o=!0}else{if(!y(s)){if(n.noCreate)return void 0;throw h("can't append to array using string field name ["+s+"]")}s=parseInt(s)}if(a&&(r[i]=s),n.noCreate&&s>=e.length)return void 0;for(;e.length<s;)e.push(null);if(!a)if(e.length===s)e.push({});else if("object"!=typeof e[s])throw h("can't modify field '"+r[i+1]+"' of list value "+t.stringify(e[s]))}else{if(s.length&&"$"===s.substr(0,1))throw h("can't set field named "+s);if(!(s in e)){if(n.noCreate)return void 0;a||(e[s]={})}}if(a)return e;e=e[s]}},o={$unset:!0,$pop:!0,$rename:!0,$pull:!0,$pullAll:!0},i={$inc:function(e,r,t){if("number"!=typeof t)throw h("Modifier $inc allowed for numbers only");if(r in e){if("number"!=typeof e[r])throw h("Cannot apply $inc modifier to non-number");e[r]+=t}else e[r]=t},$set:function(e,t,o){if(!r.isObject(e)){var i=h("Cannot set property on non-object field");throw i.setPropertyError=!0,i}if(null===e){var i=h("Cannot set property on null");throw i.setPropertyError=!0,i}e[t]=n.clone(o)},$setOnInsert:function(e,r,t){},$unset:function(e,r,t){void 0!==e&&(e instanceof Array?r in e&&(e[r]=null):delete e[r])},$push:function(e,r,t){if(void 0===e[r]&&(e[r]=[]),!(e[r]instanceof Array))throw h("Cannot apply $push modifier to non-array");if(!t||!t.$each)return void e[r].push(n.clone(t));var o=t.$each;if(!(o instanceof Array))throw h("$each must be an array");var i=void 0;if("$slice"in t){if("number"!=typeof t.$slice)throw h("$slice must be a numeric value");if(t.$slice>0)throw h("$slice in $push must be zero or negative");i=t.$slice}var a=void 0;if(t.$sort){if(void 0===i)throw h("$sort requires $slice to be present");a=new f.Sorter(t.$sort).getComparator();for(var s=0;s<o.length;s++)if(3!==d._f._type(o[s]))throw h("$push like modifiers using $sort require all elements to be objects")}for(var c=0;c<o.length;c++)e[r].push(n.clone(o[c]));a&&e[r].sort(a),void 0!==i&&(e[r]=0===i?[]:e[r].slice(i))},$pushAll:function(e,r,t){if(!("object"==typeof t&&t instanceof Array))throw h("Modifier $pushAll/pullAll allowed for arrays only");var n=e[r];if(void 0===n)e[r]=t;else{if(!(n instanceof Array))throw h("Cannot apply $pushAll modifier to non-array");for(var o=0;o<t.length;o++)n.push(t[o])}},$addToSet:function(e,t,o){var i=!1;if("object"==typeof o)for(var a in o){
"$each"===a&&(i=!0);break}var s=i?o.$each:[o],c=e[t];if(void 0===c)e[t]=s;else{if(!(c instanceof Array))throw h("Cannot apply $addToSet modifier to non-array");r.each(s,function(e){for(var r=0;r<c.length;r++)if(d._f._equal(e,c[r]))return;c.push(n.clone(e))})}},$pop:function(e,r,t){if(void 0!==e){var n=e[r];if(void 0!==n){if(!(n instanceof Array))throw h("Cannot apply $pop modifier to non-array");"number"==typeof t&&0>t?n.splice(0,1):n.pop()}}},$pull:function(e,r,t){if(void 0!==e){var n=e[r];if(void 0!==n){if(!(n instanceof Array))throw h("Cannot apply $pull/pullAll modifier to non-array");var o=[];if("object"!=typeof t||t instanceof Array)for(var i=0;i<n.length;i++)d._f._equal(n[i],t)||o.push(n[i]);else for(var a=new f.Matcher(t),i=0;i<n.length;i++)a.documentMatches(n[i]).result||o.push(n[i]);e[r]=o}}},$pullAll:function(e,r,t){if(!("object"==typeof t&&t instanceof Array))throw h("Modifier $pushAll/pullAll allowed for arrays only");if(void 0!==e){var n=e[r];if(void 0!==n){if(!(n instanceof Array))throw h("Cannot apply $pull/pullAll modifier to non-array");for(var o=[],i=0;i<n.length;i++){for(var a=!1,s=0;s<t.length;s++)if(d._f._equal(n[i],t[s])){a=!0;break}a||o.push(n[i])}e[r]=o}}},$rename:function(r,t,n,o,i){if(o===n)throw h("$rename source must differ from target");if(null===r)throw h("$rename source field invalid");if("string"!=typeof n)throw h("$rename target must be a string");if(void 0!==r){var a=r[t];delete r[t];var s=n.split("."),c=e(i,s,{forbidArray:!0});if(null===c)throw h("$rename target field invalid");var u=s.pop();c[u]=a}},$bit:function(e,r,t){throw h("$bit is not supported")}}}.call(this),function(){d._diffQueryChanges=function(e,r,t,n,o){e?d._diffQueryOrderedChanges(r,t,n,o):d._diffQueryUnorderedChanges(r,t,n,o)},d._diffQueryUnorderedChanges=function(e,t,o,i){i=i||{};var a=i.projectionFn||n.clone;if(o.movedBefore)throw new Error("_diffQueryUnordered called with a movedBefore observer!");t.forEach(function(t,i){var s=e.get(i);if(s){if(o.changed&&!n.equals(s,t)){var c=a(t),u=a(s),f=d._makeChangedFields(c,u);r.isEmpty(f)||o.changed(i,f)}}else if(o.added){var l=a(t);delete l._id,o.added(t._id,l)}}),o.removed&&e.forEach(function(e,r){t.has(r)||o.removed(r)})},d._diffQueryOrderedChanges=function(t,o,i,a){a=a||{};var s=a.projectionFn||n.clone,c={};r.each(o,function(r){c[r._id]&&e._debug("Duplicate _id in new_results"),c[r._id]=!0});var u={};r.each(t,function(r,t){r._id in u&&e._debug("Duplicate _id in old_results"),u[r._id]=t});for(var f=[],l=0,h=o.length,p=new Array(h),v=new Array(h),_=function(e){return u[o[e]._id]},m=0;h>m;m++)if(void 0!==u[o[m]._id]){for(var y=l;y>0&&!(_(p[y-1])<_(m));)y--;v[m]=0===y?-1:p[y-1],p[y]=m,y+1>l&&(l=y+1)}for(var g=0===l?-1:p[l-1];g>=0;)f.push(g),g=v[g];f.reverse(),f.push(o.length),r.each(t,function(e){c[e._id]||i.removed&&i.removed(e._id)});var w=0;r.each(f,function(e){for(var n=o[e]?o[e]._id:null,a,c,f,l,h,p=w;e>p;p++)c=o[p],r.has(u,c._id)?(a=t[u[c._id]],l=s(c),h=s(a),f=d._makeChangedFields(l,h),r.isEmpty(f)||i.changed&&i.changed(c._id,f),i.movedBefore&&i.movedBefore(c._id,n)):(f=s(c),delete f._id,i.addedBefore&&i.addedBefore(c._id,f,n),i.added&&i.added(c._id,f));n&&(c=o[e],a=t[u[c._id]],l=s(c),h=s(a),f=d._makeChangedFields(l,h),r.isEmpty(f)||i.changed&&i.changed(c._id,f)),w=e+1})},d._diffObjects=function(e,t,n){r.each(e,function(e,o){r.has(t,o)?n.both&&n.both(o,e,t[o]):n.leftOnly&&n.leftOnly(o,e)}),n.rightOnly&&r.each(t,function(t,o){r.has(e,o)||n.rightOnly(o,t)})}}.call(this),function(){d._IdMap=function(){var e=this;o.call(e,d._idStringify,d._idParse)},e._inherits(d._IdMap,o)}.call(this),function(){d._CachingChangeObserver=function(e){var t=this;e=e||{};var o=e.callbacks&&d._observeChangesCallbacksAreOrdered(e.callbacks);if(r.has(e,"ordered")){if(t.ordered=e.ordered,e.callbacks&&e.ordered!==o)throw Error("ordered option doesn't match callbacks")}else{if(!e.callbacks)throw Error("must provide ordered or callbacks");t.ordered=o}var a=e.callbacks||{};t.ordered?(t.docs=new i(d._idStringify),t.applyChange={addedBefore:function(e,r,o){var i=n.clone(r);i._id=e,a.addedBefore&&a.addedBefore.call(t,e,r,o),a.added&&a.added.call(t,e,r),t.docs.putBefore(e,i,o||null)},movedBefore:function(e,r){var n=t.docs.get(e);a.movedBefore&&a.movedBefore.call(t,e,r),t.docs.moveBefore(e,r||null)}}):(t.docs=new d._IdMap,t.applyChange={added:function(e,r){var o=n.clone(r);a.added&&a.added.call(t,e,r),o._id=e,t.docs.set(e,o)}}),t.applyChange.changed=function(e,r){var o=t.docs.get(e);if(!o)throw new Error("Unknown id for changed: "+e);a.changed&&a.changed.call(t,e,n.clone(r)),d._applyChanges(o,r)},t.applyChange.removed=function(e){a.removed&&a.removed.call(t,e),t.docs.remove(e)}},d._observeFromObserveChanges=function(e,t){var o=e.getTransform()||function(e){return e},i=!!t._suppress_initial,a;if(d._observeCallbacksAreOrdered(t)){var s=!t._no_indices;a={addedBefore:function(e,n,a){var c=this;if(!i&&(t.addedAt||t.added)){var u=o(r.extend(n,{_id:e}));if(t.addedAt){var d=s?a?c.docs.indexOf(a):c.docs.size():-1;t.addedAt(u,d,a)}else t.added(u)}},changed:function(e,r){var i=this;if(t.changedAt||t.changed){var a=n.clone(i.docs.get(e));if(!a)throw new Error("Unknown id for changed: "+e);var c=o(n.clone(a));if(d._applyChanges(a,r),a=o(a),t.changedAt){var u=s?i.docs.indexOf(e):-1;t.changedAt(a,c,u)}else t.changed(a,c)}},movedBefore:function(e,r){var i=this;if(t.movedTo){var a=s?i.docs.indexOf(e):-1,c=s?r?i.docs.indexOf(r):i.docs.size():-1;c>a&&--c,t.movedTo(o(n.clone(i.docs.get(e))),a,c,r||null)}},removed:function(e){var r=this;if(t.removedAt||t.removed){var n=o(r.docs.get(e));if(t.removedAt){var i=s?r.docs.indexOf(e):-1;t.removedAt(n,i)}else t.removed(n)}}}}else a={added:function(e,n){if(!i&&t.added){var a=r.extend(n,{_id:e});t.added(o(a))}},changed:function(e,r){var i=this;if(t.changed){var a=i.docs.get(e),s=n.clone(a);d._applyChanges(s,r),t.changed(o(s),o(n.clone(a)))}},removed:function(e){var r=this;t.removed&&t.removed(o(r.docs.get(e)))}};var c=new d._CachingChangeObserver({callbacks:a}),u=e.observeChanges(c.applyChange);return i=!1,u}}.call(this),function(){d._looksLikeObjectID=function(e){return 24===e.length&&e.match(/^[0-9a-f]*$/)},d._ObjectID=function(e){var r=this;if(e){if(e=e.toLowerCase(),!d._looksLikeObjectID(e))throw new Error("Invalid hexadecimal string for creating an ObjectID");r._str=e}else r._str=c.hexString(24)},d._ObjectID.prototype.toString=function(){var e=this;return'ObjectID("'+e._str+'")'},d._ObjectID.prototype.equals=function(e){var r=this;return e instanceof d._ObjectID&&r.valueOf()===e.valueOf()},d._ObjectID.prototype.clone=function(){var e=this;return new d._ObjectID(e._str)},d._ObjectID.prototype.typeName=function(){return"oid"},d._ObjectID.prototype.getTimestamp=function(){var e=this;return parseInt(e._str.substr(0,8),16)},d._ObjectID.prototype.valueOf=d._ObjectID.prototype.toJSONValue=d._ObjectID.prototype.toHexString=function(){return this._str},d._selectorIsId=function(e){return"string"==typeof e||"number"==typeof e||e instanceof d._ObjectID},d._selectorIsIdPerhapsAsObject=function(e){return d._selectorIsId(e)||e&&"object"==typeof e&&e._id&&d._selectorIsId(e._id)&&1===r.size(e)},d._idsMatchedBySelector=function(e){if(d._selectorIsId(e))return[e];if(!e)return null;if(r.has(e,"_id"))return d._selectorIsId(e._id)?[e._id]:e._id&&e._id.$in&&r.isArray(e._id.$in)&&!r.isEmpty(e._id.$in)&&r.all(e._id.$in,d._selectorIsId)?e._id.$in:null;if(e.$and&&r.isArray(e.$and))for(var t=0;t<e.$and.length;++t){var n=d._idsMatchedBySelector(e.$and[t]);if(n)return n}return null},n.addType("oid",function(e){return new d._ObjectID(e)})}.call(this),"undefined"==typeof Package&&(Package={}),Package.minimongo={LocalCollection:d,Minimongo:f,MinimongoTest:l}}();

!function(){var e=Package.meteor.Meteor,t=Package.check.check,n=Package.check.Match,r=Package.random.Random,o=Package.ejson.EJSON,i=Package.json.JSON,a=Package.underscore._,s=Package.tracker.Tracker,u=Package.tracker.Deps,c=Package.logging.Log,l=Package.retry.Retry,d=Package.minimongo.LocalCollection,f=Package.minimongo.Minimongo,_,p,h,v,m,g,b,y,w,k,S,C,T;(function(){_={},p={}}).call(this),function(){h=function(){var e=document,t=window,n={},r=function(){};r.prototype.addEventListener=function(e,t){this._listeners||(this._listeners={}),e in this._listeners||(this._listeners[e]=[]);var r=this._listeners[e];-1===n.arrIndexOf(r,t)&&r.push(t)},r.prototype.removeEventListener=function(e,t){if(this._listeners&&e in this._listeners){var r=this._listeners[e],o=n.arrIndexOf(r,t);return-1!==o?void(r.length>1?this._listeners[e]=r.slice(0,o).concat(r.slice(o+1)):delete this._listeners[e]):void 0}},r.prototype.dispatchEvent=function(e){var t=e.type,n=Array.prototype.slice.call(arguments,0);if(this["on"+t]&&this["on"+t].apply(this,n),this._listeners&&t in this._listeners)for(var r=0;r<this._listeners[t].length;r++)this._listeners[t][r].apply(this,n)};var o=function(e,t){if(this.type=e,"undefined"!=typeof t)for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n])};o.prototype.toString=function(){var e=[];for(var t in this)if(this.hasOwnProperty(t)){var n=this[t];"function"==typeof n&&(n="[function]"),e.push(t+"="+n)}return"SimpleEvent("+e.join(", ")+")"};var a=function(e){var t=this;t._events=e||[],t._listeners={}};a.prototype.emit=function(e){var t=this;if(t._verifyType(e),!t._nuked){var n=Array.prototype.slice.call(arguments,1);if(t["on"+e]&&t["on"+e].apply(t,n),e in t._listeners)for(var r=0;r<t._listeners[e].length;r++)t._listeners[e][r].apply(t,n)}},a.prototype.on=function(e,t){var n=this;n._verifyType(e),n._nuked||(e in n._listeners||(n._listeners[e]=[]),n._listeners[e].push(t))},a.prototype._verifyType=function(e){var t=this;-1===n.arrIndexOf(t._events,e)&&n.log("Event "+i.stringify(e)+" not listed "+i.stringify(t._events)+" in "+t)},a.prototype.nuke=function(){var e=this;e._nuked=!0;for(var t=0;t<e._events.length;t++)delete e[e._events[t]];e._listeners={}};var s="abcdefghijklmnopqrstuvwxyz0123456789_";n.random_string=function(e,t){t=t||s.length;var n,r=[];for(n=0;e>n;n++)r.push(s.substr(Math.floor(Math.random()*t),1));return r.join("")},n.random_number=function(e){return Math.floor(Math.random()*e)},n.random_number_string=function(e){var t=(""+(e-1)).length,r=Array(t+1).join("0");return(r+n.random_number(e)).slice(-t)},n.getOrigin=function(e){e+="/";var t=e.split("/").slice(0,3);return t.join("/")},n.isSameOriginUrl=function(e,n){return n||(n=t.location.href),e.split("/").slice(0,3).join("/")===n.split("/").slice(0,3).join("/")},n.isSameOriginScheme=function(e,n){return n||(n=t.location.href),e.split(":")[0]===n.split(":")[0]},n.getParentDomain=function(e){if(/^[0-9.]*$/.test(e))return e;if(/^\[/.test(e))return e;if(!/[.]/.test(e))return e;var t=e.split(".").slice(1);return t.join(".")},n.objectExtend=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e};var u="_jp";n.polluteGlobalNamespace=function(){u in t||(t[u]={})},n.closeFrame=function(e,t){return"c"+i.stringify([e,t])},n.userSetCode=function(e){return 1e3===e||e>=3e3&&4999>=e},n.countRTO=function(e){var t;return t=e>100?3*e:e+200},n.log=function(){t.console&&console.log&&console.log.apply&&console.log.apply(console,arguments)},n.bind=function(e,t){return e.bind?e.bind(t):function(){return e.apply(t,arguments)}},n.flatUrl=function(e){return-1===e.indexOf("?")&&-1===e.indexOf("#")},n.amendUrl=function(t,r){var o;if(void 0===r)o=e.location;else{var i=/^([a-z0-9.+-]+:)/i.exec(r);if(i){var a=i[0].toLowerCase(),s=r.substring(a.length),u=/[a-z0-9\.-]+(:[0-9]+)?/.exec(s);if(u)var c=u[0]}if(!a||!c)throw new Error("relativeTo must be an absolute url");o={protocol:a,host:c}}if(!t)throw new Error("Wrong url for SockJS");if(!n.flatUrl(t))throw new Error("Only basic urls are supported in SockJS");0===t.indexOf("//")&&(t=o.protocol+t),0===t.indexOf("/")&&(t=o.protocol+"//"+o.host+t),t=t.replace(/[/]+$/,"");var l=t.split("/");return("http:"===l[0]&&/:80$/.test(l[2])||"https:"===l[0]&&/:443$/.test(l[2]))&&(l[2]=l[2].replace(/:(80|443)$/,"")),t=l.join("/")},n.arrIndexOf=function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},n.arrSkip=function(e,t){var r=n.arrIndexOf(e,t);if(-1===r)return e.slice();var o=e.slice(0,r);return o.concat(e.slice(r+1))},n.isArray=Array.isArray||function(e){return{}.toString.call(e).indexOf("Array")>=0},n.delay=function(e,t){return"function"==typeof e&&(t=e,e=0),setTimeout(t,e)};var c=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,l={"\x00":"\\u0000","":"\\u0001","":"\\u0002","":"\\u0003","":"\\u0004","":"\\u0005","":"\\u0006","":"\\u0007","\b":"\\b","	":"\\t","\n":"\\n","":"\\u000b","\f":"\\f","\r":"\\r","":"\\u000e","":"\\u000f","":"\\u0010","":"\\u0011","":"\\u0012","":"\\u0013","":"\\u0014","":"\\u0015","":"\\u0016","":"\\u0017","":"\\u0018","":"\\u0019","":"\\u001a","":"\\u001b","":"\\u001c","":"\\u001d","":"\\u001e","":"\\u001f",'"':'\\"',"\\":"\\\\","":"\\u007f","":"\\u0080","":"\\u0081","":"\\u0082","":"\\u0083","":"\\u0084","":"\\u0085","":"\\u0086","":"\\u0087","":"\\u0088","":"\\u0089","":"\\u008a","":"\\u008b","":"\\u008c","":"\\u008d","":"\\u008e","":"\\u008f","":"\\u0090","":"\\u0091","":"\\u0092","":"\\u0093","":"\\u0094","":"\\u0095","":"\\u0096","":"\\u0097","":"\\u0098","":"\\u0099","":"\\u009a","":"\\u009b","":"\\u009c","":"\\u009d","":"\\u009e","":"\\u009f","­":"\\u00ad","؀":"\\u0600","؁":"\\u0601","؂":"\\u0602","؃":"\\u0603","؄":"\\u0604","܏":"\\u070f","឴":"\\u17b4","឵":"\\u17b5","‌":"\\u200c","‍":"\\u200d","‎":"\\u200e","‏":"\\u200f","\u2028":"\\u2028","\u2029":"\\u2029","‪":"\\u202a","‫":"\\u202b","‬":"\\u202c","‭":"\\u202d","‮":"\\u202e"," ":"\\u202f","⁠":"\\u2060","⁡":"\\u2061","⁢":"\\u2062","⁣":"\\u2063","⁤":"\\u2064","⁥":"\\u2065","⁦":"\\u2066","⁧":"\\u2067","⁨":"\\u2068","⁩":"\\u2069","⁪":"\\u206a","⁫":"\\u206b","⁬":"\\u206c","⁭":"\\u206d","⁮":"\\u206e","⁯":"\\u206f","\ufeff":"\\ufeff","￰":"\\ufff0","￱":"\\ufff1","￲":"\\ufff2","￳":"\\ufff3","￴":"\\ufff4","￵":"\\ufff5","￶":"\\ufff6","￷":"\\ufff7","￸":"\\ufff8","￹":"\\ufff9","￺":"\\ufffa","￻":"\\ufffb","￼":"\\ufffc","�":"\\ufffd","￾":"\\ufffe","￿":"\\uffff"},d=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,f,_=i&&i.stringify||function(e){return c.lastIndex=0,c.test(e)&&(e=e.replace(c,function(e){return l[e]})),'"'+e+'"'},p=function(e){var t,n={},r=[];for(t=0;65536>t;t++)r.push(String.fromCharCode(t));return e.lastIndex=0,r.join("").replace(e,function(e){return n[e]="\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4),""}),e.lastIndex=0,n};n.quote=function(e){var t=_(e);return d.lastIndex=0,d.test(t)?(f||(f=p(d)),t.replace(d,function(e){return f[e]})):t};var h=["websocket","xdr-streaming","xhr-streaming","iframe-eventsource","iframe-htmlfile","xdr-polling","xhr-polling","iframe-xhr-polling","jsonp-polling"];n.probeProtocols=function(){for(var e={},t=0;t<h.length;t++){var n=h[t];e[n]=T[n]&&T[n].enabled()}return e},n.detectProtocols=function(e,t,n){var r={},o=[];t||(t=h);for(var i=0;i<t.length;i++){var a=t[i];r[a]=e[a]}var s=function(e){var t=e.shift();r[t]?o.push(t):e.length>0&&s(e)};return n.websocket!==!1&&s(["websocket"]),r["xhr-streaming"]&&!n.null_origin?o.push("xhr-streaming"):!r["xdr-streaming"]||n.cookie_needed||n.null_origin?s(["iframe-eventsource","iframe-htmlfile"]):o.push("xdr-streaming"),r["xhr-polling"]&&!n.null_origin?o.push("xhr-polling"):!r["xdr-polling"]||n.cookie_needed||n.null_origin?s(["iframe-xhr-polling","jsonp-polling"]):o.push("xdr-polling"),o};var v="_sockjs_global";n.createHook=function(){var e="a"+n.random_string(8);if(!(v in t)){var r={};t[v]=function(e){return e in r||(r[e]={id:e,del:function(){delete r[e]}}),r[e]}}return t[v](e)},n.attachMessage=function(e){n.attachEvent("message",e)},n.attachEvent=function(n,r){"undefined"!=typeof t.addEventListener?t.addEventListener(n,r,!1):(e.attachEvent("on"+n,r),t.attachEvent("on"+n,r))},n.detachMessage=function(e){n.detachEvent("message",e)},n.detachEvent=function(n,r){"undefined"!=typeof t.addEventListener?t.removeEventListener(n,r,!1):(e.detachEvent("on"+n,r),t.detachEvent("on"+n,r))};var m={},g=!1,b=function(){for(var e in m)m[e](),delete m[e]},y=function(){g||(g=!0,b())};n.attachEvent("unload",y),n.unload_add=function(e){var t=n.random_string(8);return m[t]=e,g&&n.delay(b),t},n.unload_del=function(e){e in m&&delete m[e]},n.createIframe=function(t,r){var o=e.createElement("iframe"),i,a,s=function(){clearTimeout(i);try{o.onload=null}catch(e){}o.onerror=null},u=function(){o&&(s(),setTimeout(function(){o&&o.parentNode.removeChild(o),o=null},0),n.unload_del(a))},c=function(e){o&&(u(),r(e))},l=function(e,t){try{o&&o.contentWindow&&o.contentWindow.postMessage(e,t)}catch(n){}};return o.src=t,o.style.display="none",o.style.position="absolute",o.onerror=function(){c("onerror")},o.onload=function(){clearTimeout(i),i=setTimeout(function(){c("onload timeout")},2e3)},e.body.appendChild(o),i=setTimeout(function(){c("timeout")},15e3),a=n.unload_add(u),{post:l,cleanup:u,loaded:s}},n.createHtmlfile=function(e,r){var o=new ActiveXObject("htmlfile"),i,a,s,c=function(){clearTimeout(i)},l=function(){o&&(c(),n.unload_del(a),s.parentNode.removeChild(s),s=o=null,CollectGarbage())},d=function(e){o&&(l(),r(e))},f=function(e,t){try{s&&s.contentWindow&&s.contentWindow.postMessage(e,t)}catch(n){}};o.open(),o.write('<html><script>document.domain="'+document.domain+'";</script></html>'),o.close(),o.parentWindow[u]=t[u];var _=o.createElement("div");return o.body.appendChild(_),s=o.createElement("iframe"),_.appendChild(s),s.src=e,i=setTimeout(function(){d("timeout")},15e3),a=n.unload_add(l),{post:f,cleanup:l,loaded:c}};var w=function(){};w.prototype=new a(["chunk","finish"]),w.prototype._start=function(e,r,o,i){var a=this;try{a.xhr=new XMLHttpRequest}catch(s){}if(!a.xhr)try{a.xhr=new t.ActiveXObject("Microsoft.XMLHTTP")}catch(s){}(t.ActiveXObject||t.XDomainRequest)&&(r+=(-1===r.indexOf("?")?"?":"&")+"t="+ +new Date),a.unload_ref=n.unload_add(function(){a._cleanup(!0)});try{a.xhr.open(e,r,!0)}catch(u){return a.emit("finish",0,""),void a._cleanup()}if(i&&i.no_credentials||(a.xhr.withCredentials="true"),i&&i.headers)for(var c in i.headers)a.xhr.setRequestHeader(c,i.headers[c]);a.xhr.onreadystatechange=function(){if(a.xhr){var e=a.xhr;switch(e.readyState){case 3:try{var t=e.status,n=e.responseText}catch(e){}1223===t&&(t=204),n&&n.length>0&&a.emit("chunk",t,n);break;case 4:var t=e.status;1223===t&&(t=204),a.emit("finish",t,e.responseText),a._cleanup(!1)}}},a.xhr.send(o)},w.prototype._cleanup=function(e){var t=this;if(t.xhr){if(n.unload_del(t.unload_ref),t.xhr.onreadystatechange=function(){},e)try{t.xhr.abort()}catch(r){}t.unload_ref=t.xhr=null}},w.prototype.close=function(){var e=this;e.nuke(),e._cleanup(!0)};var k=n.XHRCorsObject=function(){var e=this,t=arguments;n.delay(function(){e._start.apply(e,t)})};k.prototype=new w;var S=n.XHRLocalObject=function(e,t,r){var o=this;n.delay(function(){o._start(e,t,r,{no_credentials:!0})})};S.prototype=new w;var C=n.XDRObject=function(e,t,r){var o=this;n.delay(function(){o._start(e,t,r)})};C.prototype=new a(["chunk","finish"]),C.prototype._start=function(e,t,r){var o=this,i=new XDomainRequest;t+=(-1===t.indexOf("?")?"?":"&")+"t="+ +new Date;var a=i.ontimeout=i.onerror=function(){o.emit("finish",0,""),o._cleanup(!1)};i.onprogress=function(){o.emit("chunk",200,i.responseText)},i.onload=function(){o.emit("finish",200,i.responseText),o._cleanup(!1)},o.xdr=i,o.unload_ref=n.unload_add(function(){o._cleanup(!0)});try{o.xdr.open(e,t),o.xdr.send(r)}catch(s){a()}},C.prototype._cleanup=function(e){var t=this;if(t.xdr){if(n.unload_del(t.unload_ref),t.xdr.ontimeout=t.xdr.onerror=t.xdr.onprogress=t.xdr.onload=null,e)try{t.xdr.abort()}catch(r){}t.unload_ref=t.xdr=null}},C.prototype.close=function(){var e=this;e.nuke(),e._cleanup(!0)},n.isXHRCorsCapable=function(){return t.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest?1:t.XDomainRequest&&e.domain?2:B.enabled()?3:4};var T=function(e,t,r){if(!(this instanceof T))return new T(e,t,r);var o=this,i;o._options={devel:!1,debug:!1,protocols_whitelist:[],info:void 0,rtt:void 0},r&&n.objectExtend(o._options,r),o._base_url=n.amendUrl(e),o._server=o._options.server||n.random_number_string(1e3),o._options.protocols_whitelist&&o._options.protocols_whitelist.length?i=o._options.protocols_whitelist:(i="string"==typeof t&&t.length>0?[t]:n.isArray(t)?t:null,i&&o._debug('Deprecated API: Use "protocols_whitelist" option instead of supplying protocol list as a second parameter to SockJS constructor.')),o._protocols=[],o.protocol=null,o.readyState=T.CONNECTING,o._ir=q(o._base_url),o._ir.onfinish=function(e,t){o._ir=null,e?(o._options.info&&(e=n.objectExtend(e,o._options.info)),o._options.rtt&&(t=o._options.rtt),o._applyInfo(e,t,i),o._didClose()):o._didClose(1002,"Can't connect to server",!0)}};T.prototype=new r,T.version="0.3.4",T.CONNECTING=0,T.OPEN=1,T.CLOSING=2,T.CLOSED=3,T.prototype._debug=function(){this._options.debug&&n.log.apply(n,arguments)},T.prototype._dispatchOpen=function(){var e=this;e.readyState===T.CONNECTING?(e._transport_tref&&(clearTimeout(e._transport_tref),e._transport_tref=null),e.readyState=T.OPEN,e.dispatchEvent(new o("open"))):e._didClose(1006,"Server lost session")},T.prototype._dispatchMessage=function(e){var t=this;t.readyState===T.OPEN&&t.dispatchEvent(new o("message",{data:e}))},T.prototype._dispatchHeartbeat=function(e){var t=this;t.readyState===T.OPEN&&t.dispatchEvent(new o("heartbeat",{}))},T.prototype._didClose=function(e,t,r){var i=this;if(i.readyState!==T.CONNECTING&&i.readyState!==T.OPEN&&i.readyState!==T.CLOSING)throw new Error("INVALID_STATE_ERR");i._ir&&(i._ir.nuke(),i._ir=null),i._transport&&(i._transport.doCleanup(),i._transport=null);var a=new o("close",{code:e,reason:t,wasClean:n.userSetCode(e)});if(!n.userSetCode(e)&&i.readyState===T.CONNECTING&&!r){if(i._try_next_protocol(a))return;a=new o("close",{code:2e3,reason:"All transports failed",wasClean:!1,last_event:a})}i.readyState=T.CLOSED,n.delay(function(){i.dispatchEvent(a)})},T.prototype._didMessage=function(e){var t=this,n=e.slice(0,1);switch(n){case"o":t._dispatchOpen();break;case"a":for(var r=i.parse(e.slice(1)||"[]"),o=0;o<r.length;o++)t._dispatchMessage(r[o]);break;case"m":var r=i.parse(e.slice(1)||"null");t._dispatchMessage(r);break;case"c":var r=i.parse(e.slice(1)||"[]");t._didClose(r[0],r[1]);break;case"h":t._dispatchHeartbeat()}},T.prototype._try_next_protocol=function(t){var r=this;for(r.protocol&&(r._debug("Closed transport:",r.protocol,""+t),r.protocol=null),r._transport_tref&&(clearTimeout(r._transport_tref),r._transport_tref=null);;){var o=r.protocol=r._protocols.shift();if(!o)return!1;if(T[o]&&T[o].need_body===!0&&(!e.body||"undefined"!=typeof e.readyState&&"complete"!==e.readyState))return r._protocols.unshift(o),r.protocol="waiting-for-load",n.attachEvent("load",function(){r._try_next_protocol()}),!0;if(T[o]&&T[o].enabled(r._options)){var i=T[o].roundTrips||1,a=(r._options.rto||0)*i||5e3;r._transport_tref=n.delay(a,function(){r.readyState===T.CONNECTING&&r._didClose(2007,"Transport timeouted")});var s=n.random_string(8),u=r._base_url+"/"+r._server+"/"+s;return r._debug("Opening transport:",o," url:"+u," RTO:"+r._options.rto),r._transport=new T[o](r,u,r._base_url),!0}r._debug("Skipping transport:",o)}},T.prototype.close=function(e,t){var r=this;if(e&&!n.userSetCode(e))throw new Error("INVALID_ACCESS_ERR");return r.readyState!==T.CONNECTING&&r.readyState!==T.OPEN?!1:(r.readyState=T.CLOSING,r._didClose(e||1e3,t||"Normal closure"),!0)},T.prototype.send=function(e){var t=this;if(t.readyState===T.CONNECTING)throw new Error("INVALID_STATE_ERR");return t.readyState===T.OPEN&&t._transport.doSend(n.quote(""+e)),!0},T.prototype._applyInfo=function(t,r,o){var i=this;i._options.info=t,i._options.rtt=r,i._options.rto=n.countRTO(r),i._options.info.null_origin=!e.domain,t.base_url&&(i._base_url=n.amendUrl(t.base_url,i._base_url));var a=n.probeProtocols();i._protocols=n.detectProtocols(a,o,t),n.isSameOriginScheme(i._base_url)||2!==n.isXHRCorsCapable()||(i._protocols=["jsonp-polling"])};var E=T.websocket=function(e,r){var o=this,i=r+"/websocket";i="https"===i.slice(0,5)?"wss"+i.slice(5):"ws"+i.slice(4),o.ri=e,o.url=i;var a=t.WebSocket||t.MozWebSocket;o.ws=new a(o.url),o.ws.onmessage=function(e){o.ri._didMessage(e.data)},o.unload_ref=n.unload_add(function(){o.ws.close()}),o.ws.onclose=function(){o.ri._didMessage(n.closeFrame(1006,"WebSocket connection broken"))}};E.prototype.doSend=function(e){this.ws.send("["+e+"]")},E.prototype.doCleanup=function(){var e=this,t=e.ws;t&&(t.onmessage=t.onclose=null,t.close(),n.unload_del(e.unload_ref),e.unload_ref=e.ri=e.ws=null)},E.enabled=function(){return!(!t.WebSocket&&!t.MozWebSocket)},E.roundTrips=2;var O=function(){};O.prototype.send_constructor=function(e){var t=this;t.send_buffer=[],t.sender=e},O.prototype.doSend=function(e){var t=this;t.send_buffer.push(e),t.send_stop||t.send_schedule()},O.prototype.send_schedule_wait=function(){var e=this,t;e.send_stop=function(){e.send_stop=null,clearTimeout(t)},t=n.delay(25,function(){e.send_stop=null,e.send_schedule()})},O.prototype.send_schedule=function(){var e=this;if(e.send_buffer.length>0){var t="["+e.send_buffer.join(",")+"]";e.send_stop=e.sender(e.trans_url,t,function(t,n){e.send_stop=null,t===!1?e.ri._didClose(1006,"Sending error "+n):e.send_schedule_wait()}),e.send_buffer=[]}},O.prototype.send_destructor=function(){var e=this;e._send_stop&&e._send_stop(),e._send_stop=null};var x=function(t,r,o){var i=this;if(!("_send_form"in i)){var a=i._send_form=e.createElement("form"),s=i._send_area=e.createElement("textarea");s.name="d",a.style.display="none",a.style.position="absolute",a.method="POST",a.enctype="application/x-www-form-urlencoded",a.acceptCharset="UTF-8",a.appendChild(s),e.body.appendChild(a)}var a=i._send_form,s=i._send_area,u="a"+n.random_string(8);a.target=u,a.action=t+"/jsonp_send?i="+u;var c;try{c=e.createElement('<iframe name="'+u+'">')}catch(l){c=e.createElement("iframe"),c.name=u}c.id=u,a.appendChild(c),c.style.display="none";try{s.value=r}catch(d){n.log("Your browser is seriously broken. Go home! "+d.message)}a.submit();var f=function(e){c.onerror&&(c.onreadystatechange=c.onerror=c.onload=null,n.delay(500,function(){c.parentNode.removeChild(c),c=null}),s.value="",o(!0))};return c.onerror=c.onload=f,c.onreadystatechange=function(e){"complete"==c.readyState&&f()},f},I=function(e){return function(t,n,r){var o=new e("POST",t+"/xhr_send",n);return o.onfinish=function(e,t){r(200===e||204===e,"http status "+e)},function(e){r(!1,e)}}},M=function(t,r){var o,i=e.createElement("script"),a,s=function(e){a&&(a.parentNode.removeChild(a),a=null),i&&(clearTimeout(o),i.parentNode.removeChild(i),i.onreadystatechange=i.onerror=i.onload=i.onclick=null,i=null,r(e),r=null)},u=!1,c=null;if(i.id="a"+n.random_string(8),i.src=t,i.type="text/javascript",i.charset="UTF-8",i.onerror=function(e){c||(c=setTimeout(function(){u||s(n.closeFrame(1006,"JSONP script loaded abnormally (onerror)"))},1e3))},i.onload=function(e){s(n.closeFrame(1006,"JSONP script loaded abnormally (onload)"))},i.onreadystatechange=function(e){if(/loaded|closed/.test(i.readyState)){if(i&&i.htmlFor&&i.onclick){u=!0;try{i.onclick()}catch(t){}}i&&s(n.closeFrame(1006,"JSONP script loaded abnormally (onreadystatechange)"))}},"undefined"==typeof i.async&&e.attachEvent)if(/opera/i.test(navigator.userAgent))a=e.createElement("script"),a.text="try{var a = document.getElementById('"+i.id+"'); if(a)a.onerror();}catch(x){};",i.async=a.async=!1;else{try{i.htmlFor=i.id,i.event="onclick"}catch(l){}i.async=!0}"undefined"!=typeof i.async&&(i.async=!0),o=setTimeout(function(){s(n.closeFrame(1006,"JSONP script loaded abnormally (timeout)"))},35e3);var d=e.getElementsByTagName("head")[0];return d.insertBefore(i,d.firstChild),a&&d.insertBefore(a,d.firstChild),s},D=T["jsonp-polling"]=function(e,t){n.polluteGlobalNamespace();var r=this;r.ri=e,r.trans_url=t,r.send_constructor(x),r._schedule_recv()};D.prototype=new O,D.prototype._schedule_recv=function(){var e=this,t=function(t){e._recv_stop=null,t&&(e._is_closing||e.ri._didMessage(t)),e._is_closing||e._schedule_recv()};e._recv_stop=R(e.trans_url+"/jsonp",M,t)},D.enabled=function(){return!0},D.need_body=!0,D.prototype.doCleanup=function(){var e=this;e._is_closing=!0,e._recv_stop&&e._recv_stop(),e.ri=e._recv_stop=null,e.send_destructor()};var R=function(e,r,o){var i="a"+n.random_string(6),a=e+"?c="+escape(u+"."+i),s=0,c=function(e){switch(s){case 0:delete t[u][i],o(e);break;case 1:o(e),s=2;break;case 2:delete t[u][i]}},l=r(a,c);t[u][i]=l;var d=function(){t[u][i]&&(s=1,t[u][i](n.closeFrame(1e3,"JSONP user aborted read")))};return d},P=function(){};P.prototype=new O,P.prototype.run=function(e,t,n,r,o){var i=this;i.ri=e,i.trans_url=t,i.send_constructor(I(o)),i.poll=new Z(e,r,t+n,o)},P.prototype.doCleanup=function(){var e=this;e.poll&&(e.poll.abort(),e.poll=null)};var N=T["xhr-streaming"]=function(e,t){this.run(e,t,"/xhr_streaming",oe,n.XHRCorsObject)};N.prototype=new P,N.enabled=function(){return t.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest&&!/opera/i.test(navigator.userAgent)},N.roundTrips=2,N.need_body=!0;var j=T["xdr-streaming"]=function(e,t){this.run(e,t,"/xhr_streaming",oe,n.XDRObject)};j.prototype=new P,j.enabled=function(){return!!t.XDomainRequest},j.roundTrips=2;var U=T["xhr-polling"]=function(e,t){this.run(e,t,"/xhr",oe,n.XHRCorsObject)};U.prototype=new P,U.enabled=N.enabled,U.roundTrips=2;var A=T["xdr-polling"]=function(e,t){this.run(e,t,"/xhr",oe,n.XDRObject)};A.prototype=new P,A.enabled=j.enabled,A.roundTrips=2;var B=function(){};B.prototype.i_constructor=function(e,t,r){var o=this;o.ri=e,o.origin=n.getOrigin(r),o.base_url=r,o.trans_url=t;var i=r+"/iframe.html";o.ri._options.devel&&(i+="?t="+ +new Date),o.window_id=n.random_string(8),i+="#"+o.window_id,o.iframeObj=n.createIframe(i,function(e){o.ri._didClose(1006,"Unable to load an iframe ("+e+")")}),o.onmessage_cb=n.bind(o.onmessage,o),n.attachMessage(o.onmessage_cb)},B.prototype.doCleanup=function(){var e=this;if(e.iframeObj){n.detachMessage(e.onmessage_cb);try{e.iframeObj.iframe.contentWindow&&e.postMessage("c")}catch(t){}e.iframeObj.cleanup(),e.iframeObj=null,e.onmessage_cb=e.iframeObj=null}},B.prototype.onmessage=function(e){var t=this;if(e.origin===t.origin){var n=e.data.slice(0,8),r=e.data.slice(8,9),o=e.data.slice(9);if(n===t.window_id)switch(r){case"s":t.iframeObj.loaded(),t.postMessage("s",i.stringify([T.version,t.protocol,t.trans_url,t.base_url]));break;case"t":t.ri._didMessage(o)}}},B.prototype.postMessage=function(e,t){var n=this;n.iframeObj.post(n.window_id+e+(t||""),n.origin)},B.prototype.doSend=function(e){this.postMessage("m",e)},B.enabled=function(){var e=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("Konqueror");return("function"==typeof t.postMessage||"object"==typeof t.postMessage)&&!e};var H,L=function(e,r){parent!==t?parent.postMessage(H+e+(r||""),"*"):n.log("Can't postMessage, no parent window.",e,r)},F=function(){};F.prototype._didClose=function(e,t){L("t",n.closeFrame(e,t))},F.prototype._didMessage=function(e){L("t",e)},F.prototype._doSend=function(e){this._transport.doSend(e)},F.prototype._doCleanup=function(){this._transport.doCleanup()},n.parent_origin=void 0,T.bootstrap_iframe=function(){var r;H=e.location.hash.slice(1);var o=function(e){if(e.source===parent&&("undefined"==typeof n.parent_origin&&(n.parent_origin=e.origin),e.origin===n.parent_origin)){var o=e.data.slice(0,8),a=e.data.slice(8,9),s=e.data.slice(9);if(o===H)switch(a){case"s":var u=i.parse(s),c=u[0],l=u[1],d=u[2],f=u[3];if(c!==T.version&&n.log('Incompatibile SockJS! Main site uses: "'+c+'", the iframe: "'+T.version+'".'),!n.flatUrl(d)||!n.flatUrl(f))return void n.log("Only basic urls are supported in SockJS");if(!n.isSameOriginUrl(d)||!n.isSameOriginUrl(f))return void n.log("Can't connect to different domain from within an iframe. ("+i.stringify([t.location.href,d,f])+")");r=new F,r._transport=new F[l](r,d,f);break;case"m":r._doSend(s);break;case"c":r&&r._doCleanup(),r=null}}};n.attachMessage(o),L("s")};var X=function(e,t){var r=this;n.delay(function(){r.doXhr(e,t)})};X.prototype=new a(["finish"]),X.prototype.doXhr=function(e,t){var r=this,o=(new Date).getTime(),a=new t("GET",e+"/info?cb="+n.random_string(10)),s=n.delay(8e3,function(){a.ontimeout()});a.onfinish=function(e,t){if(clearTimeout(s),s=null,200===e){var n=(new Date).getTime()-o,a=i.parse(t);"object"!=typeof a&&(a={}),r.emit("finish",a,n)}else r.emit("finish")},a.ontimeout=function(){a.close(),r.emit("finish")}};var V=function(t){var r=this,o=function(){var e=new B;e.protocol="w-iframe-info-receiver";var n=function(t){if("string"==typeof t&&"m"===t.substr(0,1)){var n=i.parse(t.substr(1)),o=n[0],a=n[1];r.emit("finish",o,a)}else r.emit("finish");e.doCleanup(),e=null},o={_options:{},_didClose:n,_didMessage:n};e.i_constructor(o,t,t)};e.body?o():n.attachEvent("load",o)};V.prototype=new a(["finish"]);var W=function(){var e=this;n.delay(function(){e.emit("finish",{},2e3)})};W.prototype=new a(["finish"]);var q=function(e){if(n.isSameOriginUrl(e))return new X(e,n.XHRLocalObject);switch(n.isXHRCorsCapable()){case 1:return new X(e,n.XHRLocalObject);case 2:return n.isSameOriginScheme(e)?new X(e,n.XDRObject):new W;case 3:return new V(e);default:return new W}},G=F["w-iframe-info-receiver"]=function(e,t,r){var o=new X(r,n.XHRLocalObject);o.onfinish=function(t,n){e._didMessage("m"+i.stringify([t,n])),e._didClose()}};G.prototype.doCleanup=function(){};var J=T["iframe-eventsource"]=function(){var e=this;e.protocol="w-iframe-eventsource",e.i_constructor.apply(e,arguments)};J.prototype=new B,J.enabled=function(){return"EventSource"in t&&B.enabled()},J.need_body=!0,J.roundTrips=3;var Q=F["w-iframe-eventsource"]=function(e,t){this.run(e,t,"/eventsource",ee,n.XHRLocalObject)};Q.prototype=new P;var z=T["iframe-xhr-polling"]=function(){var e=this;e.protocol="w-iframe-xhr-polling",e.i_constructor.apply(e,arguments)};z.prototype=new B,z.enabled=function(){return t.XMLHttpRequest&&B.enabled()},z.need_body=!0,z.roundTrips=3;var $=F["w-iframe-xhr-polling"]=function(e,t){this.run(e,t,"/xhr",oe,n.XHRLocalObject)};$.prototype=new P;var Y=T["iframe-htmlfile"]=function(){var e=this;e.protocol="w-iframe-htmlfile",e.i_constructor.apply(e,arguments)};Y.prototype=new B,Y.enabled=function(){return B.enabled()},Y.need_body=!0,Y.roundTrips=3;var K=F["w-iframe-htmlfile"]=function(e,t){this.run(e,t,"/htmlfile",re,n.XHRLocalObject)};K.prototype=new P;var Z=function(e,t,n,r){var o=this;o.ri=e,o.Receiver=t,o.recv_url=n,o.AjaxObject=r,o._scheduleRecv()};Z.prototype._scheduleRecv=function(){var e=this,t=e.poll=new e.Receiver(e.recv_url,e.AjaxObject),n=0;t.onmessage=function(t){n+=1,e.ri._didMessage(t.data)},t.onclose=function(n){e.poll=t=t.onmessage=t.onclose=null,e.poll_is_closing||("permanent"===n.reason?e.ri._didClose(1006,"Polling error ("+n.reason+")"):e._scheduleRecv())}},Z.prototype.abort=function(){var e=this;e.poll_is_closing=!0,e.poll&&e.poll.abort()};var ee=function(e){var t=this,r=new EventSource(e);r.onmessage=function(e){t.dispatchEvent(new o("message",{data:unescape(e.data)}))},t.es_close=r.onerror=function(e,i){var a=i?"user":2!==r.readyState?"network":"permanent";t.es_close=r.onmessage=r.onerror=null,r.close(),r=null,n.delay(200,function(){t.dispatchEvent(new o("close",{reason:a}))})}};ee.prototype=new r,ee.prototype.abort=function(){var e=this;e.es_close&&e.es_close({},!0)};var te,ne=function(){if(void 0===te)if("ActiveXObject"in t)try{te=!!new ActiveXObject("htmlfile")}catch(e){}else te=!1;return te},re=function(e){var r=this;n.polluteGlobalNamespace(),r.id="a"+n.random_string(6,26),e+=(-1===e.indexOf("?")?"?":"&")+"c="+escape(u+"."+r.id);var i=ne()?n.createHtmlfile:n.createIframe,a;t[u][r.id]={start:function(){a.loaded()},message:function(e){r.dispatchEvent(new o("message",{data:e}))},stop:function(){r.iframe_close({},"network")}},r.iframe_close=function(e,n){a.cleanup(),r.iframe_close=a=null,delete t[u][r.id],r.dispatchEvent(new o("close",{reason:n}))},a=i(e,function(e){r.iframe_close({},"permanent")})};re.prototype=new r,re.prototype.abort=function(){var e=this;e.iframe_close&&e.iframe_close({},"user")};var oe=function(e,t){var n=this,r=0;n.xo=new t("POST",e,null),n.xo.onchunk=function(e,t){if(200===e)for(;;){var i=t.slice(r),a=i.indexOf("\n");if(-1===a)break;r+=a+1;var s=i.slice(0,a);n.dispatchEvent(new o("message",{data:s}))}},n.xo.onfinish=function(e,t){n.xo.onchunk(e,t),n.xo=null;var r=200===e?"network":"permanent";n.dispatchEvent(new o("close",{reason:r}))}};return oe.prototype=new r,oe.prototype.abort=function(){var e=this;e.xo&&(e.xo.close(),e.dispatchEvent(new o("close",{reason:"user"})),e.xo=null)},T.getUtils=function(){return n},T.getIframeTransport=function(){return B},T}(),"_sockjs_onload"in window&&setTimeout(_sockjs_onload,1),"function"==typeof define&&define.amd&&define("sockjs",[],function(){return h})}.call(this),function(){p.ClientStream=function(e,t){var n=this;n.options=a.extend({retry:!0},t),n._initCommon(n.options),n.HEARTBEAT_TIMEOUT=1e5,n.rawUrl=e,n.socket=null,n.heartbeatTimer=null,"undefined"!=typeof window&&window.addEventListener&&window.addEventListener("online",a.bind(n._online,n),!1),n._launchConnection()},a.extend(p.ClientStream.prototype,{send:function(e){var t=this;t.currentStatus.connected&&t.socket.send(e)},_changeUrl:function(e){var t=this;t.rawUrl=e},_connected:function(){var e=this;e.connectionTimer&&(clearTimeout(e.connectionTimer),e.connectionTimer=null),e.currentStatus.connected||(e.currentStatus.status="connected",e.currentStatus.connected=!0,e.currentStatus.retryCount=0,e.statusChanged(),a.each(e.eventCallbacks.reset,function(e){e()}))},_cleanup:function(e){var t=this;t._clearConnectionAndHeartbeatTimers(),t.socket&&(t.socket.onmessage=t.socket.onclose=t.socket.onerror=t.socket.onheartbeat=function(){},t.socket.close(),t.socket=null),a.each(t.eventCallbacks.disconnect,function(t){t(e)})},_clearConnectionAndHeartbeatTimers:function(){var e=this;e.connectionTimer&&(clearTimeout(e.connectionTimer),e.connectionTimer=null),e.heartbeatTimer&&(clearTimeout(e.heartbeatTimer),e.heartbeatTimer=null)},_heartbeat_timeout:function(){var t=this;e._debug("Connection timeout. No sockjs heartbeat received."),t._lostConnection(new _.ConnectionError("Heartbeat timed out"))},_heartbeat_received:function(){var e=this;e._forcedToDisconnect||(e.heartbeatTimer&&clearTimeout(e.heartbeatTimer),e.heartbeatTimer=setTimeout(a.bind(e._heartbeat_timeout,e),e.HEARTBEAT_TIMEOUT))},_sockjsProtocolsWhitelist:function(){var e=["xdr-polling","xhr-polling","iframe-xhr-polling","jsonp-polling"],t=navigator&&/iPhone|iPad|iPod/.test(navigator.userAgent)&&/OS 4_|OS 5_/.test(navigator.userAgent);

return t||(e=["websocket"].concat(e)),e},_launchConnection:function(){var t=this;t._cleanup();var n=a.extend({protocols_whitelist:t._sockjsProtocolsWhitelist()},t.options._sockjsOptions);t.socket=new h(v(t.rawUrl),void 0,n),t.socket.onopen=function(e){t._connected()},t.socket.onmessage=function(e){t._heartbeat_received(),t.currentStatus.connected&&a.each(t.eventCallbacks.message,function(t){t(e.data)})},t.socket.onclose=function(){t._lostConnection()},t.socket.onerror=function(){e._debug("stream error",a.toArray(arguments),(new Date).toDateString())},t.socket.onheartbeat=function(){t._heartbeat_received()},t.connectionTimer&&clearTimeout(t.connectionTimer),t.connectionTimer=setTimeout(function(){t._lostConnection(new _.ConnectionError("DDP connection timed out"))},t.CONNECT_TIMEOUT)}})}.call(this),function(){var t=function(e,t){return e.length>=t.length&&e.substring(0,t.length)===t},n=function(e,t){return e.length>=t.length&&e.substring(e.length-t.length)===t},o=function(o,i,a){i||(i="http");var s=o.match(/^ddp(i?)\+sockjs:\/\//),u=o.match(/^http(s?):\/\//),c;if(s){var l=o.substr(s[0].length);c="i"===s[1]?i:i+"s";var d=l.indexOf("/"),f=-1===d?l:l.substr(0,d),_=-1===d?"":l.substr(d);return f=f.replace(/\*/g,function(){return Math.floor(10*r.fraction())}),c+"://"+f+_}if(u){c=u[1]?i+"s":i;var p=o.substr(u[0].length);o=c+"://"+p}return-1!==o.indexOf("://")||t(o,"/")||(o=i+"://"+o),o=e._relativeToSiteRootUrl(o),n(o,"/")?o+a:o+"/"+a};v=function(e){return o(e,"http","sockjs")},m=function(e){var t=o(e,"ws","websocket");return t},p.toSockjsUrl=v,a.extend(p.ClientStream.prototype,{on:function(e,t){var n=this;if("message"!==e&&"reset"!==e&&"disconnect"!==e)throw new Error("unknown event type: "+e);n.eventCallbacks[e]||(n.eventCallbacks[e]=[]),n.eventCallbacks[e].push(t)},_initCommon:function(e){var t=this;e=e||{},t.CONNECT_TIMEOUT=e.connectTimeoutMs||1e4,t.eventCallbacks={},t._forcedToDisconnect=!1,t.currentStatus={status:"connecting",connected:!1,retryCount:0},t.statusListeners="undefined"!=typeof s&&new s.Dependency,t.statusChanged=function(){t.statusListeners&&t.statusListeners.changed()},t._retry=new l,t.connectionTimer=null},reconnect:function(e){var t=this;return e=e||{},e.url&&t._changeUrl(e.url),e._sockjsOptions&&(t.options._sockjsOptions=e._sockjsOptions),t.currentStatus.connected?void((e._force||e.url)&&t._lostConnection(new _.ForcedReconnectError)):("connecting"===t.currentStatus.status&&t._lostConnection(),t._retry.clear(),t.currentStatus.retryCount-=1,void t._retryNow())},disconnect:function(e){var t=this;e=e||{},t._forcedToDisconnect||(e._permanent&&(t._forcedToDisconnect=!0),t._cleanup(),t._retry.clear(),t.currentStatus={status:e._permanent?"failed":"offline",connected:!1,retryCount:0},e._permanent&&e._error&&(t.currentStatus.reason=e._error),t.statusChanged())},_lostConnection:function(e){var t=this;t._cleanup(e),t._retryLater(e)},_online:function(){"offline"!=this.currentStatus.status&&this.reconnect()},_retryLater:function(e){var t=this,n=0;t.options.retry||e&&"DDP.ForcedReconnectError"===e.errorType?(n=t._retry.retryLater(t.currentStatus.retryCount,a.bind(t._retryNow,t)),t.currentStatus.status="waiting",t.currentStatus.retryTime=(new Date).getTime()+n):(t.currentStatus.status="failed",delete t.currentStatus.retryTime),t.currentStatus.connected=!1,t.statusChanged()},_retryNow:function(){var e=this;e._forcedToDisconnect||(e.currentStatus.retryCount+=1,e.currentStatus.status="connecting",e.currentStatus.connected=!1,delete e.currentStatus.retryTime,e.statusChanged(),e._launchConnection())},status:function(){var e=this;return e.statusListeners&&e.statusListeners.depend(),e.currentStatus}}),_.ConnectionError=e.makeErrorType("DDP.ConnectionError",function(e){var t=this;t.message=e}),_.ForcedReconnectError=e.makeErrorType("DDP.ForcedReconnectError",function(){})}.call(this),function(){g=function(e){var t=this;t.heartbeatInterval=e.heartbeatInterval,t.heartbeatTimeout=e.heartbeatTimeout,t._sendPing=e.sendPing,t._onTimeout=e.onTimeout,t._heartbeatIntervalHandle=null,t._heartbeatTimeoutHandle=null},a.extend(g.prototype,{stop:function(){var e=this;e._clearHeartbeatIntervalTimer(),e._clearHeartbeatTimeoutTimer()},start:function(){var e=this;e.stop(),e._startHeartbeatIntervalTimer()},_startHeartbeatIntervalTimer:function(){var t=this;t._heartbeatIntervalHandle=e.setTimeout(a.bind(t._heartbeatIntervalFired,t),t.heartbeatInterval)},_startHeartbeatTimeoutTimer:function(){var t=this;t._heartbeatTimeoutHandle=e.setTimeout(a.bind(t._heartbeatTimeoutFired,t),t.heartbeatTimeout)},_clearHeartbeatIntervalTimer:function(){var t=this;t._heartbeatIntervalHandle&&(e.clearTimeout(t._heartbeatIntervalHandle),t._heartbeatIntervalHandle=null)},_clearHeartbeatTimeoutTimer:function(){var t=this;t._heartbeatTimeoutHandle&&(e.clearTimeout(t._heartbeatTimeoutHandle),t._heartbeatTimeoutHandle=null)},_heartbeatIntervalFired:function(){var e=this;e._heartbeatIntervalHandle=null,e._sendPing(),e._startHeartbeatTimeoutTimer()},_heartbeatTimeoutFired:function(){var e=this;e._heartbeatTimeoutHandle=null,e._onTimeout()},pingReceived:function(){var e=this;e._heartbeatIntervalHandle&&(e._clearHeartbeatIntervalTimer(),e._startHeartbeatIntervalTimer())},pongReceived:function(){var e=this;e._heartbeatTimeoutHandle&&(e._clearHeartbeatTimeoutTimer(),e._startHeartbeatIntervalTimer())}})}.call(this),function(){b=["1","pre2","pre1"],p.SUPPORTED_DDP_VERSIONS=b,y=function(e){var t=this;this.isSimulation=e.isSimulation,this._unblock=e.unblock||function(){},this._calledUnblock=!1,this.userId=e.userId,this._setUserId=e.setUserId||function(){},this.connection=e.connection,this.randomSeed=e.randomSeed,this.randomStream=null},a.extend(y.prototype,{unblock:function(){var e=this;e._calledUnblock=!0,e._unblock()},setUserId:function(e){var t=this;if(t._calledUnblock)throw new Error("Can't call setUserId in a method after calling unblock");t.userId=e,t._setUserId(e)}}),w=function(t){try{var n=i.parse(t)}catch(r){return e._debug("Discarding message with invalid JSON",t),null}return null===n||"object"!=typeof n?(e._debug("Discarding non-object DDP message",t),null):(a.has(n,"cleared")&&(a.has(n,"fields")||(n.fields={}),a.each(n.cleared,function(e){n.fields[e]=void 0}),delete n.cleared),a.each(["fields","params","result"],function(e){a.has(n,e)&&(n[e]=o._adjustTypesFromJSONValue(n[e]))}),n)},k=function(e){var t=o.clone(e);if(a.has(e,"fields")){var n=[];a.each(e.fields,function(e,r){void 0===e&&(n.push(r),delete t.fields[r])}),a.isEmpty(n)||(t.cleared=n),a.isEmpty(t.fields)&&delete t.fields}if(a.each(["fields","params","result"],function(e){a.has(t,e)&&(t[e]=o._adjustTypesToJSONValue(t[e]))}),e.id&&"string"!=typeof e.id)throw new Error("Message id is not a string");return i.stringify(t)},_._CurrentInvocation=new e.EnvironmentVariable}.call(this),function(){function e(){return r.hexString(20)}S=function(t){var n=this;this.seed=[].concat(t.seed||e()),this.sequences={}},S.get=function(e,t){if(t||(t="default"),!e)return r;var n=e.randomStream;return n||(e.randomStream=n=new S({seed:e.randomSeed})),n._sequence(t)},_.randomStream=function(e){var t=_._CurrentInvocation.get();return S.get(t,e)},C=function(e,t){var n=S.get(e,"/rpc/"+t);return n.hexString(20)},a.extend(S.prototype,{_sequence:function(e){var t=this,n=t.sequences[e]||null;if(null===n){for(var o=t.seed.concat(e),i=0;i<o.length;i++)a.isFunction(o[i])&&(o[i]=o[i]());t.sequences[e]=n=r.createWithSeeds.apply(null,o)}return n}})}.call(this),function(){if(e.isServer)var t=Npm.require("path"),n=Npm.require("fibers"),u=Npm.require(t.join("fibers","future"));var c=function(t,n){var r=this;n=a.extend({onConnected:function(){},onDDPVersionNegotiationFailure:function(t){e._debug(t)},heartbeatInterval:35e3,heartbeatTimeout:15e3,reloadWithOutstanding:!1,supportedDDPVersions:b,retry:!0,respondToPings:!0},n),r.onReconnect=null,r._stream="object"==typeof t?t:new p.ClientStream(t,{retry:n.retry,headers:n.headers,_sockjsOptions:n._sockjsOptions,_dontPrintErrors:n._dontPrintErrors,connectTimeoutMs:n.connectTimeoutMs}),r._lastSessionId=null,r._versionSuggestion=null,r._version=null,r._stores={},r._methodHandlers={},r._nextMethodId=1,r._supportedDDPVersions=n.supportedDDPVersions,r._heartbeatInterval=n.heartbeatInterval,r._heartbeatTimeout=n.heartbeatTimeout,r._methodInvokers={},r._outstandingMethodBlocks=[],r._documentsWrittenByStub={},r._serverDocuments={},r._afterUpdateCallbacks=[],r._messagesBufferedUntilQuiescence=[],r._methodsBlockingQuiescence={},r._subsBeingRevived={},r._resetStores=!1,r._updatesForUnknownStores={},r._retryMigrate=null,r._subscriptions={},r._userId=null,r._userIdDeps=new s.Dependency,e.isClient&&Package.reload&&!n.reloadWithOutstanding&&Package.reload.Reload._onMigrate(function(e){if(r._readyToMigrate())return[!0];if(r._retryMigrate)throw new Error("Two migrations in progress?");return r._retryMigrate=e,!1});var o=function(t){try{var o=w(t)}catch(i){return void e._debug("Exception while parsing DDP",i)}if(null===o||!o.msg)return void(o&&o.server_id||e._debug("discarding invalid livedata message",o));if("connected"===o.msg)r._version=r._versionSuggestion,r._livedata_connected(o),n.onConnected();else if("failed"==o.msg)if(a.contains(r._supportedDDPVersions,o.version))r._versionSuggestion=o.version,r._stream.reconnect({_force:!0});else{var s="DDP version negotiation failed; server requested version "+o.version;r._stream.disconnect({_permanent:!0,_error:s}),n.onDDPVersionNegotiationFailure(s)}else"ping"===o.msg?(n.respondToPings&&r._send({msg:"pong",id:o.id}),r._heartbeat&&r._heartbeat.pingReceived()):"pong"===o.msg?r._heartbeat&&r._heartbeat.pongReceived():a.include(["added","changed","removed","ready","updated"],o.msg)?r._livedata_data(o):"nosub"===o.msg?r._livedata_nosub(o):"result"===o.msg?r._livedata_result(o):"error"===o.msg?r._livedata_error(o):e._debug("discarding unknown livedata message type",o)},i=function(){var e={msg:"connect"};r._lastSessionId&&(e.session=r._lastSessionId),e.version=r._versionSuggestion||r._supportedDDPVersions[0],r._versionSuggestion=e.version,e.support=r._supportedDDPVersions,r._send(e),!a.isEmpty(r._outstandingMethodBlocks)&&a.isEmpty(r._outstandingMethodBlocks[0].methods)&&r._outstandingMethodBlocks.shift(),a.each(r._methodInvokers,function(e){e.sentMessage=!1}),r.onReconnect?r._callOnReconnectAndSendAppropriateOutstandingMethods():r._sendOutstandingMethods(),a.each(r._subscriptions,function(e,t){r._send({msg:"sub",id:t,name:e.name,params:e.params})})},u=function(){r._heartbeat&&(r._heartbeat.stop(),r._heartbeat=null)};e.isServer?(r._stream.on("message",e.bindEnvironment(o,e._debug)),r._stream.on("reset",e.bindEnvironment(i,e._debug)),r._stream.on("disconnect",e.bindEnvironment(u,e._debug))):(r._stream.on("message",o),r._stream.on("reset",i),r._stream.on("disconnect",u))},l=function(e){var t=this;t.methodId=e.methodId,t.sentMessage=!1,t._callback=e.callback,t._connection=e.connection,t._message=e.message,t._onResultReceived=e.onResultReceived||function(){},t._wait=e.wait,t._methodResult=null,t._dataVisible=!1,t._connection._methodInvokers[t.methodId]=t};a.extend(l.prototype,{sendMessage:function(){var e=this;if(e.gotResult())throw new Error("sendingMethod is called on method with result");e._dataVisible=!1,e.sentMessage=!0,e._wait&&(e._connection._methodsBlockingQuiescence[e.methodId]=!0),e._connection._send(e._message)},_maybeInvokeCallback:function(){var e=this;e._methodResult&&e._dataVisible&&(e._callback(e._methodResult[0],e._methodResult[1]),delete e._connection._methodInvokers[e.methodId],e._connection._outstandingMethodFinished())},receiveResult:function(e,t){var n=this;if(n.gotResult())throw new Error("Methods should only receive results once");n._methodResult=[e,t],n._onResultReceived(e,t),n._maybeInvokeCallback()},dataVisible:function(){var e=this;e._dataVisible=!0,e._maybeInvokeCallback()},gotResult:function(){var e=this;return!!e._methodResult}}),a.extend(c.prototype,{registerStore:function(e,t){var n=this;if(e in n._stores)return!1;var r={};a.each(["update","beginUpdate","endUpdate","saveOriginals","retrieveOriginals"],function(e){r[e]=function(){return t[e]?t[e].apply(t,arguments):void 0}}),n._stores[e]=r;var o=n._updatesForUnknownStores[e];return o&&(r.beginUpdate(o.length,!1),a.each(o,function(e){r.update(e)}),r.endUpdate(),delete n._updatesForUnknownStores[e]),!0},subscribe:function(e){var t=this,n=Array.prototype.slice.call(arguments,1),i={};if(n.length){var u=n[n.length-1];a.isFunction(u)?i.onReady=n.pop():u&&a.any([u.onReady,u.onError,u.onStop],a.isFunction)&&(i=n.pop())}var c=a.find(t._subscriptions,function(t){return t.inactive&&t.name===e&&o.equals(t.params,n)}),l;c?(l=c.id,c.inactive=!1,i.onReady&&(c.ready||(c.readyCallback=i.onReady)),i.onError&&(c.errorCallback=i.onError),i.onStop&&(c.stopCallback=i.onStop)):(l=r.id(),t._subscriptions[l]={id:l,name:e,params:o.clone(n),inactive:!1,ready:!1,readyDeps:new s.Dependency,readyCallback:i.onReady,errorCallback:i.onError,stopCallback:i.onStop,connection:t,remove:function(){delete this.connection._subscriptions[this.id],this.ready&&this.readyDeps.changed()},stop:function(){this.connection._send({msg:"unsub",id:l}),this.remove(),i.onStop&&i.onStop()}},t._send({msg:"sub",id:l,name:e,params:n}));var d={stop:function(){a.has(t._subscriptions,l)&&t._subscriptions[l].stop()},ready:function(){if(!a.has(t._subscriptions,l))return!1;var e=t._subscriptions[l];return e.readyDeps.depend(),e.ready},subscriptionId:l};return s.active&&s.onInvalidate(function(e){a.has(t._subscriptions,l)&&(t._subscriptions[l].inactive=!0),s.afterFlush(function(){a.has(t._subscriptions,l)&&t._subscriptions[l].inactive&&d.stop()})}),d},_subscribeAndWait:function(e,t,n){var r=this,o=new u,i=!1,a;return t=t||[],t.push({onReady:function(){i=!0,o["return"]()},onError:function(e){i?n&&n.onLateError&&n.onLateError(e):o["throw"](e)}}),a=r.subscribe.apply(r,[e].concat(t)),o.wait(),a},methods:function(e){var t=this;a.each(e,function(e,n){if(t._methodHandlers[n])throw new Error("A method named '"+n+"' is already defined");t._methodHandlers[n]=e})},call:function(e){var t=Array.prototype.slice.call(arguments,1);if(t.length&&"function"==typeof t[t.length-1])var n=t.pop();return this.apply(e,t,n)},apply:function(t,n,r,i){var s=this;i||"function"!=typeof r||(i=r,r={}),r=r||{},i&&(i=e.bindEnvironment(i,"delivering result of invoking '"+t+"'")),n=o.clone(n);var c=function(){var e;return function(){return void 0===e&&(e=""+s._nextMethodId++),e}}(),d=_._CurrentInvocation.get(),f=d&&d.isSimulation,p=null,h=function(){return null===p&&(p=C(d,t)),p},v=s._methodHandlers[t];if(v){var m=function(e){s.setUserId(e)},g=new y({isSimulation:!0,userId:s.userId(),setUserId:m,randomSeed:function(){return h()}});f||s._saveOriginals();try{var b=_._CurrentInvocation.withValue(g,function(){return e.isServer?e._noYieldsAllowed(function(){return v.apply(g,o.clone(n))}):v.apply(g,o.clone(n))})}catch(w){var k=w}f||s._retrieveAndStoreOriginals(c())}if(f){if(i)return void i(k,b);if(k)throw k;return b}if(k&&!k.expected&&e._debug("Exception while simulating the effect of invoking '"+t+"'",k,k.stack),!i)if(e.isClient)i=function(n){n&&e._debug("Error invoking Method '"+t+"':",n.message)};else{var S=new u;i=S.resolver()}var T={msg:"method",method:t,params:n,id:c()};null!==p&&(T.randomSeed=p);var E=new l({methodId:c(),callback:i,connection:s,onResultReceived:r.onResultReceived,wait:!!r.wait,message:T});return r.wait?s._outstandingMethodBlocks.push({wait:!0,methods:[E]}):((a.isEmpty(s._outstandingMethodBlocks)||a.last(s._outstandingMethodBlocks).wait)&&s._outstandingMethodBlocks.push({wait:!1,methods:[]}),a.last(s._outstandingMethodBlocks).methods.push(E)),1===s._outstandingMethodBlocks.length&&E.sendMessage(),S?S.wait():r.returnStubValue?b:void 0},_saveOriginals:function(){var e=this;a.each(e._stores,function(e){e.saveOriginals()})},_retrieveAndStoreOriginals:function(e){var t=this;if(t._documentsWrittenByStub[e])throw new Error("Duplicate methodId in _retrieveAndStoreOriginals");var n=[];a.each(t._stores,function(r,o){var i=r.retrieveOriginals();i&&i.forEach(function(r,i){n.push({collection:o,id:i}),a.has(t._serverDocuments,o)||(t._serverDocuments[o]=new d._IdMap);var s=t._serverDocuments[o].setDefault(i,{});s.writtenByStubs?s.writtenByStubs[e]=!0:(s.document=r,s.flushCallbacks=[],s.writtenByStubs={},s.writtenByStubs[e]=!0)})}),a.isEmpty(n)||(t._documentsWrittenByStub[e]=n)},_unsubscribeAll:function(){var e=this;a.each(a.clone(e._subscriptions),function(t,n){"meteor_autoupdate_clientVersions"!==t.name&&e._subscriptions[n].stop()})},_send:function(e){var t=this;t._stream.send(k(e))},_lostConnection:function(e){var t=this;t._stream._lostConnection(e)},status:function(){var e=this;return e._stream.status.apply(e._stream,arguments)},reconnect:function(){var e=this;return e._stream.reconnect.apply(e._stream,arguments)},disconnect:function(){var e=this;return e._stream.disconnect.apply(e._stream,arguments)},close:function(){var e=this;return e._stream.disconnect({_permanent:!0})},userId:function(){var e=this;return e._userIdDeps&&e._userIdDeps.depend(),e._userId},setUserId:function(e){var t=this;t._userId!==e&&(t._userId=e,t._userIdDeps&&t._userIdDeps.changed())},_waitingForQuiescence:function(){var e=this;return!a.isEmpty(e._subsBeingRevived)||!a.isEmpty(e._methodsBlockingQuiescence)},_anyMethodsAreOutstanding:function(){var e=this;return a.any(a.pluck(e._methodInvokers,"sentMessage"))},_livedata_connected:function(e){var t=this;if("pre1"!==t._version&&0!==t._heartbeatInterval&&(t._heartbeat=new g({heartbeatInterval:t._heartbeatInterval,heartbeatTimeout:t._heartbeatTimeout,onTimeout:function(){t._lostConnection(new _.ConnectionError("DDP heartbeat timed out"))},sendPing:function(){t._send({msg:"ping"})}}),t._heartbeat.start()),t._lastSessionId&&(t._resetStores=!0),"string"==typeof e.session){var n=t._lastSessionId===e.session;t._lastSessionId=e.session}n||(t._updatesForUnknownStores={},t._resetStores&&(t._documentsWrittenByStub={},t._serverDocuments={}),t._afterUpdateCallbacks=[],t._subsBeingRevived={},a.each(t._subscriptions,function(e,n){e.ready&&(t._subsBeingRevived[n]=!0)}),t._methodsBlockingQuiescence={},t._resetStores&&a.each(t._methodInvokers,function(e){e.gotResult()?t._afterUpdateCallbacks.push(a.bind(e.dataVisible,e)):e.sentMessage&&(t._methodsBlockingQuiescence[e.methodId]=!0)}),t._messagesBufferedUntilQuiescence=[],t._waitingForQuiescence()||(t._resetStores&&(a.each(t._stores,function(e){e.beginUpdate(0,!0),e.endUpdate()}),t._resetStores=!1),t._runAfterUpdateCallbacks()))},_processOneDataMessage:function(e,t){var n=this;n["_process_"+e.msg](e,t)},_livedata_data:function(e){var t=this,n={};if(t._waitingForQuiescence()){if(t._messagesBufferedUntilQuiescence.push(e),"nosub"===e.msg&&delete t._subsBeingRevived[e.id],a.each(e.subs||[],function(e){delete t._subsBeingRevived[e]}),a.each(e.methods||[],function(e){delete t._methodsBlockingQuiescence[e]}),t._waitingForQuiescence())return;a.each(t._messagesBufferedUntilQuiescence,function(e){t._processOneDataMessage(e,n)}),t._messagesBufferedUntilQuiescence=[]}else t._processOneDataMessage(e,n);(t._resetStores||!a.isEmpty(n))&&(a.each(t._stores,function(e,r){e.beginUpdate(a.has(n,r)?n[r].length:0,t._resetStores)}),t._resetStores=!1,a.each(n,function(e,n){var r=t._stores[n];r?a.each(e,function(e){r.update(e)}):(a.has(t._updatesForUnknownStores,n)||(t._updatesForUnknownStores[n]=[]),Array.prototype.push.apply(t._updatesForUnknownStores[n],e))}),a.each(t._stores,function(e){e.endUpdate()})),t._runAfterUpdateCallbacks()},_runAfterUpdateCallbacks:function(){var e=this,t=e._afterUpdateCallbacks;e._afterUpdateCallbacks=[],a.each(t,function(e){e()})},_pushUpdate:function(e,t,n){var r=this;a.has(e,t)||(e[t]=[]),e[t].push(n)},_getServerDoc:function(e,t){var n=this;if(!a.has(n._serverDocuments,e))return null;var r=n._serverDocuments[e];return r.get(t)||null},_process_added:function(e,t){var n=this,r=d._idParse(e.id),o=n._getServerDoc(e.collection,r);if(o){if(void 0!==o.document)throw new Error("Server sent add for existing id: "+e.id);o.document=e.fields||{},o.document._id=r}else n._pushUpdate(t,e.collection,e)},_process_changed:function(e,t){var n=this,r=n._getServerDoc(e.collection,d._idParse(e.id));if(r){if(void 0===r.document)throw new Error("Server sent changed for nonexisting id: "+e.id);d._applyChanges(r.document,e.fields)}else n._pushUpdate(t,e.collection,e)},_process_removed:function(e,t){var n=this,r=n._getServerDoc(e.collection,d._idParse(e.id));if(r){if(void 0===r.document)throw new Error("Server sent removed for nonexisting id:"+e.id);r.document=void 0}else n._pushUpdate(t,e.collection,{msg:"removed",collection:e.collection,id:e.id})},_process_updated:function(e,t){var n=this;a.each(e.methods,function(e){a.each(n._documentsWrittenByStub[e],function(r){var o=n._getServerDoc(r.collection,r.id);if(!o)throw new Error("Lost serverDoc for "+i.stringify(r));if(!o.writtenByStubs[e])throw new Error("Doc "+i.stringify(r)+" not written by  method "+e);delete o.writtenByStubs[e],a.isEmpty(o.writtenByStubs)&&(n._pushUpdate(t,r.collection,{msg:"replace",id:d._idStringify(r.id),replace:o.document}),a.each(o.flushCallbacks,function(e){e()}),n._serverDocuments[r.collection].remove(r.id))}),delete n._documentsWrittenByStub[e];var r=n._methodInvokers[e];if(!r)throw new Error("No callback invoker for method "+e);n._runWhenAllServerDocsAreFlushed(a.bind(r.dataVisible,r))})},_process_ready:function(e,t){var n=this;a.each(e.subs,function(e){n._runWhenAllServerDocsAreFlushed(function(){var t=n._subscriptions[e];t&&(t.ready||(t.readyCallback&&t.readyCallback(),t.ready=!0,t.readyDeps.changed()))})})},_runWhenAllServerDocsAreFlushed:function(e){var t=this,n=function(){t._afterUpdateCallbacks.push(e)},r=0,o=function(){--r,0===r&&n()};a.each(t._serverDocuments,function(e){e.forEach(function(e){var n=a.any(e.writtenByStubs,function(e,n){var r=t._methodInvokers[n];return r&&r.sentMessage});n&&(++r,e.flushCallbacks.push(o))})}),0===r&&n()},_livedata_nosub:function(t){var n=this;if(n._livedata_data(t),a.has(n._subscriptions,t.id)){var r=n._subscriptions[t.id].errorCallback,o=n._subscriptions[t.id].stopCallback;n._subscriptions[t.id].remove();var i=function(t){return t&&t.error&&new e.Error(t.error.error,t.error.reason,t.error.details)};r&&t.error&&r(i(t)),o&&o(i(t))}},_process_nosub:function(){},_livedata_result:function(t){var n=this;if(a.isEmpty(n._outstandingMethodBlocks))return void e._debug("Received method result but no methods outstanding");for(var r=n._outstandingMethodBlocks[0].methods,o,i=0;i<r.length&&(o=r[i],o.methodId!==t.id);i++);return o?(r.splice(i,1),void(a.has(t,"error")?o.receiveResult(new e.Error(t.error.error,t.error.reason,t.error.details)):o.receiveResult(void 0,t.result))):void e._debug("Can't match method response to original method call",t)},_outstandingMethodFinished:function(){var e=this;if(!e._anyMethodsAreOutstanding()){if(!a.isEmpty(e._outstandingMethodBlocks)){var t=e._outstandingMethodBlocks.shift();if(!a.isEmpty(t.methods))throw new Error("No methods outstanding but nonempty block: "+i.stringify(t));a.isEmpty(e._outstandingMethodBlocks)||e._sendOutstandingMethods()}e._maybeMigrate()}},_sendOutstandingMethods:function(){var e=this;a.isEmpty(e._outstandingMethodBlocks)||a.each(e._outstandingMethodBlocks[0].methods,function(e){e.sendMessage()})},_livedata_error:function(t){e._debug("Received error from server: ",t.reason),t.offendingMessage&&e._debug("For: ",t.offendingMessage)},_callOnReconnectAndSendAppropriateOutstandingMethods:function(){var e=this,t=e._outstandingMethodBlocks;if(e._outstandingMethodBlocks=[],e.onReconnect(),!a.isEmpty(t)){if(a.isEmpty(e._outstandingMethodBlocks))return e._outstandingMethodBlocks=t,void e._sendOutstandingMethods();a.last(e._outstandingMethodBlocks).wait||t[0].wait||(a.each(t[0].methods,function(t){a.last(e._outstandingMethodBlocks).methods.push(t),1===e._outstandingMethodBlocks.length&&t.sendMessage()}),t.shift()),a.each(t,function(t){e._outstandingMethodBlocks.push(t)})}},_readyToMigrate:function(){var e=this;return a.isEmpty(e._methodInvokers)},_maybeMigrate:function(){var e=this;e._retryMigrate&&e._readyToMigrate()&&(e._retryMigrate(),e._retryMigrate=null)}}),p.Connection=c,_.connect=function(e,t){var n=new c(e,t);return T.push(n),n},T=[],_._allSubscriptionsReady=function(){return a.all(T,function(e){return a.all(e._subscriptions,function(e){return e.ready})})}}.call(this),function(){if(e.refresh=function(e){},e.isClient){var t="/";"undefined"!=typeof __meteor_runtime_config__&&__meteor_runtime_config__.DDP_DEFAULT_CONNECTION_URL&&(t=__meteor_runtime_config__.DDP_DEFAULT_CONNECTION_URL);var n=new l,r=function(t){if(e._debug(t),Package.reload){var r=Package.reload.Reload._migrationData("livedata")||{},o=r.DDPVersionNegotiationFailures||0;++o,Package.reload.Reload._onMigrate("livedata",function(){return[!0,{DDPVersionNegotiationFailures:o}]}),n.retryLater(o,function(){Package.reload.Reload._reload()})}};e.connection=_.connect(t,{onDDPVersionNegotiationFailure:r}),a.each(["subscribe","methods","call","apply","status","reconnect","disconnect"],function(t){e[t]=a.bind(e.connection[t],e.connection)})}else e.connection=null;e.default_connection=e.connection,e.connect=_.connect}.call(this),"undefined"==typeof Package&&(Package={}),Package.ddp={DDP:_,LivedataTest:p}}();

!function(){var e=Package.meteor.Meteor,n=Package.random.Random,o=Package.ejson.EJSON,t=Package.json.JSON,r=Package.underscore._,i=Package.minimongo.LocalCollection,c=Package.minimongo.Minimongo,l=Package.logging.Log,a=Package.ddp.DDP,s=Package.tracker.Tracker,d=Package.tracker.Deps,u=Package.check.check,f=Package.check.Match,_,p;(function(){p=function(){var e=this;e.noConnCollections={}};var e=function(e,n){return e in n||(n[e]=new i(e)),n[e]};r.extend(p.prototype,{open:function(n,o){var t=this;return n?o?(o._mongo_livedata_collections||(o._mongo_livedata_collections={}),e(n,o._mongo_livedata_collections)):e(n,t.noConnCollections):new i}}),p=new p}).call(this),function(){_={},_.Collection=function(o,t){var c=this;if(!(c instanceof _.Collection))throw new Error('use "new" to construct a Mongo.Collection');if(o||null===o||(e._debug("Warning: creating anonymous collection. It will not be saved or synchronized over the network. (Pass null for the collection name to turn off this warning.)"),o=null),null!==o&&"string"!=typeof o)throw new Error("First argument to new Mongo.Collection must be a string or null");switch(t&&t.methods&&(t={connection:t}),t&&t.manager&&!t.connection&&(t.connection=t.manager),t=r.extend({connection:void 0,idGeneration:"STRING",transform:null,_driver:void 0,_preventAutopublish:!1},t),t.idGeneration){case"MONGO":c._makeNewID=function(){var e=o?a.randomStream("/collection/"+o):n;return new _.ObjectID(e.hexString(24))};break;case"STRING":default:c._makeNewID=function(){var e=o?a.randomStream("/collection/"+o):n;return e.id()}}if(c._transform=i.wrapTransform(t.transform),c._connection=o&&null!==t.connection?t.connection?t.connection:e.isClient?e.connection:e.server:null,t._driver||(t._driver=o&&c._connection===e.server&&"undefined"!=typeof MongoInternals&&MongoInternals.defaultRemoteCollectionDriver?MongoInternals.defaultRemoteCollectionDriver():p),c._collection=t._driver.open(o,c._connection),c._name=o,c._driver=t._driver,c._connection&&c._connection.registerStore){var l=c._connection.registerStore(o,{beginUpdate:function(e,n){(e>1||n)&&c._collection.pauseObservers(),n&&c._collection.remove({})},update:function(e){var n=i._idParse(e.id),o=c._collection.findOne(n);if("replace"===e.msg){var t=e.replace;return void(t?o?c._collection.update(n,t):c._collection.insert(t):o&&c._collection.remove(n))}if("added"===e.msg){if(o)throw new Error("Expected not to find a document already present for an add");c._collection.insert(r.extend({_id:n},e.fields))}else if("removed"===e.msg){if(!o)throw new Error("Expected to find a document already present for removed");c._collection.remove(n)}else{if("changed"!==e.msg)throw new Error("I don't know how to deal with this message");if(!o)throw new Error("Expected to find a document to change");if(!r.isEmpty(e.fields)){var l={};r.each(e.fields,function(e,n){void 0===e?(l.$unset||(l.$unset={}),l.$unset[n]=1):(l.$set||(l.$set={}),l.$set[n]=e)}),c._collection.update(n,l)}}},endUpdate:function(){c._collection.resumeObservers()},saveOriginals:function(){c._collection.saveOriginals()},retrieveOriginals:function(){return c._collection.retrieveOriginals()}});if(!l)throw new Error("There is already a collection named '"+o+"'")}c._defineMutationMethods(),Package.autopublish&&!t._preventAutopublish&&c._connection&&c._connection.publish&&c._connection.publish(null,function(){return c.find()},{is_auto:!0})},r.extend(_.Collection.prototype,{_getFindSelector:function(e){return 0==e.length?{}:e[0]},_getFindOptions:function(e){var n=this;return e.length<2?{transform:n._transform}:(u(e[1],f.Optional(f.ObjectIncluding({fields:f.Optional(f.OneOf(Object,void 0)),sort:f.Optional(f.OneOf(Object,Array,void 0)),limit:f.Optional(f.OneOf(Number,void 0)),skip:f.Optional(f.OneOf(Number,void 0))}))),r.extend({transform:n._transform},e[1]))},find:function(){var e=this,n=r.toArray(arguments);return e._collection.find(e._getFindSelector(n),e._getFindOptions(n))},findOne:function(){var e=this,n=r.toArray(arguments);return e._collection.findOne(e._getFindSelector(n),e._getFindOptions(n))}}),_.Collection._publishCursor=function(e,n,o){var t=e.observeChanges({added:function(e,t){n.added(o,e,t)},changed:function(e,t){n.changed(o,e,t)},removed:function(e){n.removed(o,e)}});n.onStop(function(){t.stop()})},_.Collection._rewriteSelector=function(e){if(i._selectorIsId(e)&&(e={_id:e}),!e||"_id"in e&&!e._id)return{_id:n.id()};var o={};return r.each(e,function(e,n){e instanceof RegExp?o[n]=t(e):e&&e.$regex instanceof RegExp?(o[n]=t(e.$regex),void 0!==e.$options&&(o[n].$options=e.$options)):o[n]=r.contains(["$or","$and","$nor"],n)?r.map(e,function(e){return _.Collection._rewriteSelector(e)}):e}),o};var t=function(e){u(e,RegExp);var n={$regex:e.source},o="";return e.ignoreCase&&(o+="i"),e.multiline&&(o+="m"),o&&(n.$options=o),n},c=function(n,o){if(!i._selectorIsIdPerhapsAsObject(n))throw new e.Error(403,"Not permitted. Untrusted code may only "+o+" documents by ID.")};r.each(["insert","update","remove"],function(n){_.Collection.prototype[n]=function(){var o=this,t=r.toArray(arguments),i,l,s;if(t.length&&(void 0===t[t.length-1]||t[t.length-1]instanceof Function)&&(i=t.pop()),"insert"===n){if(!t.length)throw new Error("insert requires an argument");if(t[0]=r.extend({},t[0]),"_id"in t[0]){if(l=t[0]._id,!l||!("string"==typeof l||l instanceof _.ObjectID))throw new Error("Meteor requires document _id fields to be non-empty strings or ObjectIDs")}else{var d=!0;if(o._connection&&o._connection!==e.server){var u=a._CurrentInvocation.get();u||(d=!1)}d&&(l=t[0]._id=o._makeNewID())}}else if(t[0]=_.Collection._rewriteSelector(t[0]),"update"===n){var f=t[2]=r.clone(t[2])||{};if(f&&"function"!=typeof f&&f.upsert)if(f.insertedId){if(!("string"==typeof f.insertedId||f.insertedId instanceof _.ObjectID))throw new Error("insertedId must be string or ObjectID")}else t[0]._id||(f.insertedId=o._makeNewID())}var p=function(e){return"insert"===n?(!l&&e&&(l=e),l):e},v;if(i&&(v=function(e,n){i(e,!e&&p(n))}),o._connection&&o._connection!==e.server){var u=a._CurrentInvocation.get(),h=u&&u.isSimulation;!e.isClient||v||h||(v=function(o){o&&e._debug(n+" failed: "+(o.reason||o.stack))}),h||"insert"===n||c(t[0],n),s=p(o._connection.apply(o._prefix+n,t,{returnStubValue:!0},v))}else{t.push(v);try{var m=o._collection[n].apply(o._collection,t);s=p(m)}catch(w){if(i)return i(w),null;throw w}}return s}}),_.Collection.prototype.upsert=function(e,n,o,t){var i=this;return t||"function"!=typeof o||(t=o,o={}),i.update(e,n,r.extend({},o,{_returnObject:!0,upsert:!0}),t)},_.Collection.prototype._ensureIndex=function(e,n){var o=this;if(!o._collection._ensureIndex)throw new Error("Can only call _ensureIndex on server collections");o._collection._ensureIndex(e,n)},_.Collection.prototype._dropIndex=function(e){var n=this;if(!n._collection._dropIndex)throw new Error("Can only call _dropIndex on server collections");n._collection._dropIndex(e)},_.Collection.prototype._dropCollection=function(){var e=this;if(!e._collection.dropCollection)throw new Error("Can only call _dropCollection on server collections");e._collection.dropCollection()},_.Collection.prototype._createCappedCollection=function(e,n){var o=this;if(!o._collection._createCappedCollection)throw new Error("Can only call _createCappedCollection on server collections");o._collection._createCappedCollection(e,n)},_.Collection.prototype.rawCollection=function(){var e=this;if(!e._collection.rawCollection)throw new Error("Can only call rawCollection on server collections");return e._collection.rawCollection()},_.Collection.prototype.rawDatabase=function(){var e=this;if(!e._driver.mongo||!e._driver.mongo.db)throw new Error("Can only call rawDatabase on server collections");return e._driver.mongo.db},_.ObjectID=i._ObjectID,_.Cursor=i.Cursor,_.Collection.Cursor=_.Cursor,_.Collection.ObjectID=_.ObjectID,function(){var e=function(e,n){var o=["insert","update","remove","fetch","transform"];r.each(r.keys(n),function(n){if(!r.contains(o,n))throw new Error(e+": Invalid key: "+n)});var t=this;if(t._restricted=!0,r.each(["insert","update","remove"],function(o){if(n[o]){if(!(n[o]instanceof Function))throw new Error(e+": Value for `"+o+"` must be a function");n[o].transform=void 0===n.transform?t._transform:i.wrapTransform(n.transform),t._validators[o][e].push(n[o])}}),n.update||n.remove||n.fetch){if(n.fetch&&!(n.fetch instanceof Array))throw new Error(e+": Value for `fetch` must be an array");t._updateFetch(n.fetch)}};_.Collection.prototype.allow=function(n){e.call(this,"allow",n)},_.Collection.prototype.deny=function(n){e.call(this,"deny",n)}}(),_.Collection.prototype._defineMutationMethods=function(){var n=this;if(n._restricted=!1,n._insecure=void 0,n._validators={insert:{allow:[],deny:[]},update:{allow:[],deny:[]},remove:{allow:[],deny:[]},upsert:{allow:[],deny:[]},fetch:[],fetchAllFields:!1},n._name&&(n._prefix="/"+n._name+"/",n._connection)){var o={};r.each(["insert","update","remove"],function(t){o[n._prefix+t]=function(){u(arguments,[f.Any]);var o=r.toArray(arguments);try{var i=null;if("insert"!==t||r.has(o[0],"_id")||(i=n._makeNewID()),this.isSimulation)return null!==i&&(o[0]._id=i),n._collection[t].apply(n._collection,o);if("insert"!==t&&c(o[0],t),n._restricted){if(0===n._validators[t].allow.length)throw new e.Error(403,"Access denied. No allow validators set on restricted collection for method '"+t+"'.");var l="_validated"+t.charAt(0).toUpperCase()+t.slice(1);return o.unshift(this.userId),"insert"===t&&o.push(i),n[l].apply(n,o)}if(n._isInsecure())return null!==i&&(o[0]._id=i),n._collection[t].apply(n._collection,o);throw new e.Error(403,"Access denied")}catch(a){throw"MongoError"===a.name||"MinimongoError"===a.name?new e.Error(409,a.toString()):a}}}),(e.isClient||n._connection===e.server)&&n._connection.methods(o)}},_.Collection.prototype._updateFetch=function(e){var n=this;n._validators.fetchAllFields||(e?n._validators.fetch=r.union(n._validators.fetch,e):(n._validators.fetchAllFields=!0,n._validators.fetch=null))},_.Collection.prototype._isInsecure=function(){var e=this;return void 0===e._insecure?!!Package.insecure:e._insecure};var l=function(e,n,t){var r=n;return e.transform&&(r=o.clone(n),null!==t&&(r._id=t),r=e.transform(r)),r};_.Collection.prototype._validatedInsert=function(n,o,t){var i=this;if(r.any(i._validators.insert.deny,function(e){return e(n,l(e,o,t))}))throw new e.Error(403,"Access denied");if(r.all(i._validators.insert.allow,function(e){return!e(n,l(e,o,t))}))throw new e.Error(403,"Access denied");null!==t&&(o._id=t),i._collection.insert.call(i._collection,o)};var s=function(e,n){return e.transform?e.transform(n):n};_.Collection.prototype._validatedUpdate=function(n,o,t,c){var l=this;if(u(t,Object),c=r.clone(c)||{},!i._selectorIsIdPerhapsAsObject(o))throw new Error("validated update should be of a single ID");if(c.upsert)throw new e.Error(403,"Access denied. Upserts not allowed in a restricted collection.");var a="Access denied. In a restricted collection you can only update documents, not replace them. Use a Mongo update operator, such as '$set'.",f=[];if(r.isEmpty(t))throw new e.Error(403,a);r.each(t,function(n,o){if("$"!==o.charAt(0))throw new e.Error(403,a);if(!r.has(d,o))throw new e.Error(403,"Access denied. Operator "+o+" not allowed in a restricted collection.");r.each(r.keys(n),function(e){-1!==e.indexOf(".")&&(e=e.substring(0,e.indexOf("."))),r.contains(f,e)||f.push(e)})});var _={transform:null};l._validators.fetchAllFields||(_.fields={},r.each(l._validators.fetch,function(e){_.fields[e]=1}));var p=l._collection.findOne(o,_);if(!p)return 0;if(r.any(l._validators.update.deny,function(e){var o=s(e,p);return e(n,o,f,t)}))throw new e.Error(403,"Access denied");if(r.all(l._validators.update.allow,function(e){var o=s(e,p);return!e(n,o,f,t)}))throw new e.Error(403,"Access denied");return c._forbidReplace=!0,l._collection.update.call(l._collection,o,t,c)};var d={$inc:1,$set:1,$unset:1,$addToSet:1,$pop:1,$pullAll:1,$pull:1,$pushAll:1,$push:1,$bit:1};_.Collection.prototype._validatedRemove=function(n,o){var t=this,i={transform:null};t._validators.fetchAllFields||(i.fields={},r.each(t._validators.fetch,function(e){i.fields[e]=1}));var c=t._collection.findOne(o,i);if(!c)return 0;if(r.any(t._validators.remove.deny,function(e){return e(n,s(e,c))}))throw new e.Error(403,"Access denied");if(r.all(t._validators.remove.allow,function(e){return!e(n,s(e,c))}))throw new e.Error(403,"Access denied");return t._collection.remove.call(t._collection,o)},e.Collection=_.Collection}.call(this),"undefined"==typeof Package&&(Package={}),Package.mongo={Mongo:_}}();

!function(){var e=Package.meteor.Meteor,t=Package.tracker.Tracker,n=Package.tracker.Deps,a=Package.retry.Retry,r=Package.ddp.DDP,o=Package.mongo.Mongo,i=Package.underscore._,s,c;(function(){var t=__meteor_runtime_config__.autoupdateVersion||"unknown",n=__meteor_runtime_config__.autoupdateVersionRefreshable||"unknown";c=new o.Collection("meteor_autoupdate_clientVersions"),s={},s.newClientAvailable=function(){return!!c.findOne({_id:"version",version:{$ne:t}})||!!c.findOne({_id:"version-refreshable",version:{$ne:n}})};var r=!1,u=new a({minCount:0,baseTimeout:3e4}),l=0;s._retrySubscription=function(){e.subscribe("meteor_autoupdate_clientVersions",{onError:function(t){e._debug("autoupdate subscription failed:",t),l++,u.retryLater(l,function(){s._retrySubscription()})},onReady:function(){if(Package.reload)var a=function(a){var s=this;if("version-refreshable"===a._id&&a.version!==n){n=a.version;var c=a.assets&&a.assets.allCss||[],u=[];i.each(document.getElementsByTagName("link"),function(e){"__meteor-css__"===e.className&&u.push(e)});var l=function(t,n){var a=i.once(n);if(t.onload=function(){r=!0,a()},!r)var o=e.setInterval(function(){t.sheet&&(a(),e.clearInterval(o))},50)},d=i.after(c.length,function(){i.each(u,function(e){e.parentNode.removeChild(e)})}),_=function(t){document.getElementsByTagName("head").item(0).appendChild(t),l(t,function(){e.setTimeout(d,200)})};0!==c.length?i.each(c,function(t){var n=document.createElement("link");n.setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),n.setAttribute("class","__meteor-css__"),n.setAttribute("href",e._relativeToSiteRootUrl(t.url)),_(n)}):d()}else"version"===a._id&&a.version!==t&&(o&&o.stop(),Package.reload.Reload._reload())},o=c.find().observe({added:a,changed:a})}})},s._retrySubscription()}).call(this),"undefined"==typeof Package&&(Package={}),Package.autoupdate={Autoupdate:s}}();

!function(){var a=Package.meteor.Meteor,e=Package.reload.Reload,o=Package.autoupdate.Autoupdate;"undefined"==typeof Package&&(Package={}),Package["meteor-platform"]={}}();

!function(){var e=Package.meteor.Meteor,a=Package.tracker.Tracker,c=Package.tracker.Deps,a,c;"undefined"==typeof Package&&(Package={}),Package.deps={Tracker:a,Deps:c}}();

!function(){var e=Package.meteor.Meteor,t,n;(function(){!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=e.length,n=ie.type(e);return"function"===n||ie.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function r(e,t,n){if(ie.isFunction(t))return ie.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return ie.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(fe.test(t))return ie.filter(t,e,n);t=ie.filter(t,e)}return ie.grep(e,function(e){return ie.inArray(e,t)>=0!==n})}function i(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function o(e){var t=xe[e]={};return ie.each(e.match(be)||[],function(e,n){t[n]=!0}),t}function a(){he.addEventListener?(he.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1)):(he.detachEvent("onreadystatechange",s),e.detachEvent("onload",s))}function s(){(he.addEventListener||"load"===event.type||"complete"===he.readyState)&&(a(),ie.ready())}function u(e,t,n){if(void 0===n&&1===e.nodeType){var r="data-"+t.replace(Ee,"-$1").toLowerCase();if(n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:Ne.test(n)?ie.parseJSON(n):n}catch(i){}ie.data(e,t,n)}else n=void 0}return n}function l(e){var t;for(t in e)if(("data"!==t||!ie.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function c(e,t,n,r){if(ie.acceptData(e)){var i,o,a=ie.expando,s=e.nodeType,u=s?ie.cache:e,l=s?e[a]:e[a]&&a;if(l&&u[l]&&(r||u[l].data)||void 0!==n||"string"!=typeof t)return l||(l=s?e[a]=J.pop()||ie.guid++:a),u[l]||(u[l]=s?{}:{toJSON:ie.noop}),("object"==typeof t||"function"==typeof t)&&(r?u[l]=ie.extend(u[l],t):u[l].data=ie.extend(u[l].data,t)),o=u[l],r||(o.data||(o.data={}),o=o.data),void 0!==n&&(o[ie.camelCase(t)]=n),"string"==typeof t?(i=o[t],null==i&&(i=o[ie.camelCase(t)])):i=o,i}}function d(e,t,n){if(ie.acceptData(e)){var r,i,o=e.nodeType,a=o?ie.cache:e,s=o?e[ie.expando]:ie.expando;if(a[s]){if(t&&(r=n?a[s]:a[s].data)){ie.isArray(t)?t=t.concat(ie.map(t,ie.camelCase)):t in r?t=[t]:(t=ie.camelCase(t),t=t in r?[t]:t.split(" ")),i=t.length;for(;i--;)delete r[t[i]];if(n?!l(r):!ie.isEmptyObject(r))return}(n||(delete a[s].data,l(a[s])))&&(o?ie.cleanData([e],!0):ne.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}function f(){return!0}function p(){return!1}function h(){try{return he.activeElement}catch(e){}}function m(e){var t=Fe.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function g(e,t){var n,r,i=0,o=typeof e.getElementsByTagName!==Te?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==Te?e.querySelectorAll(t||"*"):void 0;if(!o)for(o=[],n=e.childNodes||e;null!=(r=n[i]);i++)!t||ie.nodeName(r,t)?o.push(r):ie.merge(o,g(r,t));return void 0===t||t&&ie.nodeName(e,t)?ie.merge([e],o):o}function v(e){je.test(e.type)&&(e.defaultChecked=e.checked)}function y(e,t){return ie.nodeName(e,"table")&&ie.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function b(e){return e.type=(null!==ie.find.attr(e,"type"))+"/"+e.type,e}function x(e){var t=Ve.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function w(e,t){for(var n,r=0;null!=(n=e[r]);r++)ie._data(n,"globalEval",!t||ie._data(t[r],"globalEval"))}function T(e,t){if(1===t.nodeType&&ie.hasData(e)){var n,r,i,o=ie._data(e),a=ie._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;i>r;r++)ie.event.add(t,n,s[n][r])}a.data&&(a.data=ie.extend({},a.data))}}function C(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!ne.noCloneEvent&&t[ie.expando]){i=ie._data(t);for(r in i.events)ie.removeEvent(t,r,i.handle);t.removeAttribute(ie.expando)}"script"===n&&t.text!==e.text?(b(t).text=e.text,x(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),ne.html5Clone&&e.innerHTML&&!ie.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&je.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function N(t,n){var r,i=ie(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(i[0]))?r.display:ie.css(i[0],"display");return i.detach(),o}function E(e){var t=he,n=Ze[e];return n||(n=N(e,t),"none"!==n&&n||(Ke=(Ke||ie("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Ke[0].contentWindow||Ke[0].contentDocument).document,t.write(),t.close(),n=N(e,t),Ke.detach()),Ze[e]=n),n}function k(e,t){return{get:function(){var n=e();if(null!=n)return n?void delete this.get:(this.get=t).apply(this,arguments)}}}function S(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=ft.length;i--;)if(t=ft[i]+n,t in e)return t;return r}function A(e,t){for(var n,r,i,o=[],a=0,s=e.length;s>a;a++)r=e[a],r.style&&(o[a]=ie._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&Ae(r)&&(o[a]=ie._data(r,"olddisplay",E(r.nodeName)))):(i=Ae(r),(n&&"none"!==n||!i)&&ie._data(r,"olddisplay",i?n:ie.css(r,"display"))));for(a=0;s>a;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function D(e,t,n){var r=ut.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function j(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=ie.css(e,n+Se[o],!0,i)),r?("content"===n&&(a-=ie.css(e,"padding"+Se[o],!0,i)),"margin"!==n&&(a-=ie.css(e,"border"+Se[o]+"Width",!0,i))):(a+=ie.css(e,"padding"+Se[o],!0,i),"padding"!==n&&(a+=ie.css(e,"border"+Se[o]+"Width",!0,i)));return a}function L(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=nt(e),a=ne.boxSizing&&"border-box"===ie.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=rt(e,t,o),(0>i||null==i)&&(i=e.style[t]),tt.test(i))return i;r=a&&(ne.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+j(e,t,n||(a?"border":"content"),r,o)+"px"}function H(e,t,n,r,i){return new H.prototype.init(e,t,n,r,i)}function q(){return setTimeout(function(){pt=void 0}),pt=ie.now()}function _(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=Se[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function M(e,t,n){for(var r,i=(bt[t]||[]).concat(bt["*"]),o=0,a=i.length;a>o;o++)if(r=i[o].call(n,t,e))return r}function F(e,t,n){var r,i,o,a,s,u,l,c,d=this,f={},p=e.style,h=e.nodeType&&Ae(e),m=ie._data(e,"fxshow");n.queue||(s=ie._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,ie.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],l=ie.css(e,"display"),c="none"===l?ie._data(e,"olddisplay")||E(e.nodeName):l,"inline"===c&&"none"===ie.css(e,"float")&&(ne.inlineBlockNeedsLayout&&"inline"!==E(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",ne.shrinkWrapBlocks()||d.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],mt.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!m||void 0===m[r])continue;h=!0}f[r]=m&&m[r]||ie.style(e,r)}else l=void 0;if(ie.isEmptyObject(f))"inline"===("none"===l?E(e.nodeName):l)&&(p.display=l);else{m?"hidden"in m&&(h=m.hidden):m=ie._data(e,"fxshow",{}),o&&(m.hidden=!h),h?ie(e).show():d.done(function(){ie(e).hide()}),d.done(function(){var t;ie._removeData(e,"fxshow");for(t in f)ie.style(e,t,f[t])});for(r in f)a=M(h?m[r]:0,r,d),r in m||(m[r]=a.start,h&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function O(e,t){var n,r,i,o,a;for(n in e)if(r=ie.camelCase(n),i=t[r],o=e[n],ie.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=ie.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function B(e,t,n){var r,i,o=0,a=yt.length,s=ie.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=pt||q(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,a=0,u=l.tweens.length;u>a;a++)l.tweens[a].run(o);return s.notifyWith(e,[l,o,n]),1>o&&u?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:ie.extend({},t),opts:ie.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:pt||q(),duration:n.duration,tweens:[],createTween:function(t,n){var r=ie.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)l.tweens[n].run(1);return t?s.resolveWith(e,[l,t]):s.rejectWith(e,[l,t]),this}}),c=l.props;for(O(c,l.opts.specialEasing);a>o;o++)if(r=yt[o].call(l,e,c,l.opts))return r;return ie.map(c,M,l),ie.isFunction(l.opts.start)&&l.opts.start.call(e,l),ie.fx.timer(ie.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function P(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(be)||[];if(ie.isFunction(n))for(;r=o[i++];)"+"===r.charAt(0)?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function R(e,t,n,r){function i(s){var u;return o[s]=!0,ie.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!=typeof l||a||o[l]?a?!(u=l):void 0:(t.dataTypes.unshift(l),i(l),!1)}),u}var o={},a=e===zt;return i(t.dataTypes[0])||!o["*"]&&i("*")}function W(e,t){var n,r,i=ie.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&ie.extend(!0,e,n),e}function $(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(a in s)if(s[a]&&s[a].test(i)){u.unshift(a);break}if(u[0]in n)o=u[0];else{for(a in n){if(!u[0]||e.converters[a+" "+u[0]]){o=a;break}r||(r=a)}o=o||r}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}function z(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(a=l[u+" "+o]||l["* "+o],!a)for(i in l)if(s=i.split(" "),s[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){a===!0?a=l[i]:l[i]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}function I(e,t,n,r){var i;if(ie.isArray(t))ie.each(t,function(t,i){n||Vt.test(e)?r(e,i):I(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==ie.type(t))r(e,t);else for(i in t)I(e+"["+i+"]",t[i],n,r)}function X(){try{return new e.XMLHttpRequest}catch(t){}}function U(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function V(e){return ie.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var J=[],Y=J.slice,Q=J.concat,G=J.push,K=J.indexOf,Z={},ee=Z.toString,te=Z.hasOwnProperty,ne={},re="1.11.2",ie=function(e,t){return new ie.fn.init(e,t)},oe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ae=/^-ms-/,se=/-([\da-z])/gi,ue=function(e,t){return t.toUpperCase()};ie.fn=ie.prototype={jquery:re,constructor:ie,selector:"",length:0,toArray:function(){return Y.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:Y.call(this)},pushStack:function(e){var t=ie.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return ie.each(this,e,t)},map:function(e){return this.pushStack(ie.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(Y.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:G,sort:J.sort,splice:J.splice},ie.extend=ie.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||ie.isFunction(a)||(a={}),s===u&&(a=this,s--);u>s;s++)if(null!=(i=arguments[s]))for(r in i)e=a[r],n=i[r],a!==n&&(l&&n&&(ie.isPlainObject(n)||(t=ie.isArray(n)))?(t?(t=!1,o=e&&ie.isArray(e)?e:[]):o=e&&ie.isPlainObject(e)?e:{},a[r]=ie.extend(l,o,n)):void 0!==n&&(a[r]=n));return a},ie.extend({expando:"jQuery"+(re+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===ie.type(e)},isArray:Array.isArray||function(e){return"array"===ie.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!ie.isArray(e)&&e-parseFloat(e)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==ie.type(e)||e.nodeType||ie.isWindow(e))return!1;try{if(e.constructor&&!te.call(e,"constructor")&&!te.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(ne.ownLast)for(t in e)return te.call(e,t);for(t in e);return void 0===t||te.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Z[ee.call(e)]||"object":typeof e},globalEval:function(t){t&&ie.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(ae,"ms-").replace(se,ue)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i,o=0,a=e.length,s=n(e);if(r){if(s)for(;a>o&&(i=t.apply(e[o],r),i!==!1);o++);else for(o in e)if(i=t.apply(e[o],r),i===!1)break}else if(s)for(;a>o&&(i=t.call(e[o],o,e[o]),i!==!1);o++);else for(o in e)if(i=t.call(e[o],o,e[o]),i===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(oe,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?ie.merge(r,"string"==typeof e?[e]:e):G.call(r,e)),r},inArray:function(e,t,n){var r;if(t){if(K)return K.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;)e[i++]=t[r++];if(n!==n)for(;void 0!==t[r];)e[i++]=t[r++];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,s=!n;a>o;o++)r=!t(e[o],o),r!==s&&i.push(e[o]);return i},map:function(e,t,r){var i,o=0,a=e.length,s=n(e),u=[];if(s)for(;a>o;o++)i=t(e[o],o,r),null!=i&&u.push(i);else for(o in e)i=t(e[o],o,r),null!=i&&u.push(i);return Q.apply([],u)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(i=e[t],t=e,e=i),ie.isFunction(e)?(n=Y.call(arguments,2),r=function(){return e.apply(t||this,n.concat(Y.call(arguments)))},r.guid=e.guid=e.guid||ie.guid++,r):void 0},now:function(){return+new Date},support:ne}),ie.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Z["[object "+t+"]"]=t.toLowerCase()});var le=function(e){function t(e,t,n,r){var i,o,a,s,u,l,d,p,h,m;if((t?t.ownerDocument||t:R)!==H&&L(t),t=t||H,n=n||[],s=t.nodeType,"string"!=typeof e||!e||1!==s&&9!==s&&11!==s)return n;if(!r&&_){if(11!==s&&(i=ye.exec(e)))if(a=i[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&B(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return K.apply(n,t.getElementsByTagName(e)),n;if((a=i[3])&&w.getElementsByClassName)return K.apply(n,t.getElementsByClassName(a)),n}if(w.qsa&&(!M||!M.test(e))){if(p=d=P,h=t,m=1!==s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(l=E(e),(d=t.getAttribute("id"))?p=d.replace(xe,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",u=l.length;u--;)l[u]=p+f(l[u]);h=be.test(e)&&c(t.parentNode)||t,m=l.join(",")}if(m)try{return K.apply(n,h.querySelectorAll(m)),n}catch(g){}finally{d||t.removeAttribute("id")}}}return S(e.replace(ue,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>T.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[P]=!0,e}function i(e){var t=H.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=e.length;r--;)T.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||V)-(~e.sourceIndex||V);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function f(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function p(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=$++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,u,l=[W,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(u=t[P]||(t[P]={}),(s=u[r])&&s[0]===W&&s[1]===o)return l[2]=s[2];if(u[r]=l,l[2]=e(t,n,a))return!0}}}function h(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function m(e,n,r){for(var i=0,o=n.length;o>i;i++)t(e,n[i],r);return r}function g(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;u>s;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),l&&t.push(s));return a}function v(e,t,n,i,o,a){return i&&!i[P]&&(i=v(i)),o&&!o[P]&&(o=v(o,a)),r(function(r,a,s,u){var l,c,d,f=[],p=[],h=a.length,v=r||m(t||"*",s.nodeType?[s]:s,[]),y=!e||!r&&t?v:g(v,f,e,s,u),b=n?o||(r?e:h||i)?[]:a:y;if(n&&n(y,b,s,u),i)for(l=g(b,p),i(l,[],s,u),c=l.length;c--;)(d=l[c])&&(b[p[c]]=!(y[p[c]]=d));if(r){if(o||e){if(o){for(l=[],c=b.length;c--;)(d=b[c])&&l.push(y[c]=d);o(null,b=[],l,u)}for(c=b.length;c--;)(d=b[c])&&(l=o?ee(r,d):f[c])>-1&&(r[l]=!(a[l]=d))}}else b=g(b===a?b.splice(h,b.length):b),o?o(null,a,b,u):K.apply(a,b)})}function y(e){for(var t,n,r,i=e.length,o=T.relative[e[0].type],a=o||T.relative[" "],s=o?1:0,u=p(function(e){return e===t},a,!0),l=p(function(e){return ee(t,e)>-1},a,!0),c=[function(e,n,r){var i=!o&&(r||n!==A)||((t=n).nodeType?u(e,n,r):l(e,n,r));return t=null,i}];i>s;s++)if(n=T.relative[e[s].type])c=[p(h(c),n)];else{if(n=T.filter[e[s].type].apply(null,e[s].matches),n[P]){for(r=++s;i>r&&!T.relative[e[r].type];r++);return v(s>1&&h(c),s>1&&f(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ue,"$1"),n,r>s&&y(e.slice(s,r)),i>r&&y(e=e.slice(r)),i>r&&f(e))}c.push(n)}return h(c)}function b(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,s,u,l){var c,d,f,p=0,h="0",m=r&&[],v=[],y=A,b=r||o&&T.find.TAG("*",l),x=W+=null==y?1:Math.random()||.1,w=b.length;for(l&&(A=a!==H&&a);h!==w&&null!=(c=b[h]);h++){if(o&&c){for(d=0;f=e[d++];)if(f(c,a,s)){u.push(c);break}l&&(W=x)}i&&((c=!f&&c)&&p--,r&&m.push(c))}if(p+=h,i&&h!==p){for(d=0;f=n[d++];)f(m,v,a,s);if(r){if(p>0)for(;h--;)m[h]||v[h]||(v[h]=Q.call(u));v=g(v)}K.apply(u,v),l&&!r&&v.length>0&&p+n.length>1&&t.uniqueSort(u)}return l&&(W=x,A=y),m};return i?r(a):a}var x,w,T,C,N,E,k,S,A,D,j,L,H,q,_,M,F,O,B,P="sizzle"+1*new Date,R=e.document,W=0,$=0,z=n(),I=n(),X=n(),U=function(e,t){return e===t&&(j=!0),0},V=1<<31,J={}.hasOwnProperty,Y=[],Q=Y.pop,G=Y.push,K=Y.push,Z=Y.slice,ee=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie=re.replace("w","w#"),oe="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ne+"*\\]",ae=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",se=new RegExp(ne+"+","g"),ue=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),le=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),de=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),fe=new RegExp(ae),pe=new RegExp("^"+ie+"$"),he={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re.replace("w","w*")+")"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,xe=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),Te=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},Ce=function(){L()};try{K.apply(Y=Z.call(R.childNodes),R.childNodes),Y[R.childNodes.length].nodeType}catch(Ne){K={apply:Y.length?function(e,t){G.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}w=t.support={},N=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},L=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:R;return r!==H&&9===r.nodeType&&r.documentElement?(H=r,q=r.documentElement,n=r.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",Ce,!1):n.attachEvent&&n.attachEvent("onunload",Ce)),_=!N(r),w.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=i(function(e){return e.appendChild(r.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=ve.test(r.getElementsByClassName),w.getById=i(function(e){return q.appendChild(e).id=P,!r.getElementsByName||!r.getElementsByName(P).length}),w.getById?(T.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&_){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},T.filter.ID=function(e){var t=e.replace(we,Te);return function(e){return e.getAttribute("id")===t}}):(delete T.find.ID,T.filter.ID=function(e){var t=e.replace(we,Te);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),T.find.TAG=w.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},T.find.CLASS=w.getElementsByClassName&&function(e,t){return _?t.getElementsByClassName(e):void 0},F=[],M=[],(w.qsa=ve.test(r.querySelectorAll))&&(i(function(e){q.appendChild(e).innerHTML="<a id='"+P+"'></a><select id='"+P+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&M.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||M.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+P+"-]").length||M.push("~="),e.querySelectorAll(":checked").length||M.push(":checked"),e.querySelectorAll("a#"+P+"+*").length||M.push(".#.+[+~]")}),i(function(e){var t=r.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&M.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||M.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),M.push(",.*:")})),(w.matchesSelector=ve.test(O=q.matches||q.webkitMatchesSelector||q.mozMatchesSelector||q.oMatchesSelector||q.msMatchesSelector))&&i(function(e){w.disconnectedMatch=O.call(e,"div"),O.call(e,"[s!='']:x"),F.push("!=",ae)}),M=M.length&&new RegExp(M.join("|")),F=F.length&&new RegExp(F.join("|")),t=ve.test(q.compareDocumentPosition),B=t||ve.test(q.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},U=t?function(e,t){if(e===t)return j=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!w.sortDetached&&t.compareDocumentPosition(e)===n?e===r||e.ownerDocument===R&&B(R,e)?-1:t===r||t.ownerDocument===R&&B(R,t)?1:D?ee(D,e)-ee(D,t):0:4&n?-1:1)}:function(e,t){if(e===t)return j=!0,0;var n,i=0,o=e.parentNode,s=t.parentNode,u=[e],l=[t];if(!o||!s)return e===r?-1:t===r?1:o?-1:s?1:D?ee(D,e)-ee(D,t):0;if(o===s)return a(e,t);for(n=e;n=n.parentNode;)u.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;u[i]===l[i];)i++;return i?a(u[i],l[i]):u[i]===R?-1:l[i]===R?1:0},r):H},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==H&&L(e),n=n.replace(de,"='$1']"),!(!w.matchesSelector||!_||F&&F.test(n)||M&&M.test(n)))try{var r=O.call(e,n);if(r||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return t(n,H,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==H&&L(e),B(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==H&&L(e);var n=T.attrHandle[t.toLowerCase()],r=n&&J.call(T.attrHandle,t.toLowerCase())?n(e,t,!_):void 0;return void 0!==r?r:w.attributes||!_?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(j=!w.detectDuplicates,D=!w.sortStable&&e.slice(0),e.sort(U),j){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return D=null,e},C=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=C(t);return n},T=t.selectors={cacheLength:50,createPseudo:r,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(we,Te),e[3]=(e[3]||e[4]||e[5]||"").replace(we,Te),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return he.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&fe.test(n)&&(t=E(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(we,Te).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=z[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&z(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:n?(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(se," ")+" ").indexOf(r)>-1:"|="===n?o===r||o.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,d,f,p,h,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!u&&!s;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&y){for(c=g[P]||(g[P]={}),l=c[e]||[],p=l[0]===W&&l[1],f=l[0]===W&&l[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(f=p=0)||h.pop();)if(1===d.nodeType&&++f&&d===t){c[e]=[W,p,f];break}}else if(y&&(l=(t[P]||(t[P]={}))[e])&&l[0]===W)f=l[1];else for(;(d=++p&&d&&d[m]||(f=p=0)||h.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++f||(y&&((d[P]||(d[P]={}))[e]=[W,f]),d!==t)););return f-=i,f===r||f%r===0&&f/r>=0}}},PSEUDO:function(e,n){var i,o=T.pseudos[e]||T.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[P]?o(n):o.length>1?(i=[e,e,"",n],T.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)r=ee(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=k(e.replace(ue,"$1"));return i[P]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(we,Te),function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:r(function(e){return pe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(we,Te).toLowerCase(),function(t){var n;do if(n=_?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===q},focus:function(e){return e===H.activeElement&&(!H.hasFocus||H.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!T.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return me.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[0>n?n+t:n]}),even:l(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:l(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},T.pseudos.nth=T.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[x]=s(x);for(x in{submit:!0,reset:!0})T.pseudos[x]=u(x);return d.prototype=T.filters=T.pseudos,T.setFilters=new d,E=t.tokenize=function(e,n){var r,i,o,a,s,u,l,c=I[e+" "];if(c)return n?0:c.slice(0);for(s=e,u=[],l=T.preFilter;s;){(!r||(i=le.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),r=!1,(i=ce.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ue," ")}),s=s.slice(r.length));

for(a in T.filter)!(i=he[a].exec(s))||l[a]&&!(i=l[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):I(e,u).slice(0)},k=t.compile=function(e,t){var n,r=[],i=[],o=X[e+" "];if(!o){for(t||(t=E(e)),n=t.length;n--;)o=y(t[n]),o[P]?r.push(o):i.push(o);o=X(e,b(i,r)),o.selector=e}return o},S=t.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,d=!r&&E(e=l.selector||e);if(n=n||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&w.getById&&9===t.nodeType&&_&&T.relative[o[1].type]){if(t=(T.find.ID(a.matches[0].replace(we,Te),t)||[])[0],!t)return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=he.needsContext.test(e)?0:o.length;i--&&(a=o[i],!T.relative[s=a.type]);)if((u=T.find[s])&&(r=u(a.matches[0].replace(we,Te),be.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&f(o),!e)return K.apply(n,r),n;break}}return(l||k(e,d))(r,t,!_,n,be.test(e)&&c(t.parentNode)||t),n},w.sortStable=P.split("").sort(U).join("")===P,w.detectDuplicates=!!j,L(),w.sortDetached=i(function(e){return 1&e.compareDocumentPosition(H.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);ie.find=le,ie.expr=le.selectors,ie.expr[":"]=ie.expr.pseudos,ie.unique=le.uniqueSort,ie.text=le.getText,ie.isXMLDoc=le.isXML,ie.contains=le.contains;var ce=ie.expr.match.needsContext,de=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,fe=/^.[^:#\[\.,]*$/;ie.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?ie.find.matchesSelector(r,e)?[r]:[]:ie.find.matches(e,ie.grep(t,function(e){return 1===e.nodeType}))},ie.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(ie(e).filter(function(){for(t=0;i>t;t++)if(ie.contains(r[t],this))return!0}));for(t=0;i>t;t++)ie.find(e,r[t],n);return n=this.pushStack(i>1?ie.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&ce.test(e)?ie(e):e||[],!1).length}});var pe,he=e.document,me=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ge=ie.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:me.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||pe).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof ie?t[0]:t,ie.merge(this,ie.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:he,!0)),de.test(n[1])&&ie.isPlainObject(t))for(n in t)ie.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if(r=he.getElementById(n[2]),r&&r.parentNode){if(r.id!==n[2])return pe.find(e);this.length=1,this[0]=r}return this.context=he,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ie.isFunction(e)?"undefined"!=typeof pe.ready?pe.ready(e):e(ie):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),ie.makeArray(e,this))};ge.prototype=ie.fn,pe=ie(he);var ve=/^(?:parents|prev(?:Until|All))/,ye={children:!0,contents:!0,next:!0,prev:!0};ie.extend({dir:function(e,t,n){for(var r=[],i=e[t];i&&9!==i.nodeType&&(void 0===n||1!==i.nodeType||!ie(i).is(n));)1===i.nodeType&&r.push(i),i=i[t];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),ie.fn.extend({has:function(e){var t,n=ie(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(ie.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=ce.test(e)||"string"!=typeof e?ie(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&ie.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?ie.unique(o):o)},index:function(e){return e?"string"==typeof e?ie.inArray(this[0],ie(e)):ie.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ie.unique(ie.merge(this.get(),ie(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ie.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ie.dir(e,"parentNode")},parentsUntil:function(e,t,n){return ie.dir(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return ie.dir(e,"nextSibling")},prevAll:function(e){return ie.dir(e,"previousSibling")},nextUntil:function(e,t,n){return ie.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return ie.dir(e,"previousSibling",n)},siblings:function(e){return ie.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ie.sibling(e.firstChild)},contents:function(e){return ie.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:ie.merge([],e.childNodes)}},function(e,t){ie.fn[e]=function(n,r){var i=ie.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=ie.filter(r,i)),this.length>1&&(ye[e]||(i=ie.unique(i)),ve.test(e)&&(i=i.reverse())),this.pushStack(i)}});var be=/\S+/g,xe={};ie.Callbacks=function(e){e="string"==typeof e?xe[e]||o(e):ie.extend({},e);var t,n,r,i,a,s,u=[],l=!e.once&&[],c=function(o){for(n=e.memory&&o,r=!0,a=s||0,s=0,i=u.length,t=!0;u&&i>a;a++)if(u[a].apply(o[0],o[1])===!1&&e.stopOnFalse){n=!1;break}t=!1,u&&(l?l.length&&c(l.shift()):n?u=[]:d.disable())},d={add:function(){if(u){var r=u.length;!function o(t){ie.each(t,function(t,n){var r=ie.type(n);"function"===r?e.unique&&d.has(n)||u.push(n):n&&n.length&&"string"!==r&&o(n)})}(arguments),t?i=u.length:n&&(s=r,c(n))}return this},remove:function(){return u&&ie.each(arguments,function(e,n){for(var r;(r=ie.inArray(n,u,r))>-1;)u.splice(r,1),t&&(i>=r&&i--,a>=r&&a--)}),this},has:function(e){return e?ie.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],i=0,this},disable:function(){return u=l=n=void 0,this},disabled:function(){return!u},lock:function(){return l=void 0,n||d.disable(),this},locked:function(){return!l},fireWith:function(e,n){return!u||r&&!l||(n=n||[],n=[e,n.slice?n.slice():n],t?l.push(n):c(n)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!r}};return d},ie.extend({Deferred:function(e){var t=[["resolve","done",ie.Callbacks("once memory"),"resolved"],["reject","fail",ie.Callbacks("once memory"),"rejected"],["notify","progress",ie.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ie.Deferred(function(n){ie.each(t,function(t,o){var a=ie.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&ie.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ie.extend(e,r):r}},i={};return r.pipe=r.then,ie.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=Y.call(arguments),r=n.length,i=1!==r||e&&ie.isFunction(e.promise)?r:0,o=1===i?e:ie.Deferred(),a=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?Y.call(arguments):r,n===s?o.notifyWith(t,n):--i||o.resolveWith(t,n)}},s,u,l;if(r>1)for(s=new Array(r),u=new Array(r),l=new Array(r);r>t;t++)n[t]&&ie.isFunction(n[t].promise)?n[t].promise().done(a(t,l,n)).fail(o.reject).progress(a(t,u,s)):--i;return i||o.resolveWith(l,n),o.promise()}});var we;ie.fn.ready=function(e){return ie.ready.promise().done(e),this},ie.extend({isReady:!1,readyWait:1,holdReady:function(e){e?ie.readyWait++:ie.ready(!0)},ready:function(e){if(e===!0?!--ie.readyWait:!ie.isReady){if(!he.body)return setTimeout(ie.ready);ie.isReady=!0,e!==!0&&--ie.readyWait>0||(we.resolveWith(he,[ie]),ie.fn.triggerHandler&&(ie(he).triggerHandler("ready"),ie(he).off("ready")))}}}),ie.ready.promise=function(t){if(!we)if(we=ie.Deferred(),"complete"===he.readyState)setTimeout(ie.ready);else if(he.addEventListener)he.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1);else{he.attachEvent("onreadystatechange",s),e.attachEvent("onload",s);var n=!1;try{n=null==e.frameElement&&he.documentElement}catch(r){}n&&n.doScroll&&!function i(){if(!ie.isReady){try{n.doScroll("left")}catch(e){return setTimeout(i,50)}a(),ie.ready()}}()}return we.promise(t)};var Te="undefined",Ce;for(Ce in ie(ne))break;ne.ownLast="0"!==Ce,ne.inlineBlockNeedsLayout=!1,ie(function(){var e,t,n,r;n=he.getElementsByTagName("body")[0],n&&n.style&&(t=he.createElement("div"),r=he.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==Te&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ne.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(r))}),function(){var e=he.createElement("div");if(null==ne.deleteExpando){ne.deleteExpando=!0;try{delete e.test}catch(t){ne.deleteExpando=!1}}e=null}(),ie.acceptData=function(e){var t=ie.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return 1!==n&&9!==n?!1:!t||t!==!0&&e.getAttribute("classid")===t};var Ne=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ee=/([A-Z])/g;ie.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?ie.cache[e[ie.expando]]:e[ie.expando],!!e&&!l(e)},data:function(e,t,n){return c(e,t,n)},removeData:function(e,t){return d(e,t)},_data:function(e,t,n){return c(e,t,n,!0)},_removeData:function(e,t){return d(e,t,!0)}}),ie.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=ie.data(o),1===o.nodeType&&!ie._data(o,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=ie.camelCase(r.slice(5)),u(o,r,i[r])));ie._data(o,"parsedAttrs",!0)}return i}return"object"==typeof e?this.each(function(){ie.data(this,e)}):arguments.length>1?this.each(function(){ie.data(this,e,t)}):o?u(o,e,ie.data(o,e)):void 0},removeData:function(e){return this.each(function(){ie.removeData(this,e)})}}),ie.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=ie._data(e,t),n&&(!r||ie.isArray(n)?r=ie._data(e,t,ie.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=ie.queue(e,t),r=n.length,i=n.shift(),o=ie._queueHooks(e,t),a=function(){ie.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ie._data(e,n)||ie._data(e,n,{empty:ie.Callbacks("once memory").add(function(){ie._removeData(e,t+"queue"),ie._removeData(e,n)})})}}),ie.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?ie.queue(this[0],e):void 0===t?this:this.each(function(){var n=ie.queue(this,e,t);ie._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&ie.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ie.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=ie.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=ie._data(o[a],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var ke=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Se=["Top","Right","Bottom","Left"],Ae=function(e,t){return e=t||e,"none"===ie.css(e,"display")||!ie.contains(e.ownerDocument,e)},De=ie.access=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===ie.type(n)){i=!0;for(s in n)ie.access(e,t,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,ie.isFunction(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(ie(e),n)})),t))for(;u>s;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},je=/^(?:checkbox|radio)$/i;!function(){var e=he.createElement("input"),t=he.createElement("div"),n=he.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ne.leadingWhitespace=3===t.firstChild.nodeType,ne.tbody=!t.getElementsByTagName("tbody").length,ne.htmlSerialize=!!t.getElementsByTagName("link").length,ne.html5Clone="<:nav></:nav>"!==he.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,n.appendChild(e),ne.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",ne.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,n.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",ne.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,ne.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){ne.noCloneEvent=!1}),t.cloneNode(!0).click()),null==ne.deleteExpando){ne.deleteExpando=!0;try{delete t.test}catch(r){ne.deleteExpando=!1}}}(),function(){var t,n,r=he.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(ne[t+"Bubbles"]=n in e)||(r.setAttribute(n,"t"),ne[t+"Bubbles"]=r.attributes[n].expando===!1);r=null}();var Le=/^(?:input|select|textarea)$/i,He=/^key/,qe=/^(?:mouse|pointer|contextmenu)|click/,_e=/^(?:focusinfocus|focusoutblur)$/,Me=/^([^.]*)(?:\.(.+)|)$/;ie.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,l,c,d,f,p,h,m,g=ie._data(e);if(g){for(n.handler&&(u=n,n=u.handler,i=u.selector),n.guid||(n.guid=ie.guid++),(a=g.events)||(a=g.events={}),(c=g.handle)||(c=g.handle=function(e){return typeof ie===Te||e&&ie.event.triggered===e.type?void 0:ie.event.dispatch.apply(c.elem,arguments)},c.elem=e),t=(t||"").match(be)||[""],s=t.length;s--;)o=Me.exec(t[s])||[],p=m=o[1],h=(o[2]||"").split(".").sort(),p&&(l=ie.event.special[p]||{},p=(i?l.delegateType:l.bindType)||p,l=ie.event.special[p]||{},d=ie.extend({type:p,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&ie.expr.match.needsContext.test(i),namespace:h.join(".")},u),(f=a[p])||(f=a[p]=[],f.delegateCount=0,l.setup&&l.setup.call(e,r,h,c)!==!1||(e.addEventListener?e.addEventListener(p,c,!1):e.attachEvent&&e.attachEvent("on"+p,c))),l.add&&(l.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,d):f.push(d),ie.event.global[p]=!0);e=null}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,d,f,p,h,m,g=ie.hasData(e)&&ie._data(e);if(g&&(c=g.events)){for(t=(t||"").match(be)||[""],l=t.length;l--;)if(s=Me.exec(t[l])||[],p=m=s[1],h=(s[2]||"").split(".").sort(),p){for(d=ie.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,f=c[p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=o=f.length;o--;)a=f[o],!i&&m!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(f.splice(o,1),a.selector&&f.delegateCount--,d.remove&&d.remove.call(e,a));u&&!f.length&&(d.teardown&&d.teardown.call(e,h,g.handle)!==!1||ie.removeEvent(e,p,g.handle),delete c[p])}else for(p in c)ie.event.remove(e,p+t[l],n,r,!0);ie.isEmptyObject(c)&&(delete g.handle,ie._removeData(e,"events"))}},trigger:function(t,n,r,i){var o,a,s,u,l,c,d,f=[r||he],p=te.call(t,"type")?t.type:t,h=te.call(t,"namespace")?t.namespace.split("."):[];if(s=c=r=r||he,3!==r.nodeType&&8!==r.nodeType&&!_e.test(p+ie.event.triggered)&&(p.indexOf(".")>=0&&(h=p.split("."),p=h.shift(),h.sort()),a=p.indexOf(":")<0&&"on"+p,t=t[ie.expando]?t:new ie.Event(p,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=h.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:ie.makeArray(n,[t]),l=ie.event.special[p]||{},i||!l.trigger||l.trigger.apply(r,n)!==!1)){if(!i&&!l.noBubble&&!ie.isWindow(r)){for(u=l.delegateType||p,_e.test(u+p)||(s=s.parentNode);s;s=s.parentNode)f.push(s),c=s;c===(r.ownerDocument||he)&&f.push(c.defaultView||c.parentWindow||e)}for(d=0;(s=f[d++])&&!t.isPropagationStopped();)t.type=d>1?u:l.bindType||p,o=(ie._data(s,"events")||{})[t.type]&&ie._data(s,"handle"),o&&o.apply(s,n),o=a&&s[a],o&&o.apply&&ie.acceptData(s)&&(t.result=o.apply(s,n),t.result===!1&&t.preventDefault());if(t.type=p,!i&&!t.isDefaultPrevented()&&(!l._default||l._default.apply(f.pop(),n)===!1)&&ie.acceptData(r)&&a&&r[p]&&!ie.isWindow(r)){c=r[a],c&&(r[a]=null),ie.event.triggered=p;try{r[p]()}catch(m){}ie.event.triggered=void 0,c&&(r[a]=c)}return t.result}},dispatch:function(e){e=ie.event.fix(e);var t,n,r,i,o,a=[],s=Y.call(arguments),u=(ie._data(this,"events")||{})[e.type]||[],l=ie.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){for(a=ie.event.handlers.call(this,e,u),t=0;(i=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,o=0;(r=i.handlers[o++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(r.namespace))&&(e.handleObj=r,e.data=r.data,n=((ie.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,s),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,u=e.target;if(s&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||"click"!==e.type)){for(i=[],o=0;s>o;o++)r=t[o],n=r.selector+" ",void 0===i[n]&&(i[n]=r.needsContext?ie(n,this).index(u)>=0:ie.find(n,this,null,[u]).length),i[n]&&i.push(r);i.length&&a.push({elem:u,handlers:i})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[ie.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=qe.test(i)?this.mouseHooks:He.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new ie.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=o.srcElement||he),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(r=e.target.ownerDocument||he,i=r.documentElement,n=r.body,e.pageX=t.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==h()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===h()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return ie.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return ie.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=ie.extend(new ie.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?ie.event.trigger(i,null,t):ie.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},ie.removeEvent=he.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===Te&&(e[r]=null),e.detachEvent(r,n))},ie.Event=function(e,t){return this instanceof ie.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?f:p):this.type=e,t&&ie.extend(this,t),this.timeStamp=e&&e.timeStamp||ie.now(),void(this[ie.expando]=!0)):new ie.Event(e,t)},ie.Event.prototype={isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=f,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=f,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=f,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},ie.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){ie.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!ie.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),ne.submitBubbles||(ie.event.special.submit={setup:function(){return ie.nodeName(this,"form")?!1:void ie.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=ie.nodeName(t,"input")||ie.nodeName(t,"button")?t.form:void 0;n&&!ie._data(n,"submitBubbles")&&(ie.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),ie._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&ie.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return ie.nodeName(this,"form")?!1:void ie.event.remove(this,"._submit")}}),ne.changeBubbles||(ie.event.special.change={setup:function(){return Le.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ie.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),ie.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),ie.event.simulate("change",this,e,!0)})),!1):void ie.event.add(this,"beforeactivate._change",function(e){var t=e.target;Le.test(t.nodeName)&&!ie._data(t,"changeBubbles")&&(ie.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||ie.event.simulate("change",this.parentNode,e,!0)}),ie._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return ie.event.remove(this,"._change"),!Le.test(this.nodeName)}}),ne.focusinBubbles||ie.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){ie.event.simulate(t,e.target,ie.event.fix(e),!0)};ie.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=ie._data(r,t);i||r.addEventListener(e,n,!0),ie._data(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=ie._data(r,t)-1;i?ie._data(r,t,i):(r.removeEventListener(e,n,!0),ie._removeData(r,t))}}}),ie.fn.extend({on:function(e,t,n,r,i){var o,a;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(o in e)this.on(o,t,n,e[o],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),r===!1)r=p;else if(!r)return this;return 1===i&&(a=r,r=function(e){return ie().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=ie.guid++)),this.each(function(){ie.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,ie(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=p),this.each(function(){ie.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){ie.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?ie.event.trigger(e,t,n,!0):void 0}});var Fe="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Oe=/ jQuery\d+="(?:null|\d+)"/g,Be=new RegExp("<(?:"+Fe+")[\\s/>]","i"),Pe=/^\s+/,Re=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,We=/<([\w:]+)/,$e=/<tbody/i,ze=/<|&#?\w+;/,Ie=/<(?:script|style|link)/i,Xe=/checked\s*(?:[^=]|=\s*.checked.)/i,Ue=/^$|\/(?:java|ecma)script/i,Ve=/^true\/(.*)/,Je=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ye={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ne.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Qe=m(he),Ge=Qe.appendChild(he.createElement("div"));Ye.optgroup=Ye.option,Ye.tbody=Ye.tfoot=Ye.colgroup=Ye.caption=Ye.thead,Ye.th=Ye.td,ie.extend({clone:function(e,t,n){var r,i,o,a,s,u=ie.contains(e.ownerDocument,e);if(ne.html5Clone||ie.isXMLDoc(e)||!Be.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Ge.innerHTML=e.outerHTML,Ge.removeChild(o=Ge.firstChild)),!(ne.noCloneEvent&&ne.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ie.isXMLDoc(e)))for(r=g(o),s=g(e),a=0;null!=(i=s[a]);++a)r[a]&&C(i,r[a]);if(t)if(n)for(s=s||g(e),r=r||g(o),a=0;null!=(i=s[a]);a++)T(i,r[a]);else T(e,o);return r=g(o,"script"),r.length>0&&w(r,!u&&g(e,"script")),r=s=i=null,o},buildFragment:function(e,t,n,r){for(var i,o,a,s,u,l,c,d=e.length,f=m(t),p=[],h=0;d>h;h++)if(o=e[h],o||0===o)if("object"===ie.type(o))ie.merge(p,o.nodeType?[o]:o);else if(ze.test(o)){for(s=s||f.appendChild(t.createElement("div")),u=(We.exec(o)||["",""])[1].toLowerCase(),c=Ye[u]||Ye._default,s.innerHTML=c[1]+o.replace(Re,"<$1></$2>")+c[2],i=c[0];i--;)s=s.lastChild;if(!ne.leadingWhitespace&&Pe.test(o)&&p.push(t.createTextNode(Pe.exec(o)[0])),!ne.tbody)for(o="table"!==u||$e.test(o)?"<table>"!==c[1]||$e.test(o)?0:s:s.firstChild,i=o&&o.childNodes.length;i--;)ie.nodeName(l=o.childNodes[i],"tbody")&&!l.childNodes.length&&o.removeChild(l);for(ie.merge(p,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=f.lastChild}else p.push(t.createTextNode(o));for(s&&f.removeChild(s),ne.appendChecked||ie.grep(g(p,"input"),v),h=0;o=p[h++];)if((!r||-1===ie.inArray(o,r))&&(a=ie.contains(o.ownerDocument,o),s=g(f.appendChild(o),"script"),a&&w(s),n))for(i=0;o=s[i++];)Ue.test(o.type||"")&&n.push(o);return s=null,f},cleanData:function(e,t){for(var n,r,i,o,a=0,s=ie.expando,u=ie.cache,l=ne.deleteExpando,c=ie.event.special;null!=(n=e[a]);a++)if((t||ie.acceptData(n))&&(i=n[s],o=i&&u[i])){if(o.events)for(r in o.events)c[r]?ie.event.remove(n,r):ie.removeEvent(n,r,o.handle);u[i]&&(delete u[i],l?delete n[s]:typeof n.removeAttribute!==Te?n.removeAttribute(s):n[s]=null,J.push(i))}}}),ie.fn.extend({text:function(e){return De(this,function(e){return void 0===e?ie.text(this):this.empty().append((this[0]&&this[0].ownerDocument||he).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?ie.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||ie.cleanData(g(n)),n.parentNode&&(t&&ie.contains(n.ownerDocument,n)&&w(g(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&ie.cleanData(g(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&ie.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return ie.clone(this,e,t)})},html:function(e){return De(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Oe,""):void 0;if(!("string"!=typeof e||Ie.test(e)||!ne.htmlSerialize&&Be.test(e)||!ne.leadingWhitespace&&Pe.test(e)||Ye[(We.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Re,"<$1></$2>");try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(ie.cleanData(g(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,ie.cleanData(g(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=Q.apply([],e);var n,r,i,o,a,s,u=0,l=this.length,c=this,d=l-1,f=e[0],p=ie.isFunction(f);if(p||l>1&&"string"==typeof f&&!ne.checkClone&&Xe.test(f))return this.each(function(n){var r=c.eq(n);p&&(e[0]=f.call(this,n,r.html())),r.domManip(e,t)});if(l&&(s=ie.buildFragment(e,this[0].ownerDocument,!1,this),n=s.firstChild,1===s.childNodes.length&&(s=n),n)){for(o=ie.map(g(s,"script"),b),i=o.length;l>u;u++)r=s,u!==d&&(r=ie.clone(r,!0,!0),i&&ie.merge(o,g(r,"script"))),t.call(this[u],r,u);if(i)for(a=o[o.length-1].ownerDocument,ie.map(o,x),u=0;i>u;u++)r=o[u],Ue.test(r.type||"")&&!ie._data(r,"globalEval")&&ie.contains(a,r)&&(r.src?ie._evalUrl&&ie._evalUrl(r.src):ie.globalEval((r.text||r.textContent||r.innerHTML||"").replace(Je,"")));s=n=null}return this}}),ie.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ie.fn[e]=function(e){for(var n,r=0,i=[],o=ie(e),a=o.length-1;a>=r;r++)n=r===a?this:this.clone(!0),ie(o[r])[t](n),G.apply(i,n.get());return this.pushStack(i)}});var Ke,Ze={};!function(){var e;ne.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,n,r;return n=he.getElementsByTagName("body")[0],n&&n.style?(t=he.createElement("div"),r=he.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==Te&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(he.createElement("div")).style.width="5px",e=3!==t.offsetWidth),n.removeChild(r),e):void 0}}();var et=/^margin/,tt=new RegExp("^("+ke+")(?!px)[a-z%]+$","i"),nt,rt,it=/^(top|right|bottom|left)$/;e.getComputedStyle?(nt=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)},rt=function(e,t,n){var r,i,o,a,s=e.style;return n=n||nt(e),a=n?n.getPropertyValue(t)||n[t]:void 0,n&&(""!==a||ie.contains(e.ownerDocument,e)||(a=ie.style(e,t)),
tt.test(a)&&et.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0===a?a:a+""}):he.documentElement.currentStyle&&(nt=function(e){return e.currentStyle},rt=function(e,t,n){var r,i,o,a,s=e.style;return n=n||nt(e),a=n?n[t]:void 0,null==a&&s&&s[t]&&(a=s[t]),tt.test(a)&&!it.test(t)&&(r=s.left,i=e.runtimeStyle,o=i&&i.left,o&&(i.left=e.currentStyle.left),s.left="fontSize"===t?"1em":a,a=s.pixelLeft+"px",s.left=r,o&&(i.left=o)),void 0===a?a:a+""||"auto"}),function(){function t(){var t,n,r,i;n=he.getElementsByTagName("body")[0],n&&n.style&&(t=he.createElement("div"),r=he.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o=a=!1,u=!0,e.getComputedStyle&&(o="1%"!==(e.getComputedStyle(t,null)||{}).top,a="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width,i=t.appendChild(he.createElement("div")),i.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",t.style.width="1px",u=!parseFloat((e.getComputedStyle(i,null)||{}).marginRight),t.removeChild(i)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=t.getElementsByTagName("td"),i[0].style.cssText="margin:0;border:0;padding:0;display:none",s=0===i[0].offsetHeight,s&&(i[0].style.display="",i[1].style.display="none",s=0===i[0].offsetHeight),n.removeChild(r))}var n,r,i,o,a,s,u;n=he.createElement("div"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=n.getElementsByTagName("a")[0],r=i&&i.style,r&&(r.cssText="float:left;opacity:.5",ne.opacity="0.5"===r.opacity,ne.cssFloat=!!r.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",ne.clearCloneStyle="content-box"===n.style.backgroundClip,ne.boxSizing=""===r.boxSizing||""===r.MozBoxSizing||""===r.WebkitBoxSizing,ie.extend(ne,{reliableHiddenOffsets:function(){return null==s&&t(),s},boxSizingReliable:function(){return null==a&&t(),a},pixelPosition:function(){return null==o&&t(),o},reliableMarginRight:function(){return null==u&&t(),u}}))}(),ie.swap=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i};var ot=/alpha\([^)]*\)/i,at=/opacity\s*=\s*([^)]*)/,st=/^(none|table(?!-c[ea]).+)/,ut=new RegExp("^("+ke+")(.*)$","i"),lt=new RegExp("^([+-])=("+ke+")","i"),ct={position:"absolute",visibility:"hidden",display:"block"},dt={letterSpacing:"0",fontWeight:"400"},ft=["Webkit","O","Moz","ms"];ie.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=rt(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ne.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=ie.camelCase(t),u=e.style;if(t=ie.cssProps[s]||(ie.cssProps[s]=S(u,s)),a=ie.cssHooks[t]||ie.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:u[t];if(o=typeof n,"string"===o&&(i=lt.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(ie.css(e,t)),o="number"),null!=n&&n===n&&("number"!==o||ie.cssNumber[s]||(n+="px"),ne.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),!(a&&"set"in a&&void 0===(n=a.set(e,n,r)))))try{u[t]=n}catch(l){}}},css:function(e,t,n,r){var i,o,a,s=ie.camelCase(t);return t=ie.cssProps[s]||(ie.cssProps[s]=S(e.style,s)),a=ie.cssHooks[t]||ie.cssHooks[s],a&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=rt(e,t,r)),"normal"===o&&t in dt&&(o=dt[t]),""===n||n?(i=parseFloat(o),n===!0||ie.isNumeric(i)?i||0:o):o}}),ie.each(["height","width"],function(e,t){ie.cssHooks[t]={get:function(e,n,r){return n?st.test(ie.css(e,"display"))&&0===e.offsetWidth?ie.swap(e,ct,function(){return L(e,t,r)}):L(e,t,r):void 0},set:function(e,n,r){var i=r&&nt(e);return D(e,n,r?j(e,t,r,ne.boxSizing&&"border-box"===ie.css(e,"boxSizing",!1,i),i):0)}}}),ne.opacity||(ie.cssHooks.opacity={get:function(e,t){return at.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=ie.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===ie.trim(o.replace(ot,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=ot.test(o)?o.replace(ot,i):o+" "+i)}}),ie.cssHooks.marginRight=k(ne.reliableMarginRight,function(e,t){return t?ie.swap(e,{display:"inline-block"},rt,[e,"marginRight"]):void 0}),ie.each({margin:"",padding:"",border:"Width"},function(e,t){ie.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+Se[r]+t]=o[r]||o[r-2]||o[0];return i}},et.test(e)||(ie.cssHooks[e+t].set=D)}),ie.fn.extend({css:function(e,t){return De(this,function(e,t,n){var r,i,o={},a=0;if(ie.isArray(t)){for(r=nt(e),i=t.length;i>a;a++)o[t[a]]=ie.css(e,t[a],!1,r);return o}return void 0!==n?ie.style(e,t,n):ie.css(e,t)},e,t,arguments.length>1)},show:function(){return A(this,!0)},hide:function(){return A(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ae(this)?ie(this).show():ie(this).hide()})}}),ie.Tween=H,H.prototype={constructor:H,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(ie.cssNumber[n]?"":"px")},cur:function(){var e=H.propHooks[this.prop];return e&&e.get?e.get(this):H.propHooks._default.get(this)},run:function(e){var t,n=H.propHooks[this.prop];return this.pos=t=this.options.duration?ie.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):H.propHooks._default.set(this),this}},H.prototype.init.prototype=H.prototype,H.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ie.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){ie.fx.step[e.prop]?ie.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ie.cssProps[e.prop]]||ie.cssHooks[e.prop])?ie.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},H.propHooks.scrollTop=H.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ie.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ie.fx=H.prototype.init,ie.fx.step={};var pt,ht,mt=/^(?:toggle|show|hide)$/,gt=new RegExp("^(?:([+-])=|)("+ke+")([a-z%]*)$","i"),vt=/queueHooks$/,yt=[F],bt={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=gt.exec(t),o=i&&i[3]||(ie.cssNumber[e]?"":"px"),a=(ie.cssNumber[e]||"px"!==o&&+r)&&gt.exec(ie.css(n.elem,e)),s=1,u=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do s=s||".5",a/=s,ie.style(n.elem,e,a+o);while(s!==(s=n.cur()/r)&&1!==s&&--u)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};ie.Animation=ie.extend(B,{tweener:function(e,t){ie.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],bt[n]=bt[n]||[],bt[n].unshift(t)},prefilter:function(e,t){t?yt.unshift(e):yt.push(e)}}),ie.speed=function(e,t,n){var r=e&&"object"==typeof e?ie.extend({},e):{complete:n||!n&&t||ie.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ie.isFunction(t)&&t};return r.duration=ie.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in ie.fx.speeds?ie.fx.speeds[r.duration]:ie.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){ie.isFunction(r.old)&&r.old.call(this),r.queue&&ie.dequeue(this,r.queue)},r},ie.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Ae).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=ie.isEmptyObject(e),o=ie.speed(t,n,r),a=function(){var t=B(this,ie.extend({},e),o);(i||ie._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=ie.timers,a=ie._data(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&vt.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));(t||!n)&&ie.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ie._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=ie.timers,a=r?r.length:0;for(n.finish=!0,ie.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),ie.each(["toggle","show","hide"],function(e,t){var n=ie.fn[t];ie.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(_(t,!0),e,r,i)}}),ie.each({slideDown:_("show"),slideUp:_("hide"),slideToggle:_("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ie.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),ie.timers=[],ie.fx.tick=function(){var e,t=ie.timers,n=0;for(pt=ie.now();n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||ie.fx.stop(),pt=void 0},ie.fx.timer=function(e){ie.timers.push(e),e()?ie.fx.start():ie.timers.pop()},ie.fx.interval=13,ie.fx.start=function(){ht||(ht=setInterval(ie.fx.tick,ie.fx.interval))},ie.fx.stop=function(){clearInterval(ht),ht=null},ie.fx.speeds={slow:600,fast:200,_default:400},ie.fn.delay=function(e,t){return e=ie.fx?ie.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e,t,n,r,i;t=he.createElement("div"),t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",r=t.getElementsByTagName("a")[0],n=he.createElement("select"),i=n.appendChild(he.createElement("option")),e=t.getElementsByTagName("input")[0],r.style.cssText="top:1px",ne.getSetAttribute="t"!==t.className,ne.style=/top/.test(r.getAttribute("style")),ne.hrefNormalized="/a"===r.getAttribute("href"),ne.checkOn=!!e.value,ne.optSelected=i.selected,ne.enctype=!!he.createElement("form").enctype,n.disabled=!0,ne.optDisabled=!i.disabled,e=he.createElement("input"),e.setAttribute("value",""),ne.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),ne.radioValue="t"===e.value}();var xt=/\r/g;ie.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=ie.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,ie(this).val()):e,null==i?i="":"number"==typeof i?i+="":ie.isArray(i)&&(i=ie.map(i,function(e){return null==e?"":e+""})),t=ie.valHooks[this.type]||ie.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return t=ie.valHooks[i.type]||ie.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(xt,""):null==n?"":n)}}}),ie.extend({valHooks:{option:{get:function(e){var t=ie.find.attr(e,"value");return null!=t?t:ie.trim(ie.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,u=0>i?s:o?i:0;s>u;u++)if(n=r[u],!(!n.selected&&u!==i||(ne.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&ie.nodeName(n.parentNode,"optgroup"))){if(t=ie(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=ie.makeArray(t),a=i.length;a--;)if(r=i[a],ie.inArray(ie.valHooks.option.get(r),o)>=0)try{r.selected=n=!0}catch(s){r.scrollHeight}else r.selected=!1;return n||(e.selectedIndex=-1),i}}}}),ie.each(["radio","checkbox"],function(){ie.valHooks[this]={set:function(e,t){return ie.isArray(t)?e.checked=ie.inArray(ie(e).val(),t)>=0:void 0}},ne.checkOn||(ie.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var wt,Tt,Ct=ie.expr.attrHandle,Nt=/^(?:checked|selected)$/i,Et=ne.getSetAttribute,kt=ne.input;ie.fn.extend({attr:function(e,t){return De(this,ie.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ie.removeAttr(this,e)})}}),ie.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===Te?ie.prop(e,t,n):(1===o&&ie.isXMLDoc(e)||(t=t.toLowerCase(),r=ie.attrHooks[t]||(ie.expr.match.bool.test(t)?Tt:wt)),void 0===n?r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=ie.find.attr(e,t),null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void ie.removeAttr(e,t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(be);if(o&&1===e.nodeType)for(;n=o[i++];)r=ie.propFix[n]||n,ie.expr.match.bool.test(n)?kt&&Et||!Nt.test(n)?e[r]=!1:e[ie.camelCase("default-"+n)]=e[r]=!1:ie.attr(e,n,""),e.removeAttribute(Et?n:r)},attrHooks:{type:{set:function(e,t){if(!ne.radioValue&&"radio"===t&&ie.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),Tt={set:function(e,t,n){return t===!1?ie.removeAttr(e,n):kt&&Et||!Nt.test(n)?e.setAttribute(!Et&&ie.propFix[n]||n,n):e[ie.camelCase("default-"+n)]=e[n]=!0,n}},ie.each(ie.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Ct[t]||ie.find.attr;Ct[t]=kt&&Et||!Nt.test(t)?function(e,t,r){var i,o;return r||(o=Ct[t],Ct[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,Ct[t]=o),i}:function(e,t,n){return n?void 0:e[ie.camelCase("default-"+t)]?t.toLowerCase():null}}),kt&&Et||(ie.attrHooks.value={set:function(e,t,n){return ie.nodeName(e,"input")?void(e.defaultValue=t):wt&&wt.set(e,t,n)}}),Et||(wt={set:function(e,t,n){var r=e.getAttributeNode(n);return r||e.setAttributeNode(r=e.ownerDocument.createAttribute(n)),r.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},Ct.id=Ct.name=Ct.coords=function(e,t,n){var r;return n?void 0:(r=e.getAttributeNode(t))&&""!==r.value?r.value:null},ie.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:void 0},set:wt.set},ie.attrHooks.contenteditable={set:function(e,t,n){wt.set(e,""===t?!1:t,n)}},ie.each(["width","height"],function(e,t){ie.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),ne.style||(ie.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var St=/^(?:input|select|textarea|button|object)$/i,At=/^(?:a|area)$/i;ie.fn.extend({prop:function(e,t){return De(this,ie.prop,e,t,arguments.length>1)},removeProp:function(e){return e=ie.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),ie.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,i,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return o=1!==a||!ie.isXMLDoc(e),o&&(t=ie.propFix[t]||t,i=ie.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=ie.find.attr(e,"tabindex");return t?parseInt(t,10):St.test(e.nodeName)||At.test(e.nodeName)&&e.href?0:-1}}}}),ne.hrefNormalized||ie.each(["href","src"],function(e,t){ie.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ne.optSelected||(ie.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),ie.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ie.propFix[this.toLowerCase()]=this}),ne.enctype||(ie.propFix.enctype="encoding");var Dt=/[\t\r\n\f]/g;ie.fn.extend({addClass:function(e){var t,n,r,i,o,a,s=0,u=this.length,l="string"==typeof e&&e;if(ie.isFunction(e))return this.each(function(t){ie(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(be)||[];u>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Dt," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a=ie.trim(r),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,r,i,o,a,s=0,u=this.length,l=0===arguments.length||"string"==typeof e&&e;if(ie.isFunction(e))return this.each(function(t){ie(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(be)||[];u>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Dt," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");a=e?ie.trim(r):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(ie.isFunction(e)?function(n){ie(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,r=0,i=ie(this),o=e.match(be)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else(n===Te||"boolean"===n)&&(this.className&&ie._data(this,"__className__",this.className),this.className=this.className||e===!1?"":ie._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Dt," ").indexOf(t)>=0)return!0;return!1}}),ie.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ie.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ie.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var jt=ie.now(),Lt=/\?/,Ht=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ie.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,r=null,i=ie.trim(t+"");return i&&!ie.trim(i.replace(Ht,function(e,t,i,o){return n&&t&&(r=0),0===r?e:(n=i||t,r+=!o-!i,"")}))?Function("return "+i)():ie.error("Invalid JSON: "+t)},ie.parseXML=function(t){var n,r;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(r=new DOMParser,n=r.parseFromString(t,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(i){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||ie.error("Invalid XML: "+t),n};var qt,_t,Mt=/#.*$/,Ft=/([?&])_=[^&]*/,Ot=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Bt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Pt=/^(?:GET|HEAD)$/,Rt=/^\/\//,Wt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,$t={},zt={},It="*/".concat("*");try{_t=location.href}catch(Xt){_t=he.createElement("a"),_t.href="",_t=_t.href}qt=Wt.exec(_t.toLowerCase())||[],ie.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:_t,type:"GET",isLocal:Bt.test(qt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":It,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ie.parseJSON,"text xml":ie.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?W(W(e,ie.ajaxSettings),t):W(ie.ajaxSettings,e)},ajaxPrefilter:P($t),ajaxTransport:P(zt),ajax:function(e,t){function n(e,t,n,r){var i,c,v,y,x,T=t;2!==b&&(b=2,s&&clearTimeout(s),l=void 0,a=r||"",w.readyState=e>0?4:0,i=e>=200&&300>e||304===e,n&&(y=$(d,w,n)),y=z(d,y,w,i),i?(d.ifModified&&(x=w.getResponseHeader("Last-Modified"),x&&(ie.lastModified[o]=x),x=w.getResponseHeader("etag"),x&&(ie.etag[o]=x)),204===e||"HEAD"===d.type?T="nocontent":304===e?T="notmodified":(T=y.state,c=y.data,v=y.error,i=!v)):(v=T,(e||!T)&&(T="error",0>e&&(e=0))),w.status=e,w.statusText=(t||T)+"",i?h.resolveWith(f,[c,T,w]):h.rejectWith(f,[w,T,v]),w.statusCode(g),g=void 0,u&&p.trigger(i?"ajaxSuccess":"ajaxError",[w,d,i?c:v]),m.fireWith(f,[w,T]),u&&(p.trigger("ajaxComplete",[w,d]),--ie.active||ie.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,o,a,s,u,l,c,d=ie.ajaxSetup({},t),f=d.context||d,p=d.context&&(f.nodeType||f.jquery)?ie(f):ie.event,h=ie.Deferred(),m=ie.Callbacks("once memory"),g=d.statusCode||{},v={},y={},b=0,x="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!c)for(c={};t=Ot.exec(a);)c[t[1].toLowerCase()]=t[2];t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)g[t]=[g[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||x;return l&&l.abort(t),n(0,t),this}};if(h.promise(w).complete=m.add,w.success=w.done,w.error=w.fail,d.url=((e||d.url||_t)+"").replace(Mt,"").replace(Rt,qt[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=ie.trim(d.dataType||"*").toLowerCase().match(be)||[""],null==d.crossDomain&&(r=Wt.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]===qt[1]&&r[2]===qt[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(qt[3]||("http:"===qt[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=ie.param(d.data,d.traditional)),R($t,d,t,w),2===b)return w;u=ie.event&&d.global,u&&0===ie.active++&&ie.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Pt.test(d.type),o=d.url,d.hasContent||(d.data&&(o=d.url+=(Lt.test(o)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=Ft.test(o)?o.replace(Ft,"$1_="+jt++):o+(Lt.test(o)?"&":"?")+"_="+jt++)),d.ifModified&&(ie.lastModified[o]&&w.setRequestHeader("If-Modified-Since",ie.lastModified[o]),ie.etag[o]&&w.setRequestHeader("If-None-Match",ie.etag[o])),(d.data&&d.hasContent&&d.contentType!==!1||t.contentType)&&w.setRequestHeader("Content-Type",d.contentType),w.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+It+"; q=0.01":""):d.accepts["*"]);for(i in d.headers)w.setRequestHeader(i,d.headers[i]);if(d.beforeSend&&(d.beforeSend.call(f,w,d)===!1||2===b))return w.abort();x="abort";for(i in{success:1,error:1,complete:1})w[i](d[i]);if(l=R(zt,d,t,w)){w.readyState=1,u&&p.trigger("ajaxSend",[w,d]),d.async&&d.timeout>0&&(s=setTimeout(function(){w.abort("timeout")},d.timeout));try{b=1,l.send(v,n)}catch(T){if(!(2>b))throw T;n(-1,T)}}else n(-1,"No Transport");return w},getJSON:function(e,t,n){return ie.get(e,t,n,"json")},getScript:function(e,t){return ie.get(e,void 0,t,"script")}}),ie.each(["get","post"],function(e,t){ie[t]=function(e,n,r,i){return ie.isFunction(n)&&(i=i||r,r=n,n=void 0),ie.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),ie._evalUrl=function(e){return ie.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},ie.fn.extend({wrapAll:function(e){if(ie.isFunction(e))return this.each(function(t){ie(this).wrapAll(e.call(this,t))});if(this[0]){var t=ie(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(ie.isFunction(e)?function(t){ie(this).wrapInner(e.call(this,t))}:function(){var t=ie(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ie.isFunction(e);return this.each(function(n){ie(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){ie.nodeName(this,"body")||ie(this).replaceWith(this.childNodes)}).end()}}),ie.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!ne.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||ie.css(e,"display"))},ie.expr.filters.visible=function(e){return!ie.expr.filters.hidden(e)};var Ut=/%20/g,Vt=/\[\]$/,Jt=/\r?\n/g,Yt=/^(?:submit|button|image|reset|file)$/i,Qt=/^(?:input|select|textarea|keygen)/i;ie.param=function(e,t){var n,r=[],i=function(e,t){t=ie.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=ie.ajaxSettings&&ie.ajaxSettings.traditional),ie.isArray(e)||e.jquery&&!ie.isPlainObject(e))ie.each(e,function(){i(this.name,this.value)});else for(n in e)I(n,e[n],t,i);return r.join("&").replace(Ut,"+")},ie.fn.extend({serialize:function(){return ie.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ie.prop(this,"elements");return e?ie.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ie(this).is(":disabled")&&Qt.test(this.nodeName)&&!Yt.test(e)&&(this.checked||!je.test(e))}).map(function(e,t){var n=ie(this).val();return null==n?null:ie.isArray(n)?ie.map(n,function(e){return{name:t.name,value:e.replace(Jt,"\r\n")}}):{name:t.name,value:n.replace(Jt,"\r\n")}}).get()}}),ie.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&X()||U()}:X;var Gt=0,Kt={},Zt=ie.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Kt)Kt[e](void 0,!0)}),ne.cors=!!Zt&&"withCredentials"in Zt,Zt=ne.ajax=!!Zt,Zt&&ie.ajaxTransport(function(e){if(!e.crossDomain||ne.cors){var t;return{send:function(n,r){var i,o=e.xhr(),a=++Gt;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)o[i]=e.xhrFields[i];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)void 0!==n[i]&&o.setRequestHeader(i,n[i]+"");o.send(e.hasContent&&e.data||null),t=function(n,i){var s,u,l;if(t&&(i||4===o.readyState))if(delete Kt[a],t=void 0,o.onreadystatechange=ie.noop,i)4!==o.readyState&&o.abort();else{l={},s=o.status,"string"==typeof o.responseText&&(l.text=o.responseText);try{u=o.statusText}catch(c){u=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=l.text?200:404}l&&r(s,u,l,o.getAllResponseHeaders())},e.async?4===o.readyState?setTimeout(t):o.onreadystatechange=Kt[a]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),ie.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return ie.globalEval(e),e}}}),ie.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),ie.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=he.head||ie("head")[0]||he.documentElement;return{send:function(r,i){t=he.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||i(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var en=[],tn=/(=)\?(?=&|$)|\?\?/;ie.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=en.pop()||ie.expando+"_"+jt++;return this[e]=!0,e}}),ie.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=t.jsonp!==!1&&(tn.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&tn.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=ie.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(tn,"$1"+i):t.jsonp!==!1&&(t.url+=(Lt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||ie.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,en.push(i)),a&&ie.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),ie.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||he;var r=de.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=ie.buildFragment([e],t,i),i&&i.length&&ie(i).remove(),ie.merge([],r.childNodes))};var nn=ie.fn.load;ie.fn.load=function(e,t,n){if("string"!=typeof e&&nn)return nn.apply(this,arguments);var r,i,o,a=this,s=e.indexOf(" ");return s>=0&&(r=ie.trim(e.slice(s,e.length)),e=e.slice(0,s)),ie.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),a.length>0&&ie.ajax({url:e,type:o,dataType:"html",data:t}).done(function(e){i=arguments,a.html(r?ie("<div>").append(ie.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){a.each(n,i||[e.responseText,t,e])}),this},ie.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ie.fn[t]=function(e){return this.on(t,e)}}),ie.expr.filters.animated=function(e){return ie.grep(ie.timers,function(t){return e===t.elem}).length};var rn=e.document.documentElement;ie.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l,c=ie.css(e,"position"),d=ie(e),f={};"static"===c&&(e.style.position="relative"),s=d.offset(),o=ie.css(e,"top"),u=ie.css(e,"left"),l=("absolute"===c||"fixed"===c)&&ie.inArray("auto",[o,u])>-1,l?(r=d.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),ie.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):d.css(f)}},ie.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ie.offset.setOffset(this,e,t)});var t,n,r={top:0,left:0},i=this[0],o=i&&i.ownerDocument;if(o)return t=o.documentElement,ie.contains(t,i)?(typeof i.getBoundingClientRect!==Te&&(r=i.getBoundingClientRect()),n=V(o),{top:r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):r},position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===ie.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ie.nodeName(e[0],"html")||(n=e.offset()),n.top+=ie.css(e[0],"borderTopWidth",!0),n.left+=ie.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-ie.css(r,"marginTop",!0),left:t.left-n.left-ie.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||rn;e&&!ie.nodeName(e,"html")&&"static"===ie.css(e,"position");)e=e.offsetParent;return e||rn})}}),ie.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);ie.fn[e]=function(r){return De(this,function(e,r,i){var o=V(e);return void 0===i?o?t in o?o[t]:o.document.documentElement[r]:e[r]:void(o?o.scrollTo(n?ie(o).scrollLeft():i,n?i:ie(o).scrollTop()):e[r]=i)},e,r,arguments.length,null)}}),ie.each(["top","left"],function(e,t){ie.cssHooks[t]=k(ne.pixelPosition,function(e,n){return n?(n=rt(e,t),tt.test(n)?ie(e).position()[t]+"px":n):void 0})}),ie.each({Height:"height",Width:"width"},function(e,t){ie.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){ie.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(r===!0||i===!0?"margin":"border");

return De(this,function(t,n,r){var i;return ie.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?ie.css(t,n,a):ie.style(t,n,r,a)},t,o?r:void 0,o,null)}})}),ie.fn.size=function(){return this.length},ie.fn.andSelf=ie.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ie});var on=e.jQuery,an=e.$;return ie.noConflict=function(t){return e.$===ie&&(e.$=an),t&&e.jQuery===ie&&(e.jQuery=on),ie},typeof t===Te&&(e.jQuery=e.$=ie),ie})}).call(this),function(){t=n=window.jQuery.noConflict()}.call(this),"undefined"==typeof Package&&(Package={}),Package.jquery={$:t,jQuery:n}}();

!function(){var t=Package.meteor.Meteor,e=Package.tracker.Tracker,r=Package.tracker.Deps,i,n,a;(function(){i={},n=function(t){return t},a=Array.prototype.slice}).call(this),function(){var t=Object.prototype.hasOwnProperty,e=function(e,r){for(var i in r)t.call(r,i)&&(e[i]=r[i]);return e};i.Visitor=function(t){e(this,t)},i.Visitor.def=function(t){e(this.prototype,t)},i.Visitor.extend=function(t){var r=this,n=function a(){i.Visitor.apply(this,arguments)};return n.prototype=new r,n.extend=r.extend,n.def=r.def,t&&e(n.prototype,t),n},i.Visitor.def({visit:function(t){if(null==t)return this.visitNull.apply(this,arguments);if("object"==typeof t){if(t.htmljsType)switch(t.htmljsType){case i.Tag.htmljsType:return this.visitTag.apply(this,arguments);case i.CharRef.htmljsType:return this.visitCharRef.apply(this,arguments);case i.Comment.htmljsType:return this.visitComment.apply(this,arguments);case i.Raw.htmljsType:return this.visitRaw.apply(this,arguments);default:throw new Error("Unknown htmljs type: "+t.htmljsType)}return i.isArray(t)?this.visitArray.apply(this,arguments):this.visitObject.apply(this,arguments)}if("string"==typeof t||"boolean"==typeof t||"number"==typeof t)return this.visitPrimitive.apply(this,arguments);if("function"==typeof t)return this.visitFunction.apply(this,arguments);throw new Error("Unexpected object in htmljs: "+t)},visitNull:function(t){},visitPrimitive:function(t){},visitArray:function(t){},visitComment:function(t){},visitCharRef:function(t){},visitRaw:function(t){},visitTag:function(t){},visitObject:function(t){throw new Error("Unexpected object in htmljs: "+t)},visitFunction:function(t){throw new Error("Unexpected function in htmljs: "+t)}}),i.TransformingVisitor=i.Visitor.extend(),i.TransformingVisitor.def({visitNull:n,visitPrimitive:n,visitArray:function(t){for(var e=a.call(arguments),r=t,i=0;i<t.length;i++){var n=t[i];e[0]=n;var o=this.visit.apply(this,e);o!==n&&(r===t&&(r=t.slice()),r[i]=o)}return r},visitComment:n,visitCharRef:n,visitRaw:n,visitObject:n,visitFunction:n,visitTag:function(t){var e=t.children,r=a.call(arguments);r[0]=e;var n=this.visitChildren.apply(this,r),o=t.attrs;r[0]=o;var s=this.visitAttributes.apply(this,r);if(s===o&&n===e)return t;var u=i.getTag(t.tagName).apply(null,n);return u.attrs=s,u},visitChildren:function(t){return this.visitArray.apply(this,arguments)},visitAttributes:function(t){if(i.isArray(t)){for(var r=a.call(arguments),n=t,o=0;o<t.length;o++){var s=t[o];r[0]=s;var u=this.visitAttributes.apply(this,r);u!==s&&(n===t&&(n=t.slice()),n[o]=u)}return n}if(t&&i.isConstructedObject(t))throw new Error("The basic HTML.TransformingVisitor does not support foreign objects in attributes.  Define a custom visitAttributes for this case.");var l=t,f=l;if(l){var c=[null,null];c.push.apply(c,arguments);for(var h in l){var p=l[h];c[0]=h,c[1]=p;var m=this.visitAttribute.apply(this,c);m!==p&&(f===l&&(f=e({},l)),f[h]=m)}}return f},visitAttribute:function(t,e,r){var i=a.call(arguments,2);return i[0]=e,this.visit.apply(this,i)}}),i.ToTextVisitor=i.Visitor.extend(),i.ToTextVisitor.def({visitNull:function(t){return""},visitPrimitive:function(t){var e=String(t);return this.textMode===i.TEXTMODE.RCDATA?e.replace(/&/g,"&amp;").replace(/</g,"&lt;"):this.textMode===i.TEXTMODE.ATTRIBUTE?e.replace(/&/g,"&amp;").replace(/"/g,"&quot;"):e},visitArray:function(t){for(var e=[],r=0;r<t.length;r++)e.push(this.visit(t[r]));return e.join("")},visitComment:function(t){throw new Error("Can't have a comment here")},visitCharRef:function(t){return this.textMode===i.TEXTMODE.RCDATA||this.textMode===i.TEXTMODE.ATTRIBUTE?t.html:t.str},visitRaw:function(t){return t.value},visitTag:function(t){return this.visit(this.toHTML(t))},visitObject:function(t){throw new Error("Unexpected object in htmljs in toText: "+t)},toHTML:function(t){return i.toHTML(t)}}),i.ToHTMLVisitor=i.Visitor.extend(),i.ToHTMLVisitor.def({visitNull:function(t){return""},visitPrimitive:function(t){var e=String(t);return e.replace(/&/g,"&amp;").replace(/</g,"&lt;")},visitArray:function(t){for(var e=[],r=0;r<t.length;r++)e.push(this.visit(t[r]));return e.join("")},visitComment:function(t){return"<!--"+t.sanitizedValue+"-->"},visitCharRef:function(t){return t.html},visitRaw:function(t){return t.value},visitTag:function(t){var e=[],r=t.tagName,n=t.children,a=t.attrs;if(a){a=i.flattenAttributes(a);for(var o in a)if("value"===o&&"textarea"===r)n=[a[o],n];else{var s=this.toText(a[o],i.TEXTMODE.ATTRIBUTE);e.push(" "+o+'="'+s+'"')}}var u="<"+r+e.join("")+">",l=[],f;if("textarea"===r){for(var c=0;c<n.length;c++)l.push(this.toText(n[c],i.TEXTMODE.RCDATA));f=l.join(""),"\n"===f.slice(0,1)&&(f="\n"+f)}else{for(var c=0;c<n.length;c++)l.push(this.visit(n[c]));f=l.join("")}var h=u+f;return(n.length||!i.isVoidElement(r))&&(h+="</"+r+">"),h},visitObject:function(t){throw new Error("Unexpected object in htmljs in toHTML: "+t)},toText:function(t,e){return i.toText(t,e)}})}.call(this),function(){i.Tag=function(){},i.Tag.prototype.tagName="",i.Tag.prototype.attrs=null,i.Tag.prototype.children=Object.freeze?Object.freeze([]):[],i.Tag.prototype.htmljsType=i.Tag.htmljsType=["Tag"];var t=function(t){var e=function(){var t=this instanceof i.Tag?this:new e,r=0,n=arguments.length&&arguments[0];if(n&&"object"==typeof n)if(i.isConstructedObject(n)){if(n instanceof i.Attrs){var o=n.value;1===o.length?t.attrs=o[0]:o.length>1&&(t.attrs=o),r++}}else t.attrs=n,r++;return r<arguments.length&&(t.children=a.call(arguments,r)),t};return e.prototype=new i.Tag,e.prototype.constructor=e,e.prototype.tagName=t,e},e=i.Attrs=function(){var t=this instanceof e?this:new e;return t.value=a.call(arguments),t};i.getTag=function(e){var r=i.getSymbolName(e);if(r===e)throw new Error("Use the lowercase or camelCase form of '"+e+"' here");return i[r]||(i[r]=t(e)),i[r]},i.ensureTag=function(t){i.getTag(t)},i.isTagEnsured=function(t){return i.isKnownElement(t)},i.getSymbolName=function(t){return t.toUpperCase().replace(/-/g,"_")},i.knownElementNames="a abbr acronym address applet area article aside audio b base basefont bdi bdo big blockquote body br button canvas caption center cite code col colgroup command data datagrid datalist dd del details dfn dir div dl dt em embed eventsource fieldset figcaption figure font footer form frame frameset h1 h2 h3 h4 h5 h6 head header hgroup hr html i iframe img input ins isindex kbd keygen label legend li link main map mark menu meta meter nav noframes noscript object ol optgroup option output p param pre progress q rp rt ruby s samp script section select small source span strike strong style sub summary sup table tbody td textarea tfoot th thead time title tr track tt u ul var video wbr".split(" "),i.knownSVGElementNames="altGlyph altGlyphDef altGlyphItem animate animateColor animateMotion animateTransform circle clipPath color-profile cursor defs desc ellipse feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence filter font font-face font-face-format font-face-name font-face-src font-face-uri foreignObject g glyph glyphRef hkern image line linearGradient marker mask metadata missing-glyph path pattern polygon polyline radialGradient rect script set stop style svg switch symbol text textPath title tref tspan use view vkern".split(" "),i.knownElementNames=i.knownElementNames.concat(i.knownSVGElementNames),i.voidElementNames="area base br col command embed hr img input keygen link meta param source track wbr".split(" ");var r={yes:!0},n=function(t){for(var e={},i=0;i<t.length;i++)e[t[i]]=r;return e},o=n(i.voidElementNames),s=n(i.knownElementNames),u=n(i.knownSVGElementNames);i.isKnownElement=function(t){return s[t]===r},i.isKnownSVGElement=function(t){return u[t]===r},i.isVoidElement=function(t){return o[t]===r};for(var l=0;l<i.knownElementNames.length;l++)i.ensureTag(i.knownElementNames[l]);var f=i.CharRef=function(t){if(!(this instanceof f))return new f(t);if(!(t&&t.html&&t.str))throw new Error("HTML.CharRef must be constructed with ({html:..., str:...})");this.html=t.html,this.str=t.str};f.prototype.htmljsType=f.htmljsType=["CharRef"];var c=i.Comment=function(t){if(!(this instanceof c))return new c(t);if("string"!=typeof t)throw new Error("HTML.Comment must be constructed with a string");this.value=t,this.sanitizedValue=t.replace(/^-|--+|-$/g,"")};c.prototype.htmljsType=c.htmljsType=["Comment"];var h=i.Raw=function(t){if(!(this instanceof h))return new h(t);if("string"!=typeof t)throw new Error("HTML.Raw must be constructed with a string");this.value=t};h.prototype.htmljsType=h.htmljsType=["Raw"],i.isArray=function(t){return t instanceof Array},i.isConstructedObject=function(t){return t&&"object"==typeof t&&t.constructor!==Object&&!Object.prototype.hasOwnProperty.call(t,"constructor")},i.isNully=function(t){if(null==t)return!0;if(i.isArray(t)){for(var e=0;e<t.length;e++)if(!i.isNully(t[e]))return!1;return!0}return!1},i.isValidAttributeName=function(t){return/^[:_A-Za-z][:_A-Za-z0-9.\-]*/.test(t)},i.flattenAttributes=function(t){if(!t)return t;var e=i.isArray(t);if(e&&0===t.length)return null;for(var r={},n=0,a=e?t.length:1;a>n;n++){var o=e?t[n]:t;if("object"!=typeof o||i.isConstructedObject(o))throw new Error("Expected plain JS object as attrs, found: "+o);for(var s in o){if(!i.isValidAttributeName(s))throw new Error("Illegal HTML attribute name: "+s);var u=o[s];i.isNully(u)||(r[s]=u)}}return r},i.toHTML=function(t){return(new i.ToHTMLVisitor).visit(t)},i.TEXTMODE={STRING:1,RCDATA:2,ATTRIBUTE:3},i.toText=function(t,e){if(!e)throw new Error("textMode required for HTML.toText");if(e!==i.TEXTMODE.STRING&&e!==i.TEXTMODE.RCDATA&&e!==i.TEXTMODE.ATTRIBUTE)throw new Error("Unknown textMode: "+e);var r=new i.ToTextVisitor({textMode:e});return r.visit(t)}}.call(this),"undefined"==typeof Package&&(Package={}),Package.htmljs={HTML:i}}();

!function(){var e=Package.meteor.Meteor,n=Package.tracker.Tracker,o=Package.tracker.Deps,r=Package.minimongo.LocalCollection,i=Package.minimongo.Minimongo,t=Package.underscore._,a=Package.random.Random,c,f,u,d;(function(){var e=function(){c._suppressWarnings?c._suppressWarnings--:("undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments),c._loggedWarnings++)},o=r._idStringify,i=r._idParse;c={_suppressWarnings:0,_loggedWarnings:0,observe:function(e,o){var r=null,i=null,a=[],c=n.autorun(function(){var c=e();n.nonreactive(function(){var e;if(i&&(a=t.map(r.fetch(),function(e){return{_id:e._id,item:e}}),i.stop(),i=null),c)if(c instanceof Array)e=u(a,c,o);else{if(!l(c))throw s();var n=d(a,c,o);e=n[0],i=n[1]}else e=f(a,o);v(a,e,o),r=c,a=e})});return{stop:function(){c.stop(),i&&i.stop()}}},fetch:function(e){if(e){if(e instanceof Array)return e;if(l(e))return e.fetch();throw s()}return[]}};var s=function(){return new Error("{{#each}} currently only accepts arrays, cursors or falsey values.")},l=function(e){return e&&t.isObject(e)&&t.isFunction(e.observe)&&t.isFunction(e.fetch)},v=function(e,n,r){var a=Package.minimongo.LocalCollection._diffQueryOrderedChanges,c=[],f=[],u={},d={},s={},l=e.length;t.each(n,function(e,n){f.push({_id:e._id}),d[o(e._id)]=n}),t.each(e,function(e,n){c.push({_id:e._id}),u[o(e._id)]=n,s[o(e._id)]=n}),a(c,f,{addedBefore:function(e,i,a){var c=a?s[o(a)]:l;a&&t.each(s,function(e,n){e>=c&&s[n]++}),l++,s[o(e)]=c,r.addedAt(e,n[d[o(e)]].item,c,a)},movedBefore:function(e,i){if(e!==i){var a=s[o(e)],c=i?s[o(i)]:l;c>a&&c--,t.each(s,function(e,n){e>a&&c>e?s[n]--:e>=c&&a>e&&s[n]++}),s[o(e)]=c,r.movedTo(e,n[d[o(e)]].item,a,c,i)}},removed:function(n){var i=s[o(n)];t.each(s,function(e,n){e>=i&&s[n]--}),delete s[o(n)],l--,r.removedAt(n,e[u[o(n)]].item,i)}}),t.each(d,function(o,a){var c=i(a);if(t.has(u,a)){var f=n[o].item,d=e[u[a]].item;("object"==typeof f||f!==d)&&r.changedAt(c,f,d,o)}})};f=function(e,n){return[]},u=function(n,r,i){var c={},f=t.map(r,function(n,i){var t;if("string"==typeof n)t="-"+n;else if("number"==typeof n||"boolean"==typeof n||void 0===n)t=n;else{if("object"!=typeof n)throw new Error("{{#each}} doesn't support arrays with elements of type "+typeof n);t=n&&n._id||i}var f=o(t);return c[f]?("object"==typeof n&&"_id"in n&&e("duplicate id "+t+" in",r),t=a.id()):c[f]=!0,{_id:t,item:n}});return f},d=function(e,n,o){var r=!0,i=[],t=n.observe({addedAt:function(e,n,t){if(r){if(null!==t)throw new Error("Expected initial data from observe in order");i.push({_id:e._id,item:e})}else o.addedAt(e._id,e,n,t)},changedAt:function(e,n,r){o.changedAt(e._id,e,n,r)},removedAt:function(e,n){o.removedAt(e._id,e,n)},movedTo:function(e,n,r,i){o.movedTo(e._id,e,n,r,i)}});return r=!1,[i,t]}}).call(this),"undefined"==typeof Package&&(Package={}),Package["observe-sequence"]={ObserveSequence:c}}();

!function(){var e=Package.meteor.Meteor,t=Package.tracker.Tracker,n=Package.tracker.Deps,r;(function(){r=function(e,n){return this instanceof r?(this.curValue=e,this.equalsFunc=n,void(this.dep=new t.Dependency)):new r(e,n)},r._isEqual=function(e,t){var n=e,r=t;return n!==r?!1:!n||"number"==typeof n||"boolean"==typeof n||"string"==typeof n},r.prototype.get=function(){return t.active&&this.dep.depend(),this.curValue},r.prototype.set=function(e){var t=this.curValue;(this.equalsFunc||r._isEqual)(t,e)||(this.curValue=e,this.dep.changed())},r.prototype.toString=function(){return"ReactiveVar{"+this.get()+"}"},r.prototype._numListeners=function(){var e=0;for(var t in this.dep._dependentsById)e++;return e}}).call(this),"undefined"==typeof Package&&(Package={}),Package["reactive-var"]={ReactiveVar:r}}();

!function(){var e=Package.meteor.Meteor,t=Package.jquery.$,n=Package.jquery.jQuery,r=Package.tracker.Tracker,a=Package.tracker.Deps,i=Package.underscore._,o=Package.htmljs.HTML,s=Package["observe-sequence"].ObserveSequence,u=Package["reactive-var"].ReactiveVar,c,l,d,p,f,h;(function(){c={},c._escape=function(){var e={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","&":"&amp;"},t=function(t){return e[t]};return function(e){return e.replace(/[&<>"'`]/g,t)}}(),c._warn=function(e){e="Warning: "+e,"undefined"!=typeof Log&&Log&&Log.warn?Log.warn(e):"undefined"!=typeof console&&console.log&&console.log(e)}}).call(this),function(){var e={};c._DOMBackend=e;var t="undefined"!=typeof n?n:"undefined"!=typeof Package?Package.jquery&&Package.jquery.jQuery:null;if(!t)throw new Error("jQuery not found");e._$jq=t,e.parseHTML=function(e){return t.parseHTML(e)||[]},e.Events={delegateEvents:function(e,n,r,a){t(e).on(n,r,a)},undelegateEvents:function(e,n,r){t(e).off(n,"**",r)},bindEventCapturer:function(n,r,a,i){var o=t(n),s=function(e){e=t.event.fix(e),e.currentTarget=e.target;var r=t(e.currentTarget);r.is(o.find(a))&&i.call(n,e)};i._meteorui_wrapper=s,r=e.Events.parseEventType(r),n.addEventListener(r,s,!0)},unbindEventCapturer:function(t,n,r){n=e.Events.parseEventType(n),t.removeEventListener(n,r._meteorui_wrapper,!0)},parseEventType:function(e){var t=e.indexOf(".");return t>=0?e.slice(0,t):e}};var r=function(){},a=function(e){this.next=this,this.prev=this,this.func=e};a.prototype.linkBefore=function(e){this.prev=e.prev,this.next=e,e.prev.next=this,e.prev=this},a.prototype.unlink=function(){this.prev.next=this.next,this.next.prev=this.prev},a.prototype.go=function(){var e=this.func;e&&e()},a.prototype.stop=a.prototype.unlink,e.Teardown={_JQUERY_EVENT_NAME:"blaze_teardown_watcher",_CB_PROP:"$blaze_teardown_callbacks",onElementTeardown:function(n,i){var o=new a(i),s=e.Teardown._CB_PROP;return n[s]||(n[s]=new a,t(n).on(e.Teardown._JQUERY_EVENT_NAME,r)),o.linkBefore(n[s]),o},tearDownElement:function(e){for(var n=[],r=e.getElementsByTagName("*"),a=0;a<r.length;a++)n.push(r[a]);n.push(e),t.cleanData(n)}},t.event.special[e.Teardown._JQUERY_EVENT_NAME]={setup:function(){},teardown:function(){var t=this,n=t[e.Teardown._CB_PROP];if(n){for(var r=n.next;r!==n;)r.go(),r=r.next;n.go(),t[e.Teardown._CB_PROP]=null}}},e.findBySelector=function(e,n){return t(e,n)}}.call(this),function(){var e=Object.freeze?Object.freeze([]):[];c._DOMRange=function(n){if(!(this instanceof t))return new t(n);var r=n||e;if(!r||"number"!=typeof r.length)throw new Error("Expected array");for(var a=0;a<r.length;a++)this._memberIn(r[a]);this.members=r,this.emptyRangePlaceholder=null,this.attached=!1,this.parentElement=null,this.parentRange=null,this.attachedCallbacks=e};var t=c._DOMRange;t._USE_COMMENT_PLACEHOLDERS=function(){var e=!1,t=document.createTextNode("");try{t.someProp=!0}catch(n){e=!0}return e}(),t._insert=function(e,n,r,a){var i=e;i instanceof t?i.attach(n,r,a):a?t._moveNodeWithHooks(i,n,r):t._insertNodeWithHooks(i,n,r)},t._remove=function(e){var n=e;n instanceof t?n.detach():t._removeNodeWithHooks(n)},t._removeNodeWithHooks=function(e){e.parentNode&&(1===e.nodeType&&e.parentNode._uihooks&&e.parentNode._uihooks.removeElement?e.parentNode._uihooks.removeElement(e):e.parentNode.removeChild(e))},t._insertNodeWithHooks=function(e,t,n){n=n||null,1===e.nodeType&&t._uihooks&&t._uihooks.insertElement?t._uihooks.insertElement(e,n):t.insertBefore(e,n)},t._moveNodeWithHooks=function(e,t,n){e.parentNode===t&&(n=n||null,1===e.nodeType&&t._uihooks&&t._uihooks.moveElement?t._uihooks.moveElement(e,n):t.insertBefore(e,n))},t.forElement=function(e){if(1!==e.nodeType)throw new Error("Expected element, found: "+e);for(var t=null;e&&!t;)t=e.$blaze_range||null,t||(e=e.parentNode);return t},t.prototype.attach=function(e,n,r,a){if((r||a)&&(this.parentElement!==e||!this.attached))throw new Error("Can only move or replace an attached DOMRange, and only under the same parent element");var i=this.members;if(i.length){this.emptyRangePlaceholder=null;for(var o=0;o<i.length;o++)t._insert(i[o],e,n,r)}else{var s=t._USE_COMMENT_PLACEHOLDERS?document.createComment(""):document.createTextNode("");this.emptyRangePlaceholder=s,e.insertBefore(s,n||null)}if(this.attached=!0,this.parentElement=e,!r&&!a)for(var o=0;o<this.attachedCallbacks.length;o++){var u=this.attachedCallbacks[o];u.attached&&u.attached(this,e)}},t.prototype.setMembers=function(e){var t=e;if(!t||"number"!=typeof t.length)throw new Error("Expected array");for(var n=this.members,r=0;r<n.length;r++)this._memberOut(n[r]);for(var r=0;r<t.length;r++)this._memberIn(t[r]);if(this.attached){if(t.length||n.length){var a=this.lastNode().nextSibling,i=this.parentElement;this.detach(!0),this.members=t,this.attach(i,a,!1,!0)}}else this.members=t},t.prototype.firstNode=function(){if(!this.attached)throw new Error("Must be attached");if(!this.members.length)return this.emptyRangePlaceholder;var e=this.members[0];return e instanceof t?e.firstNode():e},t.prototype.lastNode=function(){if(!this.attached)throw new Error("Must be attached");if(!this.members.length)return this.emptyRangePlaceholder;var e=this.members[this.members.length-1];return e instanceof t?e.lastNode():e},t.prototype.detach=function(e){if(!this.attached)throw new Error("Must be attached");var n=this.parentElement,r=this.members;if(r.length)for(var a=0;a<r.length;a++)t._remove(r[a]);else{var i=this.emptyRangePlaceholder;this.parentElement.removeChild(i),this.emptyRangePlaceholder=null}if(!e){this.attached=!1,this.parentElement=null;for(var a=0;a<this.attachedCallbacks.length;a++){var o=this.attachedCallbacks[a];o.detached&&o.detached(this,n)}}},t.prototype.addMember=function(e,n,r){var a=this.members;if(!(n>=0&&n<=a.length))throw new Error("Bad index in range.addMember: "+n);if(r||this._memberIn(e),this.attached)if(0===a.length)this.setMembers([e]);else{var i;if(n===a.length)i=this.lastNode().nextSibling;else{var o=a[n];i=o instanceof t?o.firstNode():o}a.splice(n,0,e),t._insert(e,this.parentElement,i,r)}else a.splice(n,0,e)},t.prototype.removeMember=function(n,r){var a=this.members;if(!(n>=0&&n<a.length))throw new Error("Bad index in range.removeMember: "+n);if(r)a.splice(n,1);else{var i=a[n];this._memberOut(i),1===a.length?this.setMembers(e):(a.splice(n,1),this.attached&&t._remove(i))}},t.prototype.moveMember=function(e,t){var n=this.members[e];this.removeMember(e,!0),this.addMember(n,t,!0)},t.prototype.getMember=function(e){var t=this.members;if(!(e>=0&&e<t.length))throw new Error("Bad index in range.getMember: "+e);return this.members[e]},t.prototype._memberIn=function(e){e instanceof t?e.parentRange=this:1===e.nodeType&&(e.$blaze_range=this)},t._destroy=function(e,n){e instanceof t?e.view&&c._destroyView(e.view,n):n||1!==e.nodeType||e.$blaze_range&&(c._destroyNode(e),e.$blaze_range=null)},t.prototype._memberOut=t._destroy,t.prototype.destroyMembers=function(e){for(var t=this.members,n=0;n<t.length;n++)this._memberOut(t[n],e)},t.prototype.destroy=function(e){t._destroy(this,e)},t.prototype.containsElement=function(e){if(!this.attached)throw new Error("Must be attached");if(!c._elementContains(this.parentElement,e))return!1;for(;e.parentNode!==this.parentElement;)e=e.parentNode;for(var t=e.$blaze_range;t&&t!==this;)t=t.parentRange;return t===this},t.prototype.containsRange=function(e){if(!this.attached)throw new Error("Must be attached");if(!e.attached)return!1;if(e.parentElement!==this.parentElement)return this.containsElement(e.parentElement);if(e===this)return!1;for(;e&&e!==this;)e=e.parentRange;return e===this},t.prototype.onAttached=function(e){this.onAttachedDetached({attached:e})},t.prototype.onAttachedDetached=function(t){this.attachedCallbacks===e&&(this.attachedCallbacks=[]),this.attachedCallbacks.push(t)},t.prototype.$=function(e){var t=this,n=this.parentElement;if(!n)throw new Error("Can't select in removed DomRange");if(11===n.nodeType)throw new Error("Can't use $ on an offscreen range");var r=c._DOMBackend.findBySelector(e,n),a=function(e){return"number"==typeof e&&(e=this),t.containsElement(e)};if(r.filter)r=r.filter(a);else{for(var i=[],o=0;o<r.length;o++){var s=r[o];a(s)&&i.push(s)}r=i}return r},c._elementContains=function(e,t){return 1!==e.nodeType?!1:e===t?!1:e.compareDocumentPosition?16&e.compareDocumentPosition(t):(t=t.parentNode,t&&1===t.nodeType?e===t?!0:e.contains(t):!1)}}.call(this),function(){var e=c._EventSupport={},t=c._DOMBackend,n=e.eventsToDelegate={blur:1,change:1,click:1,focus:1,focusin:1,focusout:1,reset:1,submit:1},r=e.EVENT_MODE={TBD:0,BUBBLING:1,CAPTURING:2},a=1,o=function(e,o,s,u,c){this.elem=e,this.type=o,this.selector=s,this.handler=u,this.recipient=c,this.id=a++,this.mode=r.TBD,this.delegatedHandler=function(e){return function(t){return e.selector||t.currentTarget===t.target?e.handler.apply(e.recipient,arguments):void 0}}(this);var l=e.addEventListener&&!i.has(n,t.Events.parseEventType(o));l?this.capturingHandler=function(e){return function(n){if(e.mode===r.TBD){if(n.bubbles)return e.mode=r.BUBBLING,void t.Events.unbindEventCapturer(e.elem,e.type,e.capturingHandler);e.mode=r.CAPTURING,t.Events.undelegateEvents(e.elem,e.type,e.delegatedHandler)}e.delegatedHandler(n)}}(this):this.mode=r.BUBBLING};e.HandlerRec=o,o.prototype.bind=function(){this.mode!==r.BUBBLING&&t.Events.bindEventCapturer(this.elem,this.type,this.selector||"*",this.capturingHandler),this.mode!==r.CAPTURING&&t.Events.delegateEvents(this.elem,this.type,this.selector||"*",this.delegatedHandler)},o.prototype.unbind=function(){this.mode!==r.BUBBLING&&t.Events.unbindEventCapturer(this.elem,this.type,this.capturingHandler),this.mode!==r.CAPTURING&&t.Events.undelegateEvents(this.elem,this.type,this.delegatedHandler)},e.listen=function(e,t,n,r,a,i){try{e=e}finally{}var s=[];t.replace(/[^ /]+/g,function(e){s.push(e)});for(var u=[],c=0,l=s.length;l>c;c++){var d=s[c],p=e.$blaze_events;p||(p=e.$blaze_events={});var f=p[d];f||(f=p[d]={},f.handlers=[]);var h=f.handlers,m=new o(e,d,n,r,a);if(u.push(m),m.bind(),h.push(m),i)for(var w=i(a);w;w=i(w))for(var v=0,_=h.length;_>v;v++){var g=h[v];g.recipient===w&&(g.unbind(),g.bind(),h.splice(v,1),h.push(g),v--,_--)}}return{stop:function(){var t=e.$blaze_events;if(t){for(var n=0;n<u.length;n++){var r=u[n],a=t[r.type];if(a)for(var i=a.handlers,o=i.length-1;o>=0;o--)i[o]===r&&(r.unbind(),i.splice(o,1))}u.length=0}}}}}.call(this),function(){var n=!1;c._allowJavascriptUrls=function(){n=!0},c._javascriptUrlsAllowed=function(){return n},p=function(e,t){this.name=e,this.value=t},c._AttributeHandler=p,p.prototype.update=function(e,t,n){null===n?null!==t&&e.removeAttribute(this.name):e.setAttribute(this.name,n)},p.extend=function(e){var t=this,n=function r(){p.apply(this,arguments)};return n.prototype=new t,n.extend=t.extend,e&&i.extend(n.prototype,e),n};var r=p.extend({update:function(e,t,n){if(!this.getCurrentValue||!this.setValue||!this.parseValue)throw new Error("Missing methods in subclass of 'DiffingAttributeHandler'");var r=t?this.parseValue(t):{},a=n?this.parseValue(n):{},o=this.getCurrentValue(e),s=o?this.parseValue(o):{};i.each(i.keys(r),function(e){e in a||delete s[e]}),i.each(i.keys(a),function(e){s[e]=a[e]}),this.setValue(e,i.values(s).join(" "))}}),a=r.extend({getCurrentValue:function(e){return e.className},setValue:function(e,t){e.className=t},parseValue:function(e){var t={};return i.each(e.split(" "),function(e){e&&(t[e]=e)}),t}}),o=a.extend({getCurrentValue:function(e){return e.className.baseVal},setValue:function(e,t){e.setAttribute("class",t)}}),s=r.extend({getCurrentValue:function(e){return e.getAttribute("style")},setValue:function(e,t){""===t?e.removeAttribute("style"):e.setAttribute("style",t)},parseValue:function(e){for(var n={},r=/(\*?[-#\/\*\\\w]+(?:\[[0-9a-z_-]+\])?)\s*:\s*(?:\'(?:\\\'|.)*?\'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+[;\s]*/g,a=r.exec(e);a;)n[" "+a[1]]=a[0].trim?a[0].trim():t.trim(a[0]),a=r.exec(e);return n}}),u=p.extend({update:function(e,t,n){var r=this.name;null==n?null!=t&&(e[r]=!1):e[r]=!0}}),l=p.extend({update:function(e,t,n){n!==e.value&&(e.value=n)}}),d=p.extend({update:function(e,t,n){var r="http://www.w3.org/1999/xlink";null===n?null!==t&&e.removeAttributeNS(r,this.name):e.setAttributeNS(r,this.name,this.value)}}),m=function(e){return"ownerSVGElement"in e},w=function(e,t){var n={FORM:["action"],BODY:["background"],BLOCKQUOTE:["cite"],Q:["cite"],DEL:["cite"],INS:["cite"],OBJECT:["classid","codebase","data","usemap"],APPLET:["codebase"],A:["href"],AREA:["href"],LINK:["href"],BASE:["href"],IMG:["longdesc","src","usemap"],FRAME:["longdesc","src"],IFRAME:["longdesc","src"],HEAD:["profile"],SCRIPT:["src"],INPUT:["src","usemap","formaction"],BUTTON:["formaction"],BASE:["href"],MENUITEM:["icon"],HTML:["manifest"],VIDEO:["poster"]};if("itemid"===t)return!0;var r=n[e]||[];return i.contains(r,t)};if(e.isClient)var v=document.createElement("A");var _=function(t){if(e.isClient)return v.href=t,(v.protocol||"").toLowerCase();throw new Error("getUrlProtocol not implemented on the server")},g=p.prototype.update,y=p.extend({update:function(e,t,n){var r=this,a=arguments;if(c._javascriptUrlsAllowed())g.apply(r,a);else{var i="javascript:"===_(n);i?(c._warn("URLs that use the 'javascript:' protocol are not allowed in URL attribute values. Call Blaze._allowJavascriptUrls() to enable them."),g.apply(r,[e,t,null])):g.apply(r,a)}}});f=function(e,t,n){return"class"===t?m(e)?new o(t,n):new a(t,n):"style"===t?new s(t,n):"OPTION"===e.tagName&&"selected"===t||"INPUT"===e.tagName&&"checked"===t?new u(t,n):"TEXTAREA"!==e.tagName&&"INPUT"!==e.tagName||"value"!==t?"xlink:"===t.substring(0,6)?new d(t.substring(6),n):w(e.tagName,t)?new y(t,n):new p(t,n):new l(t,n)},h=function(e){this.elem=e,this.handlers={}},h.prototype.update=function(e){var t=this.elem,n=this.handlers;for(var r in n)if(!i.has(e,r)){var a=n[r],o=a.value;a.value=null,a.update(t,o,null),delete n[r]}for(var r in e){var a=null,o,s=e[r];i.has(n,r)?(a=n[r],o=a.value):null!==s&&(a=f(t,r,s),n[r]=a,o=null),o!==s&&(a.value=s,a.update(t,o,s),null===s&&delete n[r])}}}.call(this),function(){c._materializeDOM=function(t,n,r){var a=[];for(e(t,n,r,a);a.length;){var i=a.pop();"function"==typeof i?i():e(i[0],i[1],i[2],a)}return n};var e=function(e,n,r,a){if(null!=e){switch(typeof e){case"string":case"boolean":case"number":return void n.push(document.createTextNode(String(e)));case"object":if(e.htmljsType)switch(e.htmljsType){case o.Tag.htmljsType:return void n.push(t(e,r,a));case o.CharRef.htmljsType:return void n.push(document.createTextNode(e.str));case o.Comment.htmljsType:return void n.push(document.createComment(e.sanitizedValue));case o.Raw.htmljsType:for(var i=c._DOMBackend.parseHTML(e.value),s=0;s<i.length;s++)n.push(i[s]);return}else{if(o.isArray(e)){for(var s=e.length-1;s>=0;s--)a.push([e[s],n,r]);return}if(e instanceof c.Template&&(e=e.constructView()),e instanceof c.View)return void c._materializeView(e,r,a,n)}}throw new Error("Unexpected object in htmljs: "+e)}},t=function(e,t,a){var s=e.tagName,u;u=(o.isKnownSVGElement(s)||n(e))&&document.createElementNS?document.createElementNS("http://www.w3.org/2000/svg",s):document.createElement(s);var l=e.attrs,d=e.children;if("textarea"===s&&e.children.length&&!(l&&"value"in l)){if("function"==typeof l||o.isArray(l))throw new Error("Can't have reactive children of TEXTAREA node; use the 'value' attribute instead.");l=i.extend({},l||null),l.value=c._expand(d,t),d=[]}if(l){var p=new h(u),f=function(){var e=c._expandAttributes(l,t),n=o.flattenAttributes(e),r={};for(var a in n)r[a]=c._toText(n[a],t,o.TEXTMODE.STRING);p.update(r)},m;m=t?t.autorun(f,void 0,"updater"):r.nonreactive(function(){return r.autorun(function(){r._withCurrentView(t,f)})}),c._DOMBackend.Teardown.onElementTeardown(u,function v(){m.stop()})}if(d.length){var w=[];a.push(function(){for(var e=0;e<w.length;e++){var t=w[e];t instanceof c._DOMRange?t.attach(u):u.appendChild(t)}}),a.push([d,w,t])}return u},n=function(e){return"a"===e.tagName&&e.attrs&&void 0!==e.attrs["xlink:href"]}}.call(this),function(){var t;c._throwNextException=!1,c._reportException=function(n,r){if(c._throwNextException)throw c._throwNextException=!1,n;t||(t=function(){return"undefined"!=typeof e?e._debug:"undefined"!=typeof console&&console.log?console.log:function(){}}),t()(r||"Exception caught in template:",n.stack||n.message)},c._wrapCatchingExceptions=function(e,t){return"function"!=typeof e?e:function(){try{return e.apply(this,arguments)}catch(n){c._reportException(n,"Exception in "+t+":")}}}}.call(this),function(){c.View=function(e,t){return this instanceof c.View?("function"==typeof e&&(t=e,e=""),this.name=e,this._render=t,this._callbacks={created:null,rendered:null,destroyed:null},this.isCreated=!1,this._isCreatedForExpansion=!1,this.isRendered=!1,this._isAttached=!1,this.isDestroyed=!1,this._isInRender=!1,this.parentView=null,this._domrange=null,this._hasGeneratedParent=!1,void(this.renderCount=0)):new c.View(e,t)},c.View.prototype._render=function(){return null},c.View.prototype.onViewCreated=function(e){this._callbacks.created=this._callbacks.created||[],this._callbacks.created.push(e)},c.View.prototype._onViewRendered=function(e){this._callbacks.rendered=this._callbacks.rendered||[],this._callbacks.rendered.push(e)},c.View.prototype.onViewReady=function(e){var t=this,n=function(){r.afterFlush(function(){t.isDestroyed||c._withCurrentView(t,function(){e.call(t)})})};t._onViewRendered(function a(){t.isDestroyed||(t._domrange.attached?n():t._domrange.onAttached(n))})},c.View.prototype.onViewDestroyed=function(e){this._callbacks.destroyed=this._callbacks.destroyed||[],this._callbacks.destroyed.push(e)},c.View.prototype.autorun=function(e,t,n){var a=this;if(!a.isCreated)throw new Error("View#autorun must be called from the created callback at the earliest");if(this._isInRender)throw new Error("Can't call View#autorun from inside render(); try calling it from the created or rendered callback");if(r.active)throw new Error("Can't call View#autorun from a Tracker Computation; try calling it from the created or rendered callback");var i={};return i.templateInstanceFunc=c.Template._currentTemplateInstanceFunc,i.f=function o(n){return c._withCurrentView(t||a,function(){return c.Template._withTemplateInstanceFunc(i.templateInstanceFunc,function(){return e.call(a,n)})})},i.f.displayName=(a.name||"anonymous")+":"+(n||"anonymous"),i.c=r.autorun(i.f),a.onViewDestroyed(function(){i.c.stop()}),i.c},c.View.prototype._errorIfShouldntCallSubscribe=function(){var e=this;if(!e.isCreated)throw new Error("View#subscribe must be called from the created callback at the earliest");if(e._isInRender)throw new Error("Can't call View#subscribe from inside render(); try calling it from the created or rendered callback");if(e.isDestroyed)throw new Error("Can't call View#subscribe from inside the destroyed callback, try calling it inside created or rendered.")},c.View.prototype.subscribe=function(t,n){var r=this;n={}||n,r._errorIfShouldntCallSubscribe();var a;return a=n.connection?n.connection.subscribe.apply(n.connection,t):e.subscribe.apply(e,t),r.onViewDestroyed(function(){a.stop()}),a},c.View.prototype.firstNode=function(){if(!this._isAttached)throw new Error("View must be attached before accessing its DOM");return this._domrange.firstNode()},c.View.prototype.lastNode=function(){if(!this._isAttached)throw new Error("View must be attached before accessing its DOM");return this._domrange.lastNode()},c._fireCallbacks=function(e,t){c._withCurrentView(e,function(){r.nonreactive(function n(){for(var n=e._callbacks[t],r=0,a=n&&n.length;a>r;r++)n[r].call(e)})})},c._createView=function(e,t,n){if(e.isCreated)throw new Error("Can't render the same View twice");e.parentView=t||null,e.isCreated=!0,n&&(e._isCreatedForExpansion=!0),c._fireCallbacks(e,"created")};var t=function(e,t){var n=new c._DOMRange(t);e._domrange=n,n.view=e,e.isRendered=!0,c._fireCallbacks(e,"rendered");var r=null;return n.onAttached(function a(t,n){e._isAttached=!0,r=c._DOMBackend.Teardown.onElementTeardown(n,function a(){c._destroyView(e,!0)})}),e.onViewDestroyed(function(){r&&r.stop(),r=null}),n};c._materializeView=function(e,n,a,i){c._createView(e,n);var o,s;return r.nonreactive(function(){e.autorun(function u(t){e.renderCount++,e._isInRender=!0;var n=e._render();e._isInRender=!1,t.firstRun||r.nonreactive(function a(){var t=c._materializeDOM(n,[],e);c._isContentEqual(s,n)||(o.setMembers(t),c._fireCallbacks(e,"rendered"))}),s=n,r.onInvalidate(function(){o&&o.destroyMembers()})},void 0,"materialize");var n;a?(n=[],a.push(function(){o=t(e,n),n=null,i.push(o)}),a.push([s,n,e])):(n=c._materializeDOM(s,[],e),o=t(e,n),n=null)}),a?null:o},c._expandView=function(e,t){c._createView(e,t,!0),e._isInRender=!0;var n=c._withCurrentView(e,function(){return e._render()});e._isInRender=!1;var a=c._expand(n,e);return r.active?r.onInvalidate(function(){c._destroyView(e)}):c._destroyView(e),a},c._HTMLJSExpander=o.TransformingVisitor.extend(),c._HTMLJSExpander.def({visitObject:function(e){return e instanceof c.Template&&(e=e.constructView()),e instanceof c.View?c._expandView(e,this.parentView):o.TransformingVisitor.prototype.visitObject.call(this,e)},visitAttributes:function(e){return"function"==typeof e&&(e=c._withCurrentView(this.parentView,e)),o.TransformingVisitor.prototype.visitAttributes.call(this,e)},visitAttribute:function(e,t,n){return"function"==typeof t&&(t=c._withCurrentView(this.parentView,t)),o.TransformingVisitor.prototype.visitAttribute.call(this,e,t,n)}});var n=function(){var e=c.currentView;return e&&e._isInRender?e:null};c._expand=function(e,t){return t=t||n(),new c._HTMLJSExpander({parentView:t}).visit(e)},c._expandAttributes=function(e,t){return t=t||n(),new c._HTMLJSExpander({parentView:t}).visitAttributes(e)},c._destroyView=function(e,t){e.isDestroyed||(e.isDestroyed=!0,c._fireCallbacks(e,"destroyed"),e._domrange&&e._domrange.destroyMembers(t))},c._destroyNode=function(e){1===e.nodeType&&c._DOMBackend.Teardown.tearDownElement(e)},c._isContentEqual=function(e,t){return e instanceof o.Raw?t instanceof o.Raw&&e.value===t.value:null==e?null==t:e===t&&("number"==typeof e||"boolean"==typeof e||"string"==typeof e)},c.currentView=null,c._withCurrentView=function(e,t){var n=c.currentView;try{return c.currentView=e,t()}finally{c.currentView=n}};var a=function(e){if(null===e)throw new Error("Can't render null");if("undefined"==typeof e)throw new Error("Can't render undefined");if(!(e instanceof c.View||e instanceof c.Template||"function"==typeof e))try{(new o.Visitor).visit(e)}catch(t){throw new Error("Expected Template or View")}},s=function(e){if(a(e),e instanceof c.Template)return e.constructView();if(e instanceof c.View)return e;var t=e;return"function"!=typeof t&&(t=function(){return e}),c.View("render",t)},u=function(e){return a(e),"function"!=typeof e?function(){return e}:e};c.render=function(e,t,r,a){if(t||c._warn("Blaze.render without a parent element is deprecated. You must specify where to insert the rendered content."),r instanceof c.View&&(a=r,r=null),t&&"number"!=typeof t.nodeType)throw new Error("'parentElement' must be a DOM node");if(r&&"number"!=typeof r.nodeType)throw new Error("'nextNode' must be a DOM node");a=a||n();var i=s(e);return c._materializeView(i,a),t&&i._domrange.attach(t,r),i},c.insert=function(e,t,n){if(c._warn("Blaze.insert has been deprecated.  Specify where to insert the rendered content in the call to Blaze.render."),!(e&&e._domrange instanceof c._DOMRange))throw new Error("Expected template rendered with Blaze.render");e._domrange.attach(t,n)},c.renderWithData=function(e,t,n,r,a){return c.render(c._TemplateWith(t,u(e)),n,r,a)},c.remove=function(e){if(!(e&&e._domrange instanceof c._DOMRange))throw new Error("Expected template rendered with Blaze.render");for(;e;){if(!e.isDestroyed){var t=e._domrange;t.attached&&!t.parentRange&&t.detach(),t.destroy()}e=e._hasGeneratedParent&&e.parentView}},c.toHTML=function(e,t){return t=t||n(),o.toHTML(c._expandView(s(e),t))},c.toHTMLWithData=function(e,t,r){return r=r||n(),o.toHTML(c._expandView(c._TemplateWith(t,u(e)),r))},c._toText=function(e,t,r){if("function"==typeof e)throw new Error("Blaze._toText doesn't take a function, just HTMLjs");if(null==t||t instanceof c.View||(r=t,t=null),t=t||n(),!r)throw new Error("textMode required");if(r!==o.TEXTMODE.STRING&&r!==o.TEXTMODE.RCDATA&&r!==o.TEXTMODE.ATTRIBUTE)throw new Error("Unknown textMode: "+r);return o.toText(c._expand(e,t),r)},c.getData=function(e){var t;if(e)if(e instanceof c.View){var n=e;t="with"===n.name?n:c.getView(n,"with")}else{if("number"!=typeof e.nodeType)throw new Error("Expected DOM element or View");if(1!==e.nodeType)throw new Error("Expected DOM element");t=c.getView(e,"with")}else t=c.getView("with");return t?t.dataVar.get():null},c.getElementData=function(e){if(c._warn("Blaze.getElementData has been deprecated.  Use Blaze.getData(element) instead."),1!==e.nodeType)throw new Error("Expected DOM element");return c.getData(e)},c.getView=function(e,t){var n=t;if("string"==typeof e&&(n=e,e=null),e){if(e instanceof c.View)return c._getParentView(e,n);if("number"==typeof e.nodeType)return c._getElementView(e,n);throw new Error("Expected DOM element or View")}return c._getCurrentView(n)},c._getCurrentView=function(e){var t=c.currentView;if(!t)throw new Error("There is no current view");if(e){for(;t&&t.name!==e;)t=t.parentView;return t||null}return t},c._getParentView=function(e,t){var n=e.parentView;if(t)for(;n&&n.name!==t;)n=n.parentView;return n||null},c._getElementView=function(e,t){for(var n=c._DOMRange.forElement(e),r=null;n&&!r;)r=n.view||null,r||(n=n.parentRange?n.parentRange:c._DOMRange.forElement(n.parentElement));if(t){for(;r&&r.name!==t;)r=r.parentView;return r||null}return r},c._addEventMap=function(e,t,n){n=n||null;var r=[];if(!e._domrange)throw new Error("View must have a DOMRange");e._domrange.onAttached(function a(o,s){i.each(t,function(t,a){var u=a.split(/,\s+/);i.each(u,function(a){var i=a.split(/\s+/);if(0!==i.length){var u=i.shift(),l=i.join(" ");r.push(c._EventSupport.listen(s,u,l,function(r){if(!o.containsElement(r.currentTarget))return null;var a=n||this,i=arguments;return c._withCurrentView(e,function(){return t.apply(a,i)})},o,function(e){return e.parentRange}))}})})}),e.onViewDestroyed(function(){i.each(r,function(e){e.stop()}),r.length=0})}}.call(this),function(){c._calculateCondition=function(e){return e instanceof Array&&0===e.length&&(e=!1),!!e},c.With=function(e,t){var n=c.View("with",t);return n.dataVar=new u,n.onViewCreated(function(){"function"==typeof e?n.autorun(function(){n.dataVar.set(e())},n.parentView,"setData"):n.dataVar.set(e)}),n},c.If=function(e,t,n,r){var a=new u,i=c.View(r?"unless":"if",function(){return a.get()?t():n?n():null});return i.__conditionVar=a,i.onViewCreated(function(){this.autorun(function(){var t=c._calculateCondition(e());a.set(r?!t:t)},this.parentView,"condition")}),i},c.Unless=function(e,t,n){return c.If(e,t,n,!0)},c.Each=function(e,t,n){var a=c.View("each",function(){var e=this.initialSubviews;return this.initialSubviews=null,this._isCreatedForExpansion&&(this.expandedValueDep=new r.Dependency,this.expandedValueDep.depend()),e});return a.initialSubviews=[],a.numItems=0,a.inElseMode=!1,a.stopHandle=null,a.contentFunc=t,a.elseFunc=n,a.argVar=new u,a.onViewCreated(function(){a.autorun(function(){a.argVar.set(e())},a.parentView,"collection"),a.stopHandle=s.observe(function(){return a.argVar.get()},{addedAt:function(e,t,n){r.nonreactive(function(){var e=c.With(t,a.contentFunc);if(a.numItems++,a.expandedValueDep)a.expandedValueDep.changed();else if(a._domrange){a.inElseMode&&(a._domrange.removeMember(0),a.inElseMode=!1);var r=c._materializeView(e,a);a._domrange.addMember(r,n)}else a.initialSubviews.splice(n,0,e)})},removedAt:function(e,t,n){r.nonreactive(function(){a.numItems--,a.expandedValueDep?a.expandedValueDep.changed():a._domrange?(a._domrange.removeMember(n),a.elseFunc&&0===a.numItems&&(a.inElseMode=!0,a._domrange.addMember(c._materializeView(c.View("each_else",a.elseFunc),a),0))):a.initialSubviews.splice(n,1)})},changedAt:function(e,t,n,i){r.nonreactive(function(){if(a.expandedValueDep)a.expandedValueDep.changed();else{var e;e=a._domrange?a._domrange.getMember(i).view:a.initialSubviews[i],e.dataVar.set(t)}})},movedTo:function(e,t,n,i){r.nonreactive(function(){if(a.expandedValueDep)a.expandedValueDep.changed();else if(a._domrange)a._domrange.moveMember(n,i);else{var e=a.initialSubviews,t=e[n];e.splice(n,1),e.splice(i,0,t)}})}}),a.elseFunc&&0===a.numItems&&(a.inElseMode=!0,a.initialSubviews[0]=c.View("each_else",a.elseFunc))}),a.onViewDestroyed(function(){a.stopHandle&&a.stopHandle.stop()}),a},c._TemplateWith=function(e,t){var n,r=e;"function"!=typeof e&&(r=function(){return e});var a=function(){var e=null;return n.parentView&&"InOuterTemplateScope"===n.parentView.name&&(e=n.parentView.originalParentView),e?c._withCurrentView(e,r):r()},i=function(){var e=t.call(this);return e instanceof c.Template&&(e=e.constructView()),e instanceof c.View&&(e._hasGeneratedParent=!0),e};return n=c.With(a,i),n.__isTemplateWith=!0,n},c._InOuterTemplateScope=function(e,t){var n=c.View("InOuterTemplateScope",t),r=e.parentView;return r.__isTemplateWith&&(r=r.parentView),n.onViewCreated(function(){this.originalParentView=this.parentView,this.parentView=r}),n},c.InOuterTemplateScope=c._InOuterTemplateScope}.call(this),function(){c._globalHelpers={},c.registerHelper=function(e,t){c._globalHelpers[e]=t};var e=function(e,t){return"function"!=typeof e?e:i.bind(e,t)},t=function(e){return"function"==typeof e?function(){var t=c.getData();return null==t&&(t={}),e.apply(t,arguments)}:e};c._OLDSTYLE_HELPER={};var n=c._getTemplateHelper=function(e,t){var n=!1;if(e.__helpers.has(t)){var r=e.__helpers.get(t);if(r!==c._OLDSTYLE_HELPER)return r;n=!0}return t in e?(n||(e.__helpers.set(t,c._OLDSTYLE_HELPER),e._NOWARN_OLDSTYLE_HELPERS||c._warn("Assigning helper with `"+e.viewName+"."+t+" = ...` is deprecated.  Use `"+e.viewName+".helpers(...)` instead.")),e[t]):null},r=function(e,t){return"function"!=typeof e?e:function(){var n=this,r=arguments;return c.Template._withTemplateInstanceFunc(t,function(){return c._wrapCatchingExceptions(e,"template helper").apply(n,r)})}};c.View.prototype.lookup=function(e,a){var o=this.template,s=a&&a.template,u,l;if(this.templateInstance&&(l=i.bind(this.templateInstance,this)),/^\./.test(e)){if(!/^(\.)+$/.test(e))throw new Error("id starting with dot must be a series of dots");return c._parentData(e.length-1,!0)}return o&&null!=(u=n(o,e))?r(t(u),l):s&&e in c.Template&&c.Template[e]instanceof c.Template?c.Template[e]:null!=c._globalHelpers[e]?r(t(c._globalHelpers[e]),l):function(){var t=arguments.length>0,n=c.getData();if(s&&(!n||!n[e]))throw new Error("No such template: "+e);if(t&&(!n||!n[e]))throw new Error("No such function: "+e);if(!n)return null;var r=n[e];if("function"!=typeof r){if(t)throw new Error("Can't call non-function: "+r);return r}return r.apply(n,arguments)};return null},c._parentData=function(e,t){null==e&&(e=1);for(var n=c.getView("with"),r=0;e>r&&n;r++)n=c.getView(n,"with");return n?t?function(){return n.dataVar.get()}:n.dataVar.get():null},c.View.prototype.lookupTemplate=function(e){return this.lookup(e,{template:!0})}}.call(this),function(){c.Template=function(e,n){if(!(this instanceof c.Template))return new c.Template(e,n);if("function"==typeof e&&(n=e,e=""),"string"!=typeof e)throw new Error("viewName must be a String (or omitted)");if("function"!=typeof n)throw new Error("renderFunction must be a function");this.viewName=e,this.renderFunction=n,this.__helpers=new t,this.__eventMaps=[],this._callbacks={created:[],rendered:[],destroyed:[]}};var e=c.Template,t=function(){};t.prototype.get=function(e){return this[" "+e]},t.prototype.set=function(e,t){this[" "+e]=t},t.prototype.has=function(e){return" "+e in this},c.isTemplate=function(e){return e instanceof c.Template},e.prototype.onCreated=function(e){this._callbacks.created.push(e)},e.prototype.onRendered=function(e){
this._callbacks.rendered.push(e)},e.prototype.onDestroyed=function(e){this._callbacks.destroyed.push(e)},e.prototype._getCallbacks=function(e){var t=this,n=t[e]?[t[e]]:[];return n=n.concat(t._callbacks[e])};var n=function(t,n){e._withTemplateInstanceFunc(function(){return n},function(){for(var e=0,r=t.length;r>e;e++)t[e].call(n)})};e.prototype.constructView=function(t,r){var a=this,o=c.View(a.viewName,a.renderFunction);o.template=a,o.templateContentBlock=t?new e("(contentBlock)",t):null,o.templateElseBlock=r?new e("(elseBlock)",r):null,(a.__eventMaps||"object"==typeof a.events)&&o._onViewRendered(function(){1===o.renderCount&&(a.__eventMaps.length||"object"!=typeof a.events||e.prototype.events.call(a,a.events),i.each(a.__eventMaps,function(e){c._addEventMap(o,e,o)}))}),o._templateInstance=new c.TemplateInstance(o),o.templateInstance=function(){var e=o._templateInstance;return e.data=c.getData(o),o._domrange&&!o.isDestroyed?(e.firstNode=o._domrange.firstNode(),e.lastNode=o._domrange.lastNode()):(e.firstNode=null,e.lastNode=null),e};var s=a._getCallbacks("created");o.onViewCreated(function(){n(s,o.templateInstance())});var u=a._getCallbacks("rendered");o.onViewReady(function(){n(u,o.templateInstance())});var l=a._getCallbacks("destroyed");return o.onViewDestroyed(function(){n(l,o.templateInstance())}),o},c.TemplateInstance=function(e){if(!(this instanceof c.TemplateInstance))return new c.TemplateInstance(e);if(!(e instanceof c.View))throw new Error("View required");e._templateInstance=this,this.view=e,this.data=null,this.firstNode=null,this.lastNode=null,this._allSubsReadyDep=new r.Dependency,this._allSubsReady=!1,this._subscriptionHandles={}},c.TemplateInstance.prototype.$=function(e){var t=this.view;if(!t._domrange)throw new Error("Can't use $ on template instance with no DOM");return t._domrange.$(e)},c.TemplateInstance.prototype.findAll=function(e){return Array.prototype.slice.call(this.$(e))},c.TemplateInstance.prototype.find=function(e){var t=this.$(e);return t[0]||null},c.TemplateInstance.prototype.autorun=function(e){return this.view.autorun(e)},c.TemplateInstance.prototype.subscribe=function(){var e=this,t=e._subscriptionHandles,n=i.toArray(arguments),r={};if(n.length){var a=i.last(n);i.isFunction(a)?r.onReady=n.pop():a&&i.any([a.onReady,a.onError,a.onStop],i.isFunction)&&(r=n.pop())}var o,s=r.onStop;return r.onStop=function(n){delete t[o.subscriptionId],e._allSubsReady||e._allSubsReadyDep.changed(),s&&s(n)},n.push(r),o=e.view.subscribe.call(e.view,n),i.has(t,o.subscriptionId)||(t[o.subscriptionId]=o,e._allSubsReady&&e._allSubsReadyDep.changed()),o},c.TemplateInstance.prototype.subscriptionsReady=function(){return this._allSubsReadyDep.depend(),this._allSubsReady=i.all(this._subscriptionHandles,function(e){return e.ready()}),this._allSubsReady},e.prototype.helpers=function(e){for(var t in e)this.__helpers.set(t,e[t])},e._currentTemplateInstanceFunc=null,e._withTemplateInstanceFunc=function(t,n){if("function"!=typeof n)throw new Error("Expected function, got: "+n);var r=e._currentTemplateInstanceFunc;try{return e._currentTemplateInstanceFunc=t,n()}finally{e._currentTemplateInstanceFunc=r}},e.prototype.events=function(t){var n=this,r={};for(var a in t)r[a]=function(t,n){return function(t){var r=this,a=c.getData(t.currentTarget);null==a&&(a={});var o=Array.prototype.slice.call(arguments),s=i.bind(r.templateInstance,r);return o.splice(1,0,s()),e._withTemplateInstanceFunc(s,function(){return n.apply(a,o)})}}(a,t[a]);n.__eventMaps.push(r)},e.instance=function(){return e._currentTemplateInstanceFunc&&e._currentTemplateInstanceFunc()},e.currentData=c.getData,e.parentData=c._parentData,e.registerHelper=c.registerHelper}.call(this),function(){l=c,c.ReactiveVar=u,l._templateInstance=c.Template.instance,d={},d.registerHelper=c.registerHelper,d._escape=c._escape,d.SafeString=function(e){this.string=e},d.SafeString.prototype.toString=function(){return this.string.toString()}}.call(this),"undefined"==typeof Package&&(Package={}),Package.blaze={Blaze:c,UI:l,Handlebars:d}}();

!function(){var a=Package.meteor.Meteor,e=Package.blaze.Blaze,c=Package.blaze.UI,g=Package.blaze.Handlebars,k=Package.htmljs.HTML,e,c,g;"undefined"==typeof Package&&(Package={}),Package.ui={Blaze:e,UI:c,Handlebars:g}}();

!function(){var e=Package.meteor.Meteor,n=Package.underscore._,a=Package.blaze.Blaze,t=Package.blaze.UI,o=Package.blaze.Handlebars,d=Package.htmljs.HTML,c;(function(){c=a.Template;var e="__proto__ name".split(" ");c.__checkName=function(a){if(a in c||n.contains(e,a)){if(c[a]instanceof c&&"body"!==a)throw new Error("There are multiple templates named '"+a+"'. Each template needs a unique name.");throw new Error("This template name is reserved: "+a)}},c.__define__=function(e,n){c.__checkName(e),c[e]=new c("Template."+e,n),c[e]._NOWARN_OLDSTYLE_HELPERS=!0},c.body=new c("body",function(){var e=this;return n.map(c.body.contentRenderFuncs,function(n){return n.apply(e)})}),c.body.contentRenderFuncs=[],c.body.view=null,c.body.addContent=function(e){c.body.contentRenderFuncs.push(e)},c.body.renderToDocument=function(){if(!c.body.view){var e=a.render(c.body,document.body);c.body.view=e}},t.body=c.body,c.__body__=c.body,c.__body__.__contentParts=c.body.contentViews,c.__body__.__instantiate=c.body.renderToDocument}).call(this),"undefined"==typeof Package&&(Package={}),Package.templating={Template:c}}();

!function(){var e=Package.meteor.Meteor,t=Package.underscore._,n=Package.ejson.EJSON,r;(function(){if(Package["cmather:iron-core"])throw new Error("\n\n    Sorry! The cmather:iron-{x} packages were migrated to the new package system with the wrong name, and you have duplicate copies.\n    You can see which cmather:iron-{x} packages have been installed by using this command:\n\n    > meteor list\n\n    Can you remove any installed cmather:iron-{x} packages like this:    \n\n    > meteor remove cmather:iron-core\n    > meteor remove cmather:iron-router\n    > meteor remove cmather:iron-dynamic-template\n    > meteor remove cmather:iron-dynamic-layout\n    \n    The new packages are named iron:{x}. For example:\n\n    > meteor add iron:router\n\n    Sorry for the hassle, but thank you!    \n\n  ")}).call(this),function(){r={},r.utils={},r.utils.assert=function(e,t){if(!e)throw new Error(t)},r.utils.warn=function(e,t){e||console&&console.warn&&console.warn(t)},r.utils.defaultValue=function(e,t,n){return"undefined"==typeof e[t]?(e[t]=n,n):e[t]},r.utils.inherits=function(e,o,i){r.utils.assert("undefined"!=typeof e,"Child is undefined in inherits function"),r.utils.assert("undefined"!=typeof o,"Parent is undefined in inherits function");for(var a in o)t.has(o,a)&&(e[a]=n.clone(o[a]));var s=function(){this.constructor=e};return s.prototype=o.prototype,e.prototype=new s,e.__super__=o.prototype,t.isObject(i)&&t.extend(e.prototype,i),e},r.utils.extend=function(e,n){n=n||{};var o=function(){var e;e=t.has(n,"constructor")?n.constructor:o.__super__.constructor,e.apply(this,arguments)};return r.utils.inherits(o,e,n)},r.utils.global=function(){return e.isClient?window:global}(),r.utils.namespace=function(e,t){var n=r.utils.global,o,i,a,s;r.utils.assert("string"==typeof e,"namespace must be a string"),o=e.split("."),a=o.pop(),s=n;for(var u=0;u<o.length;u++)i=o[u],s=s[i]=s[i]||{};return 2===arguments.length?(s[a]=t,t):s[a]},r.utils.resolve=function(e){var t=r.utils.global,n,o;if("string"==typeof e){n=e.split("."),o=t;for(var i=0;i<n.length;i++)if(o=o[n[i]],!o)return void 0}else o=e;return o},r.utils.capitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1,e.length)},r.utils.classCase=function(e){var n=/_|-|\.|\//;return e?t.map(e.split(n),function(e){return r.utils.capitalize(e)}).join(""):""},r.utils.camelCase=function(e){var t=r.utils.classCase(e);return t=t.charAt(0).toLowerCase()+t.slice(1,t.length)},r.utils.notifyDeprecated=function(e){var n,r,o,i,a="[:where] ':name' is deprecated. Please use ':instead' instead.";t.isObject(e)?(n=e.name,r=e.instead,o=e.message||a,i=e.where||"IronRouter"):(o=e,n="",r="",i=""),"undefined"!=typeof console&&console.warn&&console.warn("<deprecated> "+o.replace(":name",n).replace(":instead",r).replace(":where",i)+" "+(new Error).stack)},r.utils.withDeprecatedNotice=function(e,t,n){return function(){return Utils.notifyDeprecated(e),t&&t.apply(n||this,arguments)}},Function.prototype.deprecate=function(e){var t=this;return r.utils.withDeprecatedNotice(e,t)},r.utils.debug=function(e){return r.utils.assert("string"==typeof e,"debug requires a package name"),function n(){if(console&&console.log&&r.debug===!0){var n=t.toArray(arguments).join(" ");console.log("%c<"+e+"> %c"+n,"color: #999;","color: #000;")}}},r.utils.get=function(e){for(var t=1;t<arguments.length;t++){if(!(e&&arguments[t]in e))return void 0;e=e[arguments[t]]}return e},r.utils.global.Iron=r}.call(this),"undefined"==typeof Package&&(Package={}),Package["iron:core"]={Iron:r}}();

!function(){var e=Package.meteor.Meteor,t=Package.ui.Blaze,n=Package.ui.UI,a=Package.ui.Handlebars,r=Package.underscore._,i=Package.jquery.$,o=Package.jquery.jQuery,s=Package.tracker.Tracker,u=Package.tracker.Deps,c=Package["reactive-var"].ReactiveVar,l=Package.templating.Template,p=Package.random.Random,h=Package["iron:core"].Iron,d=Package.htmljs.HTML,m;(function(){if(Package["cmather:iron-dynamic-template"])throw new Error("\n\n    Sorry! The cmather:iron-{x} packages were migrated to the new package system with the wrong name, and you have duplicate copies.\n    You can see which cmather:iron-{x} packages have been installed by using this command:\n\n    > meteor list\n\n    Can you remove any installed cmather:iron-{x} packages like this:    \n\n    > meteor remove cmather:iron-core\n    > meteor remove cmather:iron-router\n    > meteor remove cmather:iron-dynamic-template\n    > meteor remove cmather:iron-dynamic-layout\n    \n    The new packages are named iron:{x}. For example:\n\n    > meteor add iron:router\n\n    Sorry for the hassle, but thank you!    \n\n  ")}).call(this),function(){l.__checkName("__DynamicTemplateError__"),l.__DynamicTemplateError__=new l("Template.__DynamicTemplateError__",function(){var e=this;return d.DIV({style:"margin: 0 auto; color: red;"},"\n    ",t.View(function(){return Spacebars.mustache(e.lookup("msg"))}),"\n  ")})}.call(this),function(){var e=h.utils.debug("iron:dynamic-template"),a=h.utils.assert,o=h.utils.get,d=h.utils.camelCase,f=function(e){return Object.prototype.toString.call(e)};m=function(e){this._id=p.id(),this.options=e=e||{},this._template=e.template,this._defaultTemplate=e.defaultTemplate,this._content=e.content,this._data=e.data,this._templateDep=new s.Dependency,this._dataDep=new s.Dependency,this._lookupHostDep=new s.Dependency,this._lookupHostValue=null,this._hooks={},this._eventMap=null,this._eventHandles=null,this._eventThisArg=null,this.name=e.name||this.constructor.prototype.name||"DynamicTemplate",this.isCreated=!1,this.isDestroyed=!1},m.prototype.template=function(e){if(1===arguments.length&&e!==this._template)return this._template=e,void this._templateDep.changed();if(!(arguments.length>0))return this._templateDep.depend(),this._template?"function"==typeof this._template?this._template():this._template:this._defaultTemplate?"function"==typeof this._defaultTemplate?this._defaultTemplate():this._defaultTemplate:void 0},m.prototype.defaultTemplate=function(e){return 1!==arguments.length?this._defaultTemplate:void(this._defaultTemplate=e)},m.prototype.clear=function(){this._template=void 0,this._data=void 0,this._templateDep.changed()},m.prototype.data=function(e){return 1===arguments.length&&e!==this._data?(this._data=e,void this._dataDep.changed()):(this._dataDep.depend(),"function"==typeof this._data?this._data():this._data)},m.prototype.create=function(e){var n=this;if(this.isCreated)throw new Error("DynamicTemplate view is already created");this.isCreated=!0,this.isDestroyed=!1;var a=c(null),i=t.View("DynamicTemplate",function(){var e=this,r=a.get();return t.With(function(){var t=n.data();return"undefined"!=typeof t?t:m.getParentDataContext(e)},function(){return n.renderView(r)})});return i.onViewCreated(function(){this.autorun(function(){a.set(n.template())})}),r.each(["onViewCreated","onViewReady","_onViewRendered","onViewDestroyed"],function(e){i[e](function(){n._runHooks(e,this)})}),i._onViewRendered(function(){n.isInserted=!0,1===i.renderCount&&n._attachEvents()}),i.onViewDestroyed(function(){n._detachEvents()}),i._templateInstance=new t.TemplateInstance(i),i.templateInstance=function(){var e=i._templateInstance;return e.data=t.getData(i),i._domrange&&!i.isDestroyed?(e.firstNode=i._domrange.firstNode(),e.lastNode=i._domrange.lastNode()):(e.firstNode=null,e.lastNode=null),e},this.view=i,i.__dynamicTemplate__=this,i.name=this.name,i},m.prototype.renderView=function(e){var n=this,a=null;return"string"==typeof e?(a=l[e],a||(a=l[d(e)]),a||(a=t.With({msg:"Couldn't find a template named "+JSON.stringify(e)+" or "+JSON.stringify(d(e))+". Are you sure you defined it?"},function(){return l.__DynamicTemplateError__}))):"[object Object]"===f(e)?a=e:"undefined"!=typeof n._content&&(a=n._content),a},m.prototype.destroy=function(){this.isCreated&&(t.remove(this.view),this.view=null,this.isDestroyed=!0,this.isCreated=!1)},r.each(["onViewCreated","onViewReady","_onViewRendered","onViewDestroyed"],function(e){m.prototype[e]=function(t){var n=this._hooks[e]=this._hooks[e]||[];return n.push(t),this}}),m.prototype._runHooks=function(e,t){for(var n=this._hooks[e]||[],a,r=0;r<n.length;r++)a=n[r],a.call(t,this)},m.prototype.events=function(e,n){var a=this;this._detachEvents(),this._eventThisArg=n;var r=this._eventMap={};for(var i in e)r[i]=function(e,r){return function(e){var i=t.getData(e.currentTarget);null==i&&(i={});var o=a.view.templateInstance();return r.call(n||this,e,o,i)}}(i,e[i]);this._attachEvents()},m.prototype._attachEvents=function(){var e=this,n=e._eventThisArg,a=e._eventMap,i=e.view,o=e._eventHandles;if(i){var s=i._domrange;if(!s)throw new Error("no domrange");var u=function(n,s){r.each(a,function(a,u){var c=u.split(/,\s+/);r.each(c,function(r){var u=r.split(/\s+/);if(0!==u.length){var c=u.shift(),l=u.join(" ");o.push(t._EventSupport.listen(s,c,l,function(r){if(!n.containsElement(r.currentTarget))return null;var o=e._eventThisArg||this,s=arguments;return t._withCurrentView(i,function(){return a.apply(o,s)})},n,function(e){return e.parentRange}))}})})};s.attached?u(s,s.parentElement):s.onAttached(u)}},m.prototype._detachEvents=function(){r.each(this._eventHandles,function(e){e.stop()}),this._eventHandles=[]};var _=function(e,n,a,i){r.each(a,function(a,o){var s=o.split(/,\s+/);r.each(s,function(r){var o=r.split(/\s+/);if(0!==o.length){var s=o.shift(),u=o.join(" ");handles.push(t._EventSupport.listen(n,s,u,function(n){if(!e.containsElement(n.currentTarget))return null;var r=i||this,o=arguments;return t._withCurrentView(view,function(){return a.apply(r,o)})},e,function(e){return e.parentRange}))}})})};m.prototype.insert=function(e){if(e=e||{},!this.isInserted){this.isInserted=!0;var n=e.el||document.body,a=i(n);if(0===a.length)throw new Error("No element to insert layout into. Is your element defined? Try a Meteor.startup callback.");return this.view||this.create(e),t.render(this.view,a[0],e.nextNode,e.parentView),this}},m.prototype._getLookupHost=function(){return this._lookupHostValue},m.prototype._setLookupHost=function(e){var t=this;return t._lookupHostValue!==e&&(t._lookupHostValue=e,u.afterFlush(function(){t._lookupHostDep.changed()})),this},m.getParentDataContext=function(e){return m.getDataContext(e&&e.parentView)},m.getDataContext=function(e){for(;e;){if("with"===e.name&&!e.__isTemplateWith)return e.dataVar.get();e=e.parentView}return null},m.getInclusionArguments=function(e){var t=e&&e.parentView;return t&&t.__isTemplateWith?t.dataVar.get():null},m.args=function(e){return function(t){var n=m.getInclusionArguments(e);return n?t?n[t]:n:null}},m.extend=function(e){return h.utils.extend(this,e)},m.findFirstLookupHost=function(e){var n,r;for(a(e instanceof t.View,"view must be a Blaze.View");e;)if(e.__dynamicTemplate__){var n=e.__dynamicTemplate__._getLookupHost();if(n)return n}else e=e.parentView;return void 0},m.findLookupHostWithProperty=function(e,n){var r,i;for(a(e instanceof t.View,"view must be a Blaze.View");e;){if(e.__dynamicTemplate__){var r=e.__dynamicTemplate__._getLookupHost();if(r&&o(r,n))return r}e=e.parentView}return void 0},m.findLookupHostWithHelper=function(e,n){var r,i;for(a(e instanceof t.View,"view must be a Blaze.View");e;){if(e.__dynamicTemplate__){var r=e.__dynamicTemplate__._getLookupHost();if(r&&o(r,"constructor","_helpers",n))return r}e=e.parentView}return void 0},"undefined"!=typeof l&&n.registerHelper("DynamicTemplate",new l("DynamicTemplateHelper",function(){var e=m.args(this);return new m({data:function(){return e("data")},template:function(){return e("template")},content:this.templateContentBlock}).create()})),h.DynamicTemplate=m}.call(this),function(){var e=h.utils.assert,n=h.utils.get,a=t.View.prototype.lookup;t.View.prototype.lookup=function(e){var r;return r=m.findLookupHostWithHelper(t.getView(),e),r?function i(){var t=n(r,"constructor","_helpers",e),a=[].slice.call(arguments);return"function"==typeof t?t.apply(r,a):t}:a.apply(this,arguments)}}.call(this),"undefined"==typeof Package&&(Package={}),Package["iron:dynamic-template"]={}}();

!function(){var e=Package.meteor.Meteor,n=Package.templating.Template,t=Package.blaze.Blaze,r=Package.blaze.UI,o=Package.blaze.Handlebars,i=Package.underscore._,a=Package["iron:core"].Iron,s=Package.htmljs.HTML,c,u,h;(function(){var e=[];if(Package["cmather:iron-layout"]&&e.push("\n\n    The cmather:iron-{x} packages were migrated to the new package system with the wrong name, and you have duplicate copies.\n    You can see which cmather:iron-{x} packages have been installed by using this command:\n\n    > meteor list\n\n    Can you remove any installed cmather:iron-{x} packages like this:    \n\n    > meteor remove cmather:iron-core\n    > meteor remove cmather:iron-router\n    > meteor remove cmather:iron-dynamic-template\n    > meteor remove cmather:iron-dynamic-layout\n    \n    The new packages are named iron:{x}. For example:\n\n    > meteor add iron:router\n\n    Sorry for the hassle, but thank you!    \n\n  "),Package["cmather:blaze-layout"]&&e.push("The blaze-layout package has been replaced by iron-layout. Please remove the package like this:\n> meteor remove cmather:blaze-layout\n"),e.length>0)throw new Error("Sorry! Looks like there's a few errors related to iron:layout\n\n"+e.join("\n\n"))}).call(this),function(){n.__checkName("__IronDefaultLayout__"),n.__IronDefaultLayout__=new n("Template.__IronDefaultLayout__",function(){var e=this;return Spacebars.include(e.lookupTemplate("yield"))})}.call(this),function(){var e=a.DynamicTemplate,o=a.utils.inherits;c=function(e){for(;e;){if("Iron.Layout"===e.name)return e.__dynamicTemplate__;e=e.parentView}return null},u=function(e){var n=this;u.__super__.constructor.apply(this,arguments),e=e||{},this.name="Iron.Layout",this._regions={},this._regionHooks={},this.defaultTemplate("__IronDefaultLayout__"),e.content&&this.render(e.content)},h=u.DEFAULT_REGION="main",o(u,a.DynamicTemplate),u.prototype.region=function(e,n){return this._ensureRegion(e,n)},u.prototype.destroyRegions=function(){i.each(this._regions,function(e){e.destroy()}),this._regions={}},u.prototype.render=function(e,n){n=n||{};var t=n.to||n.region||h,r=this.region(t);return this._trackRenderedRegion(t),r.template(e),r.data(n.data),r},u.prototype.has=function(e){return e=e||u.DEFAULT_REGION,!!this._regions[e]},u.prototype.regionKeys=function(){return i.keys(this._regions)},u.prototype.clear=function(e){return e=e||u.DEFAULT_REGION,this.has(e)&&this.region(e).template(null),this},u.prototype.clearAll=function(){return i.each(this._regions,function(e){e.template(null)}),this},u.prototype.beginRendering=function(e){var n=this;if(this._finishRenderingTransaction&&this._finishRenderingTransaction(),this._finishRenderingTransaction=i.once(function(){var t=n._endRendering({flush:!1});e&&e(t)}),Deps.afterFlush(this._finishRenderingTransaction),this._renderedRegions)throw new Error("You called beginRendering again before calling endRendering");this._renderedRegions={}},u.prototype._trackRenderedRegion=function(e){this._renderedRegions&&(this._renderedRegions[e]=!0)},u.prototype._endRendering=function(e){e=e||{},e.flush!==!1&&Deps.flush();var n=this._renderedRegions||{};return this._renderedRegions=null,i.keys(n)},i.each(["onRegionCreated","onRegionRendered","onRegionDestroyed"],function(e){u.prototype[e]=function(n){var t=this._regionHooks[e]=this._regionHooks[e]||[];return t.push(n),this}}),u.prototype._ensureRegion=function(e,n){return this._regions[e]=this._regions[e]||this._createDynamicTemplate(e,n)},u.prototype._createDynamicTemplate=function(e,n){var t=this,r=new a.DynamicTemplate(n),o=a.utils.capitalize;return r._region=e,i.each(["viewCreated","viewReady","viewDestroyed"],function(e){e=o(e),r["on"+e](function(n){var r=this,o={viewCreated:"regionCreated",viewReady:"regionRendered",viewDestroyed:"regionDestroyed"}[e];t._runRegionHooks("on"+o,r,n)})}),r},u.prototype._runRegionHooks=function(e,n,t){for(var r=this,o=this._regionHooks[e]||[],i,a=0;a<o.length;a++)i=o[a],i.call(n,t.region,t,this)},"undefined"!=typeof n&&(r.registerHelper("yield",new n("yield",function(){var n=c(this);if(!n)throw new Error("No Iron.Layout found so you can't use yield!");var t=e.getInclusionArguments(this),r,o;return i.isString(t)?r=t:i.isObject(t)&&(r=t.region),r=r||h,o=n.region(r),o.isCreated&&o.destroy(),o.create()})),r.registerHelper("contentFor",new n("contentFor",function(){var n=c(this);if(!n)throw new Error("No Iron.Layout found so you can't use contentFor!");var t=e.getInclusionArguments(this)||{},r=this.templateContentBlock,o=t.template,a=t.data,s;if(i.isString(t))s=t;else{if(!i.isObject(t))throw new Error("Which region is this contentFor block supposed to be for?");s=t.region}return n.region(s).template(o||r),n._trackRenderedRegion(s),a&&n.region(s).data(a),null})),r.registerHelper("hasRegion",function(e){var n=c(t.getView());if(!n)throw new Error("No Iron.Layout found so you can't use hasRegion!");if(!i.isString(e))throw new Error("You need to provide an region argument to hasRegion");return!!n.region(e).template()}),r.registerHelper("Layout",new n("layout",function(){var e=a.DynamicTemplate.args(this),n=new u({template:function(){return e("template")},data:function(){return e("data")},content:this.templateContentBlock});return n.create()}))),a.Layout=u}.call(this),"undefined"==typeof Package&&(Package={}),Package["iron:layout"]={}}();

!function(){var e=Package.meteor.Meteor,r=Package.underscore._,n=Package["iron:core"].Iron,t,i;(function(){function e(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function r(t,a,s){a&&"[object Array]"!==n(a)&&(s=a,a=null),a=a||[],s=s||{};var c=s.strict,u=s.end!==!1,p=s.sensitive?"":"i",h=0;if(t instanceof RegExp){var l=t.source.match(/\((?!\?)/g)||[];return a.push.apply(a,l.map(function(e,r){return{name:r,delimiter:null,optional:!1,repeat:!1}})),o(t,a)}if("[object Array]"===n(t))return t=t.map(function(e){return r(e,a,s).source}),o(new RegExp("(?:"+t.join("|")+")",p),a);t=t.replace(i,function(r,n,t,i,o,s,c,u){if(n)return n;if(u)return"\\"+u;var p="+"===c||"*"===c,l="?"===c||"*"===c;return a.push({name:i||h++,delimiter:t||"/",optional:l,repeat:p}),t=t?"\\"+t:"",o=e(o||s||"[^"+(t||"\\/")+"]+?"),p&&(o=o+"(?:"+t+o+")*"),l?"(?:"+t+"("+o+"))?":t+"("+o+")"});var f="/"===t[t.length-1];return c||(t=(f?t.slice(0,-2):t)+"(?:\\/(?=$))?"),u||(t+=c&&f?"":"(?=\\/|$)"),o(new RegExp("^"+t+(u?"$":""),p),a)}var n=function(e){return Object.prototype.toString.call(e)},i=new RegExp(["(\\\\.)","([\\/.])?(?:\\:(\\w+)(?:\\(((?:\\\\.|[^)])*)\\))?|\\(((?:\\\\.|[^)])*)\\))([+*?])?","([.+*?=^!:${}()[\\]|\\/])"].join("|"),"g"),o=function(e,r){return e.keys=r,e};t=r}).call(this),function(){function e(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(r){return void(r.constructor==URIError&&a("Tried to decode an invalid URI component: "+JSON.stringify(e)+" "+r.stack))}}function o(e){try{return decodeURI(e.replace(/\+/g," "))}catch(r){return void(r.constructor==URIError&&a("Tried to decode an invalid URI: "+JSON.stringify(e)+" "+r.stack))}}var a=n.utils.warn;i=function(e,n){n=n||{},this.options=n,this.keys=[],this.regexp=t(e,this.keys,n),this._originalPath=e,r.extend(this,i.parse(e))},i.normalize=function(e){if(e instanceof RegExp)return e;if("string"!=typeof e)return"/";var r=i.parse(e),n=r.pathname;return"/"!==n.charAt(0)&&(n="/"+n),n.length>1&&"/"===n.charAt(n.length-1)&&(n=n.slice(0,n.length-1)),n},i.isSameOrigin=function(e,r){var n=i.parse(e),t=i.parse(r),o=n.origin===t.origin;return o},i.fromQueryString=function(n){if(!n)return{};if("string"!=typeof n)throw new Error("expected string");"?"===n.charAt(0)&&(n=n.slice(1));var t=n.split("&"),i={},o;return r.each(t,function(r){var n=r.split("="),t=n[0],o=e(n[1]);"[]"===t.slice(-2)?(t=t.slice(0,-2),i[t]=i[t]||[],i[t].push(o)):i[t]=o}),i},i.toQueryString=function(e){var n=[];return"string"==typeof e?"?"!==e.charAt(0)?"?"+e:e:(r.each(e,function(e,t){r.isArray(e)?r.each(e,function(e){n.push(encodeURIComponent(t)+"[]="+encodeURIComponent(e))}):n.push(encodeURIComponent(t)+"="+encodeURIComponent(e))}),n.length>0?"?"+n.join("&"):"")},i.parse=function(e){if("string"!=typeof e)return{};var r=/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,n=e.match(r),t=n[1]?n[1].toLowerCase():void 0,o=n[3],a=!!o,s=n[4]?n[4].toLowerCase():void 0,c=s?s.split("@"):[],u,p;2==c.length?(p=c[0],u=c[1]):1==c.length?(u=c[0],p=void 0):(u=void 0,p=void 0);var h=u&&u.split(":")||[],l=h[0],f=h[1],g=t&&u?t+"//"+u:void 0,d=n[5],m=n[8],y=e,v=n[6],w,R=m&&m.indexOf("?")||-1;~R&&!v?(v=m.slice(R),m=m.substr(0,R),w=v.slice(1)):w=n[7];var x=d+(v||""),U=i.fromQueryString(w),S=[t||"",a?"//":"",s||""].join(""),I=[t||"",a?"//":"",s||"",d||"",v||"",m||""].join("");return{rootUrl:S||"",originalUrl:e||"",href:I||"",protocol:t||"",auth:p||"",host:u||"",hostname:l||"",port:f||"",origin:g||"",path:x||"",pathname:d||"",search:v||"",query:w||"",queryObject:U||"",hash:m||"",slashes:a}},i.prototype.test=function(e){return this.regexp.test(i.normalize(e))},i.prototype.exec=function(e){return this.regexp.exec(i.normalize(e))},i.prototype.params=function(r){if(!r)return[];var n=[],t=this.exec(r),a,s=this.keys,c,u;if(!t)throw new Error('The route named "'+this.name+'" does not match the path "'+r+'"');for(var p=1,h=t.length;h>p;++p)c=s[p-1],u="string"==typeof t[p]?e(t[p]):t[p],c?n[c.name]=void 0!==n[c.name]?n[c.name]:u:n.push(u);return r=o(r),"undefined"!=typeof r&&(a=r.split("?")[1],a&&(a=a.split("#")[0]),n.hash=r.split("#")[1]||null,n.query=i.fromQueryString(a)),n},i.prototype.resolve=function(e,n){var t,o,a,s=0,c=this._originalPath,u,p,h=[],l=e;if(n=n||{},e=e||[],p=n.query,u=n.hash&&n.hash.toString(),c instanceof RegExp)throw new Error("Cannot currently resolve a regular expression path");if(c=c.replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g,function(n,i,a,s,c,u,p){if(i=i||"",a=a||"",t=e[s],o="undefined"!=typeof t,u&&!o)t="";else if(!o)return void h.push(s);t=r.isFunction(t)?t.call(e):t;var l=r.map(String(t).split("/"),function(e){return encodeURIComponent(e)}).join("/");return i+a+l}).replace(/\*/g,function(n){if("undefined"==typeof e[s])throw new Error("You are trying to access a wild card parameter at index "+s+" but the value of params at that index is undefined");var t=String(e[s++]);return r.map(t.split("/"),function(e){return encodeURIComponent(e)}).join("/")}),p=i.toQueryString(p),c+=p,u&&(u=encodeURI(u.replace("#","")),c=c+"#"+u),c=c.replace(/\/+/g,"/"),c=c.replace(/^(.+)\/$/g,"$1"),0==h.length)return c;if(n.throwOnMissingParams===!0)throw new Error("Missing required parameters on path "+JSON.stringify(this._originalPath)+". The missing params are: "+JSON.stringify(h)+". The params object passed in was: "+JSON.stringify(l)+".");return null},n.Url=i}.call(this),"undefined"==typeof Package&&(Package={}),Package["iron:url"]={}}();

!function(){var t=Package.meteor.Meteor,e=Package.underscore._,n=Package.ejson.EJSON,r=Package["iron:core"].Iron,i,o,r;(function(){var t=r.Url;i=function(n,r,i){e.isFunction(n)&&(i=i||r||{},r=n,n="/",this.middleware=!0,"undefined"==typeof i.mount&&(i.mount=!0)),"object"==typeof r&&(i=r,r=i.action||"action"),i=i||{},this.options=i,this.mount=i.mount,this.method=i.method&&i.method.toLowerCase()||!1,this.where=i.where||"client",this.mount&&(i.end=!1),i.name?this.name=i.name:"string"==typeof n&&"/"!==n.charAt(0)?this.name=n:"string"==typeof n&&"/"!==n&&(this.name=n.split("/").slice(1).join(".")),n=i.path||n,"string"==typeof n&&"/"!==n.charAt(0)&&(n="/"+n),this.path=n,this.compiledUrl=new t(n,i),e.isString(r)?this.handle=function o(){var t=this[r];if("function"!=typeof t)throw new Error("No method named "+JSON.stringify(r)+" found on handler.");return t.apply(this,arguments)}:e.isFunction(r)&&(this.handle=r)},i.prototype.test=function(t,e){e=e||{};var n=this.compiledUrl.test(t),r=!0,i=!0;return this.method&&e.method&&(r=this.method==e.method.toLowerCase()),e.where&&(i=this.where==e.where),n&&r&&i},i.prototype.params=function(t){return this.compiledUrl.params(t)},i.prototype.resolve=function(t,e){return this.compiledUrl.resolve(t,e)},i.prototype.clone=function(){var t=new i(this.path,this.handle,this.options);return t.name=this.name,t}}).call(this),function(){var a=r.Url,s=r.utils.assert,h=r.utils.defaultValue;o=function(){this._stack=[],this.length=0},o.prototype._create=function(t,n,r){var o=new i(t,n,r),a=o.name;if(a){if(e.has(this._stack,a))throw new Error("Handler with name '"+a+"' already exists.");this._stack[a]=o}return o},o.prototype.findByName=function(t){return this._stack[t]},o.prototype.push=function(t,e,n){var r=this._create(t,e,n);return this._stack.push(r),this.length++,r},o.prototype.append=function(){var t=this,n=e.toArray(arguments),r={};return"object"==typeof n[n.length-1]&&(r=n.pop()),e.each(n,function(n){if("undefined"!=typeof n)if("function"==typeof n)t.push(n,r);else{if(!e.isArray(n))throw new Error("Can only append functions or arrays to the MiddlewareStack");t.append.apply(t,n.concat([r]))}}),this},o.prototype.insertAt=function(t,e,n,r){var i=this._create(e,n,r);return this._stack.splice(t,0,i),this.length=this._stack.length,this},o.prototype.insertBefore=function(t,n,r,i){var o,a;if(!(o=this._stack[t]))throw new Error("Couldn't find a handler named '"+t+"' on the path stack");return a=e.indexOf(this._stack,o),this.insertAt(a,n,r,i),this},o.prototype.insertAfter=function(t,n,r,i){var o,a;if(!(o=this._stack[t]))throw new Error("Couldn't find a handler named '"+t+"' on the path stack");return a=e.indexOf(this._stack,o),this.insertAt(a+1,n,r,i),this},o.prototype.concat=function(){var t=new o,r=Array.prototype.concat,i=n.clone(this._stack),a=e.map(e.toArray(arguments),function(t){return n.clone(t._stack)});return t._stack=r.apply(i,a),t.length=t._stack.length,t},o.prototype.dispatch=function l(e,n,r){var i=this,o=e;s("string"==typeof e,"Requires url"),s("object"==typeof n,"Requires context object"),e=a.normalize(e||"/"),h(n,"request",{}),h(n,"response",{}),h(n,"originalUrl",e),h(n,"_method",n.method),h(n,"_handlersForEnv",{client:!1,server:!1}),h(n,"_handled",!1),h(n,"isHandled",function(){return n._handled}),h(n,"willBeHandledOnClient",function(){return n._handlersForEnv.client}),h(n,"willBeHandledOnServer",function(){return n._handlersForEnv.server});var l=function(){if(r)try{r.apply(this,arguments)}catch(t){throw t._punt=!0,t}},c=0,u=t.bindEnvironment(function p(r){var o=i._stack[c++];if(n.url=n.request.url=n.originalUrl,!o)return l.call(n,r);if(!o.test(e,{method:n._method}))return u(r);var s=t.isClient?"client":"server";if(o.middleware||(n._handlersForEnv[o.where]=!0),o.where!==s)return u(r);if(n.next=u,o.mount){var h=a.normalize(o.compiledUrl.pathname),p=e.substr(h.length,e.length);p=a.normalize(p),n.url=n.request.url=p}try{var d=o.handle.length,f=n.request,m=n.response;return r&&4===d?o.handle.call(n,r,f,m,u):!r&&4>d?o.handle.call(n,f,m,u):u(r)}catch(r){if(r._punt)throw r;u(r)}finally{n._handled=!0,n.next=null}});return u(),n.next=null,n},r=r||{},r.MiddlewareStack=o}.call(this),"undefined"==typeof Package&&(Package={}),Package["iron:middleware-stack"]={Handler:i}}();

!function(){var t=Package.meteor.Meteor,e=Package.underscore._,n=Package.tracker.Tracker,a=Package.tracker.Deps,r=Package.jquery.$,o=Package.jquery.jQuery,i=Package["iron:core"].Iron,c,s,h,u,l;(function(){var t=i.Url,n="__hash__";c=function(e){var a=t.parse(e),r=a.hash&&a.hash.replace("#",""),o=a.search,i=a.pathname,c=a.rootUrl;if(r&&"!"!==r.charAt(0)){var s=n+"="+r;o=o?o+"&":"?",o+=s,r=""}return!r&&i?r="#!"+i.substring(1):r&&(r="#"+r),[c,r,o].join("")},s=function(a){var r=t.parse(a),o=r.hash&&r.hash.replace("#!","/"),i=r.search,c=r.rootUrl,s;return e.has(r.queryObject,n)?(s="#"+r.queryObject[n],delete r.queryObject[n]):s="",[c,o,t.toQueryString(r.queryObject),s].join("")},h=function(e){var a=t.parse(e),r=a.queryObject;return a.hash&&(r[n]=a.hash.replace("#","")),["!",a.pathname.substring(1),t.toQueryString(r)].join("")}}).call(this),function(){var t=i.Url;u=function(n,a){e.extend(this,t.parse(n),{options:a||{}})},u.prototype.equals=function(t){return t&&t instanceof u&&t.pathname==this.pathname&&t.search==this.search&&t.hash==this.hash&&t.options.historyState===this.options.historyState?!0:!1},u.prototype.isCancelled=function(){return!!this._isCancelled},u.prototype.cancelUrlChange=function(){this._isCancelled=!0}}.call(this),function(){var n=i.Url,o=null,f=new a.Dependency,p={go:[],popState:[]},y=function(){return/MSIE 9/.test(navigator.appVersion)},g=function(){return/MSIE 8/.test(navigator.appVersion)},d=function(){return!!Package.appcache},S=function(){return"undefined"==typeof history||"function"!=typeof history.pushState},v=function(){return l.options.useHashPaths||g()||y()||d()||S()},k=function(){return!!l.options.useHashPaths},w=function(t,n){e.each(p[t],function(t){t.call(n)})},P=function(t){if(!(t instanceof u))throw new Error("Expected a State instance");return t.equals(o)?!1:(o=t,f.changed(),!0)},m=function(){var t=location.href,e;e=k()?new u(s(t)):new u(t,{historyState:history.state}),w("popState",e),P(e)},j=function(t){var e=q;e&&e(t)},_=function(t,e){e=e||{};var n=new u(t,e);w("go",n),P(n)&&a.afterFlush(function(){n.isCancelled()||(k()?location.hash=h(t):e.replaceState===!0?history.replaceState(e.historyState,null,t):history.pushState(e.historyState,null,t))})},q=function(t){try{var e=t.currentTarget,a=e.href,r=e.pathname+e.search+e.hash;if(r=r.replace(/(^\/?)/,"/"),t.isDefaultPrevented())return void t.preventDefault();if(t.metaKey||t.ctrlKey||t.shiftKey)return;if(e.target)return;if(!n.isSameOrigin(a,location.href))return;t.preventDefault(),_(r)}catch(o){throw t.preventDefault(),o}};l={},l.options={linkSelector:"a[href]",useHashPaths:!1},l.configure=function(t){e.extend(this.options,t||{})},l.get=function(){return f.depend(),o},l.start=function(){if(!this._isStarted){var e=n.parse(location.href);if(v()){if(e.pathname.length>1){var a=c(location.href);window.location=a}this.configure({useHashPaths:!0})}var o=location.href;if(k()){var i=new u(s(o));P(i)}else{if("!"===e.hash.replace("#","")[0])var o=s(o);var h={initial:!0};history.replaceState(h,null,o);var i=new u(o,{historyState:h});P(i)}r(window).on("popstate.iron-location",m),r(window).on("hashchange.iron-location",m),t.startup(function(){r(document).on("click.iron-location",l.options.linkSelector,j)}),this._isStarted=!0}},l.stop=function(){this._isStarted&&(r(window).on("popstate.iron-location"),r(window).on("hashchange.iron-location"),r(document).off("click.iron-location"),this._isStarted=!1)},l.onClick=function(t){q=t},l.go=function(t,e){return _(t,e)},l.onGo=function(t){p.go.push(t)},l.onPopState=function(t){p.popState.push(t)},l.start(),i.Location=l}.call(this),"undefined"==typeof Package&&(Package={}),Package["iron:location"]={urlToHashStyle:c,urlFromHashStyle:s}}();

!function(){var e=Package.meteor.Meteor,t=Package.underscore._,a=Package.tracker.Tracker,i=Package.tracker.Deps,n=Package.ejson.EJSON,r;(function(){var e=function(e){return void 0===e?"undefined":n.stringify(e)},i=function(e){return void 0===e||"undefined"===e?void 0:n.parse(e)};r=function(e){if(e)if("string"==typeof e)r._registerDictForMigrate(e,this),this.keys=r._loadMigratedDict(e)||{};else{if("object"!=typeof e)throw new Error("Invalid ReactiveDict argument: "+e);this.keys=e}else this.keys={};this.keyDeps={},this.keyValueDeps={}},t.extend(r.prototype,{set:function(a,i){var n=this;if("object"==typeof a&&void 0===i)return void n._setObject(a);var r=a;i=e(i);var s="undefined";if(t.has(n.keys,r)&&(s=n.keys[r]),i!==s){n.keys[r]=i;var c=function(e){e&&e.changed()};c(n.keyDeps[r]),n.keyValueDeps[r]&&(c(n.keyValueDeps[r][s]),c(n.keyValueDeps[r][i]))}},setDefault:function(e,t){var a=this;void 0===a.keys[e]&&a.set(e,t)},get:function(e){var t=this;return t._ensureKey(e),t.keyDeps[e].depend(),i(t.keys[e])},equals:function(r,s){var c=this,o=null;if("undefined"!=typeof Mongo&&(o=Mongo.ObjectID),!("string"==typeof s||"number"==typeof s||"boolean"==typeof s||"undefined"==typeof s||s instanceof Date||o&&s instanceof o||null===s))throw new Error("ReactiveDict.equals: value must be scalar");var u=e(s);if(a.active){c._ensureKey(r),t.has(c.keyValueDeps[r],u)||(c.keyValueDeps[r][u]=new a.Dependency);var d=c.keyValueDeps[r][u].depend();d&&a.onInvalidate(function(){c.keyValueDeps[r][u].hasDependents()||delete c.keyValueDeps[r][u]})}var f=void 0;return t.has(c.keys,r)&&(f=i(c.keys[r])),n.equals(f,s)},_setObject:function(e){var a=this;t.each(e,function(e,t){a.set(t,e)})},_ensureKey:function(e){var t=this;e in t.keyDeps||(t.keyDeps[e]=new a.Dependency,t.keyValueDeps[e]={})},_getMigrationData:function(){return this.keys}})}).call(this),function(){if(r._migratedDictData={},r._dictsToMigrate={},r._loadMigratedDict=function(e){return t.has(r._migratedDictData,e)?r._migratedDictData[e]:null},r._registerDictForMigrate=function(e,a){if(t.has(r._dictsToMigrate,e))throw new Error("Duplicate ReactiveDict name: "+e);r._dictsToMigrate[e]=a},e.isClient&&Package.reload){var a=Package.reload.Reload._migrationData("reactive-dict");a&&a.dicts&&(r._migratedDictData=a.dicts),Package.reload.Reload._onMigrate("reactive-dict",function(){var e=r._dictsToMigrate,t={};for(var a in e)t[a]=e[a]._getMigrationData();return[!0,{dicts:t}]})}}.call(this),"undefined"==typeof Package&&(Package={}),Package["reactive-dict"]={ReactiveDict:r}}();

!function(){var t=Package.meteor.Meteor,n=Package.underscore._,e=Package.tracker.Tracker,o=Package.tracker.Deps,a=Package["reactive-dict"].ReactiveDict,r=Package.templating.Template,i=Package["iron:core"].Iron,u=Package.blaze.Blaze,s=Package.blaze.UI,c=Package.blaze.Handlebars,l=Package.htmljs.HTML,p,d;(function(){var t=i.utils.assert,e=function(){for(var t={},n=o.currentComputation;n;)t[String(n._id)]=!0,n=n._parent;return t},a=function(o){var a=e(),r=n.keys(o._dependentsById);r.forEach(function(n){t(!a[n],"\n\nYou called wait() after calling ready() inside the same computation tree.\n\nYou can fix this problem in two possible ways:\n\n1) Put all of your wait() calls before any ready() calls.\n2) Put your ready() call in its own computation with Deps.autorun.")})};p=function(){this._readyDep=new o.Dependency,this._comps=[],this._notReadyCount=0},p.prototype.wait=function(t){var e=this,r=o.currentComputation;a(e._readyDep),o.nonreactive(function(){var a=null,i=o.autorun(function(n){var o=!!t(),r=e._notReadyCount;n.firstRun&&!o?e._notReadyCount++:null!==a&&o!==a&&o===!0?e._notReadyCount--:null!==a&&o!==a&&o===!1&&e._notReadyCount++,a=o,0===r&&e._notReadyCount>0?e._readyDep.changed():r>0&&0===e._notReadyCount&&e._readyDep.changed()});e._comps.push(i),r&&r.onInvalidate(function(){o.afterFlush(function(){i.stop(),e._comps.splice(n.indexOf(e._comps,i),1),a===!1&&(e._notReadyCount--,0===e._notReadyCount&&e._readyDep.changed())})})})},p.prototype.ready=function(){return this._readyDep.depend(),0===this._notReadyCount},p.prototype.stop=function(){n.each(this._comps,function(t){t.stop()}),this._comps=[]},i.WaitList=p}).call(this),function(){var t=i.utils.debug("iron:controller"),e=i.Layout,o=i.DynamicTemplate,a=function(t,n){return function(){return"function"==typeof t?t.apply(n,arguments):t}};d=function(t){var n=this;this.options=t||{},this._layout=this.options.layout||new e(this.options),this._isController=!0,this._layout._setLookupHost(this);var o=d._collectEventMaps.call(this.constructor);this._layout.events(o,this),this.init(t)},d.prototype.layout=function(t,e){var o=this;return this._layout.template(t),e&&n.has(e,"data")&&this._layout.data(a(e.data,this)),{data:function(t){return o._layout.data(a(t,o))}}},d.prototype.render=function(t,n){var e=this;n&&"undefined"!=typeof n.data&&(n.data=a(n.data,this));var o=this._layout.render(t,n);return{data:function(t){return o.data(a(t,e))}}},d.prototype.beginRendering=function(t){return this._layout.beginRendering(t)},d.extend=function(t){return i.utils.extend(this,t)},d.events=function(t){return this._eventMap=t,this};var s=function(t,e){var o={};return t.__super__&&n.extend(o,s(t.__super__.constructor,e)),n.has(t,e)?n.extend(o,t[e]):o};d._collectEventMaps=function(){return s(this,"_eventMap")},d._helpers={},d.helpers=function(t){return n.extend(this._helpers,t),this},"undefined"!=typeof r&&(i.controller=function(){return o.findLookupHostWithProperty(u.getView(),"_isController")},r.registerHelper("get",function(t){var n=i.controller();return n&&n.state?n.state.get(t):void 0})),i.Controller=d}.call(this),function(){var t=i.Layout,e=i.utils.debug("iron:controller"),o=i.utils.defaultValue,r=function(t,n){return function(){return"function"==typeof t?t.apply(n,arguments):t}};d.prototype.init=function(t){this._waitlist=new p,this.state=new a},d.prototype.insert=function(t){return this._layout.insert.apply(this._layout,arguments)},d.prototype.wait=function(t){var e=this;if(t)return n.isArray(t)?n.each(t,function o(t){e.wait(t)}):this._waitlist.wait(t.ready?function(){return t.ready()}:t),this},d.prototype.ready=function(){return this._waitlist.ready()},d.prototype.stop=function(){this._waitlist.stop()}}.call(this),"undefined"==typeof Package&&(Package={}),Package["iron:controller"]={}}();

!function(){var t=Package.underscore._,e=Package.tracker.Tracker,o=Package.tracker.Deps,r=Package.blaze.Blaze,n=Package.blaze.UI,i=Package.blaze.Handlebars,a=Package.templating.Template,u=Package.ejson.EJSON,s=Package.meteor.Meteor,l=Package["iron:core"].Iron,p=Package.htmljs.HTML,c,h,f,d,y,m;(function(){f=new s.EnvironmentVariable}).call(this),function(){d=["get","post","put","delete"]}.call(this),function(){var e=l.Controller,o=l.Url,r=l.MiddlewareStack,n=l.utils.assert;h=e.extend({constructor:function(e){h.__super__.constructor.apply(this,arguments),e=e||{},this.options=e,this._onStopCallbacks=[],this.route=e.route,this.params=[];var o=this.lookupOption("data");"function"==typeof o?this.data=t.bind(o,this):"undefined"!=typeof o&&(this.data=function(){return o}),this.init(e)}}),h.prototype.lookupOption=function(e){if(this.route&&this.route.options&&t.has(this.route.options,e))return this.route.options[e];if(t.has(this.options,e))return this.options[e];if("undefined"!=typeof this[e])return this[e];var o=f.get();return o&&t.has(o,e)?o[e]:this.router&&this.router.options&&t.has(this.router.options,e)?this.router.options[e]:void 0},h.prototype.configureFromUrl=function(t,e,o){n("string"==typeof t,"url must be a string"),e=e||{},this.request=e.request||{},this.response=e.response||{},this.url=e.url||t,this.originalUrl=e.originalUrl||t,this.method=this.request.method,this.route&&this.setParams(this.route.params(t),o)},h.prototype._collectHooks=function(){var e=this,o=t.toArray(arguments),r=function(o){if(!o)return[];var r=e.router.lookupHook,n=t.isArray(o)?o:[o];return t.map(n,function(t){return r(t)})},n=function(e,o){var i=[];return e.__super__&&(i=i.concat(n(e.__super__.constructor,o))),t.has(e.prototype,o)?i.concat(r(e.prototype[o])):i},i=function(t){for(var e=0;e<o.length;e++)t(o[e])},a=[];i(function(t){var o=e.route&&e.route.getName(),r=e.router.getHooks(t,o);a=a.concat(r)});var u=[];i(function(t){var o=n(e.constructor,t);u=u.concat(o)});var s=[];i(function(o){if(t.has(e,o)){var n=r(e[o]);s=s.concat(n)}});var l=[];e.route&&i(function(t){var o=r(e.route.options[t]);l=l.concat(o)});var p=a.concat(l).concat(u).concat(s);return p},h.prototype.runHooks=function(){for(var t=this._collectHooks.apply(this,arguments),e=0,o=t.length;o>e;e++){var r=t[e];r.call(this)}return t.length},h.prototype.getParams=function(){return this.params},h.prototype.setParams=function(t){return this.params=t,this},l.RouteController=h}.call(this),function(){var r=l.Controller,n=l.Url,i=l.MiddlewareStack,a=l.utils.debug("iron-router:RouteController");if(h.prototype.init=function(t){h.__super__.init.apply(this,arguments),this._computation=null,this._paramsDep=new e.Dependency,this.location=l.Location},h.prototype.getParams=function(){return this._paramsDep.depend(),this.params},h.prototype.setParams=function(e,o){var r=function(e,r){if(!(e instanceof Array))throw new Error("you called equals with a non array value in setParams");if(!(r instanceof Array))return!1;if(e.length!==r.length)return!1;for(var n=0;n<e.length;n++)if(!u.equals(e[n],r[n],o))return!1;var i=t.keys(e),a=t.keys(r),s;if(i.length!==a.length)return!1;for(var n=0;n<i.length;n++){if(s=i[n],!t.has(r,s))return!1;if(!u.equals(e[s],r[s]))return!1}return!0};if(!r(this.params,e))return this.params=e,o=o||{},o.reactive!==!1&&this._paramsDep.changed(),this},h.prototype.dispatch=function(t,e,r){if(this._computation&&!this._computation.stopped)throw new Error("RouteController computation is already running. Stop it first.");var n=this;return o.nonreactive(function(){o.autorun(function(o){n._computation=o,t.dispatch(e,n,r)})}),n},h.prototype._runRoute=function(e,r,n){var a=this,u=this._collectHooks("subscriptions");t.each(u,function(t){a.wait(t.call(a))});var s=this._collectHooks("waitOn");t.each(s,function(t){a.wait(t.call(a))});var p=s.length>0,c,f,d=function(){return o.nonreactive(function(){return a._layout.template()})},y=function(){return o.nonreactive(function(){var t=a._layout._regions.main;return t&&t.template()})},m=d(),_=y();this.beginRendering(function R(e){if(!a.isStopped){var o=d(),r=y();if(m!==o||_!=r){var n=a._layout.regionKeys(),i=t.difference(n,e);t.each(i,function(t){a._layout.clear(t)})}}}),this.layout(this.lookupOption("layoutTemplate"),{data:this.lookupOption("data")});var g=new i,v=new i,k=new i;v.append(this._collectHooks("onRun","load"),{where:"client"}),k.append(this._collectHooks("onRerun"),{where:"client"}),g.append(function b(t,e,o){this._computation.firstRun&&!h._hasJustReloaded?(h._hasJustReloaded=!1,v.length>0?v.dispatch(t.url,this,o):o()):o()},function C(t,e,o){this._computation.firstRun?o():k.length>0?k.dispatch(t.url,this,o):o()},{where:"client"}),p&&g.push(t.bind(l.Router.hooks.loading,a));var w=this._collectHooks("onBeforeAction","before");g.append(w,{where:"client"}),0===e._actionStack.length&&e._actionStack.push(e._path,"action",e.options),g=g.concat(e._actionStack),this._rendered=!1,g.dispatch(r,this,n),o.afterFlush(function(){l.utils.warn(a._rendered||a.isStopped,"Route dispatch never rendered. Did you forget to call this.next() in an onBeforeAction?")}),this.runHooks("onAfterAction","after")},h.prototype.action=function(){this.render()},h.prototype.lookupTemplate=function(){return this.lookupOption("template")||this.router&&this.router.toTemplateName(this.route.getName())},h.prototype.lookupRegionTemplates=function(){return this.lookupOption("yieldRegions")||this.lookupOption("regionTemplates")||this.lookupOption("yieldTemplates")||{}},h.prototype.render=function(t,e){if(this._rendered=!0,0===arguments.length){var t=this.lookupTemplate(),o=h.__super__.render.call(this,t);return this.renderRegions(),o}return h.__super__.render.call(this,t,e)},h.prototype.renderRegions=function(){var e=this,o=this.lookupRegionTemplates();a("regionTemplates: "+JSON.stringify(o)),t.each(o,function(t,o){e.render(o,t)})},h.prototype.stop=function(){h.__super__.stop.call(this),this._computation&&this._computation.stop(),this.runHooks("onStop","unload"),this.isStopped=!0},h.prototype.redirect=function(){return this.router.go.apply(this.router,arguments)},h.prototype.subscribe=function(){var e=this,o=s.subscribe.apply(this,arguments);return t.extend(o,{wait:function(){e.wait(this)}})},s._reload){s._reload.onMigrate("iron-router",function(){return[!0,!0]});var p=s._reload.migrationData("iron-router");h._hasJustReloaded=p}}.call(this),function(){var e=l.Url,o=l.MiddlewareStack,r=l.utils.assert;y=function(e,r,n){var i=function(t,e,o){var r=this;r.request=t,r.response=e,i.dispatch(t.url,r,o)};return"object"==typeof r&&(n=r,r=n.action),n=n||{},"string"==typeof e&&"/"!==e.charAt(0)&&(e=n.path?n.path:"/"+e),t.extend(i,this),n=i.options=n||{},i._actionStack=new o,i._beforeStack=new o,i._beforeStack.append(i.options.onBeforeAction),i._beforeStack.append(i.options.before),i._afterStack=new o,i._afterStack.append(i.options.onAfterAction),i._afterStack.append(i.options.after),i._methods={},"string"==typeof r?i._actionStack.push(e,t.extend(n,{template:r})):("function"==typeof r||"object"==typeof r)&&i._actionStack.push(e,r,n),i._path=e,i},y.prototype.getName=function(){return this.handler&&this.handler.name},y.prototype.findControllerConstructor=function(){var t=this,e=function(t,e){e=e||{};var o=l.utils.resolve(t);if(o&&h.prototype.isPrototypeOf(o.prototype))return o;if(e.supressErrors!==!0)throw new Error("RouteController '"+t+"' is not defined.");return void 0},o=function(e){return t.router.toControllerName(e)},r,n=this.getName();return"function"==typeof this.options.controller?this.options.controller:"string"==typeof this.options.controller?e(this.options.controller):n&&(r=e(o(n),{supressErrors:!0}))?r:h},y.prototype.createController=function(t){t=t||{};var e=this.findControllerConstructor();t.route=this;var o=new e(t);return o},y.prototype.setControllerParams=function(t,e){},y.prototype.dispatch=function(t,e,o){return r(e._runRoute,"context doesn't have a _runRoute method"),e._runRoute(this,t,o)},y.prototype.path=function(t,e){return this.handler.resolve(t,e)},y.prototype.url=function(t,e){var o=this.path(t,e),r=e&&e.host||s.absoluteUrl();return"/"===r.charAt(r.length-1),r=r.slice(0,r.length-1),r+o},y.prototype.params=function(t){return this.handler.params(t)},t.each(d,function(t){y.prototype[t]=function(e){return this._methods[t]=!0,this._actionStack.push(this._path,e,{name:this.getName()+"_"+t.toLowerCase(),method:t,where:this.handler.where,mount:!1}),this}}),l.Route=y}.call(this),function(){var e=l.MiddlewareStack,o=l.Url,r=l.Layout,n=l.utils.warn,i=l.utils.assert;c=function(o){function r(t,e,o){r.dispatch(t.url,{request:t,response:e},o)}return r._stack=new e,r._globalHooks={},r.routes=[],r.routes._byPath={},this.configure.call(r,o),t.extend(r,this),this.init.call(r,o),s.startup(function(){s.defer(function(){r.options.autoStart!==!1&&r.start()})}),r},c.prototype.init=function(t){},c.prototype.configure=function(e){var o=this;e=e||{};var r=function(e){return e?t.isArray(e)?e:[e]:[]};return t.each(l.Router.HOOK_TYPES,function n(i){e[i]&&(t.each(r(e[i]),function a(t){o.addHook(i,t)}),delete e[i])}),this.options=this.options||{},t.extend(this.options,e),this},c.prototype.map=function(t){return t.call(this)},c.prototype.route=function(t,e,o){var r=function(t){return Object.prototype.toString.call(t)};i("[object String]"===r(t)||"[object RegExp]"===r(t),"Router.route requires a path that is a string or regular expression."),"object"==typeof e&&(o=e,e=o.action);var n=new y(t,e,o);o=o||{},o.mount=!1;var a=this._stack.push(t,n,o);return a.route=n,n.handler=a,n.router=this,i(!this.routes._byPath[a.path],"A route for the path "+JSON.stringify(a.path)+" already exists by the name of "+JSON.stringify(a.name)+"."),this.routes._byPath[a.path]=n,this.routes.push(n),"string"==typeof a.name&&(this.routes[a.name]=n),n},c.prototype.findFirstRoute=function(t){for(var e,o,r=0;r<this.routes.length;r++)if(m=this.routes[r],e=m.handler.test(t,{where:s.isServer?"server":"client"}))return m;return null},c.prototype.path=function(t,e,o){var r=this.routes[t];return n(r,"You called Router.path for a route named "+JSON.stringify(t)+" but that route doesn't seem to exist. Are you sure you created it?"),r&&r.path(e,o)},c.prototype.url=function(t,e,o){var r=this.routes[t];return n(r,"You called Router.url for a route named "+JSON.stringify(t)+" but that route doesn't seem to exist. Are you sure you created it?"),r&&r.url(e,o)},c.prototype.createController=function(t,e){var o=this.findFirstRoute(t),r;return e=e||{},r=o?o.createController({layout:this._layout}):new h({layout:this._layout}),r.router=this,r.configureFromUrl(t,e,{reactive:!1}),r},c.prototype.setTemplateNameConverter=function(t){return this._templateNameConverter=t,this},c.prototype.setControllerNameConverter=function(t){return this._controllerNameConverter=t,this},c.prototype.toTemplateName=function(t){return this._templateNameConverter?this._templateNameConverter(t):l.utils.classCase(t)},c.prototype.toControllerName=function(t){return this._controllerNameConverter?this._controllerNameConverter(t):l.utils.classCase(t)+"Controller"},c.prototype.addHook=function(e,o,r){var n=this;r=r||{};var i=function(e){return e?t.isArray(e)?e:[e]:[]};r.only&&(r.only=i(r.only)),r.except&&(r.except=i(r.except));var a=this._globalHooks[e]=this._globalHooks[e]||[],u=function(){var t=this,e=arguments;return f.withValue(r,function(){return n.lookupHook(o).apply(t,e)})};return a.push({options:r,hook:u}),this},c.prototype.lookupHook=function(e){var o=e;if(t.isFunction(o))return o;if(t.isString(o)&&t.isFunction(l.Router.hooks[o]))return l.Router.hooks[o];throw new Error("No hook found named: "+e)},c.prototype.getHooks=function(e,o){var r=this,n=[];return t.each(this._globalHooks[e],function(e){var r=e.options;return r.except&&t.include(r.except,o)?[]:r.only&&!t.include(r.only,o)?[]:void n.push(e.hook)}),n},c.HOOK_TYPES=["onRun","onRerun","onBeforeAction","onAfterAction","onStop","waitOn","subscriptions","load","before","after","unload"],c.hooks={},c.plugins={},t.each(c.HOOK_TYPES,function(t){c.prototype[t]=function(e,o){this.addHook(t,e,o)}}),c.prototype.plugin=function(t,e){var o;if("function"==typeof t?o=t:"string"==typeof t&&(o=l.Router.plugins[t]),!o)throw new Error("No plugin found named "+JSON.stringify(t));return o.call(this,this,e),this},l.Router=c}.call(this),function(){if("undefined"!=typeof a)var t=new a("DefaultLoadingTemplate",function(){return"Loading..."}),e=new a("DefaultDataNotFoundTemplate",function(){return"Data not found..."});c.hooks.loading=function(){if(this.ready())return void this.next();var e=this.lookupOption("loadingTemplate");this.render(e||t),this.renderRegions()},c.hooks.dataNotFound=function(){if(!this.ready())return void this.next();var t=this.lookupOption("data"),o,r=this.lookupOption("notFoundTemplate");return"function"!=typeof t||(o=t.call(this))?void this.next():(this.render(r||e),void this.renderRegions())}}.call(this),function(){var e=l.utils.warn,o=l.DynamicTemplate,i=l.utils.debug("iron:router <helpers>");n.registerHelper("Router",new r.Template("Router",function(){return c.createView()})),n.registerHelper("pathFor",function(o){var r;arguments.length>1&&(r=arguments[0],o=arguments[1]||{});var n=o&&o.hash;n=n||{};var i="",a=n.query,s=n.hash,r=r||n.route,l=t.extend({},n.data||this),p=c.routes[r];return e(p,"pathFor couldn't find a route named "+JSON.stringify(r)),p&&(t.each(p.handler.compiledUrl.keys,function(e){var o=e.name;t.has(n,o)&&(l[o]=u.clone(n[o]),delete n[o])}),i=p.path(l,{query:a,hash:s})),i}),n.registerHelper("urlFor",function(o){var r;arguments.length>1&&(r=arguments[0],o=arguments[1]||{});var n=o&&o.hash;n=n||{};var i="",a=n.query,s=n.hash,r=r||n.route,l=t.extend({},n.data||this),p=c.routes[r];return e(p,"urlFor couldn't find a route named "+JSON.stringify(r)),p&&(t.each(p.handler.compiledUrl.keys,function(e){var o=e.name;t.has(n,o)&&(l[o]=u.clone(n[o]),delete n[o])}),i=p.url(l,{query:a,hash:s})),i}),n.registerHelper("linkTo",new r.Template("linkTo",function(){var n=this,i=o.getInclusionArguments(this);if("object"!=typeof i)throw new Error("linkTo options must be key value pairs such as {{#linkTo route='my.route.name'}}. You passed: "+JSON.stringify(i));i=i||{};var a="",s=i.query,l=i.hash,h=i.route,f=t.extend({},i.data||o.getParentDataContext(this)),d=c.routes[h],y;e(d,"linkTo couldn't find a route named "+JSON.stringify(h)),d&&(t.each(d.handler.compiledUrl.keys,function(e){var o=e.name;t.has(i,o)&&(f[o]=u.clone(i[o]),delete i[o])}),a=d.path(f,{query:s,hash:l}));var m=t.omit(i,"route","query","hash","data");return m.href=a,r.With(function(){return o.getParentDataContext(n)},function(){return p.A(m,n.templateContentBlock)})}))}.call(this),function(){var e=l.MiddlewareStack,r=l.Url,n=l.Layout,i=l.utils.assert,a="__IronRouterNotFound__",u="__IronRouterNoRoutes__";c.prototype.init=function(t){var e=this;e._currentController=null,e._currentRoute=null,e._currentDep=new o.Dependency,e._locationComputation=null,e._layout=new n({template:e.options.layoutTemplate}),s.startup(function(){setTimeout(function t(){e.options.autoRender!==!1&&e.insert({el:document.body})})})},c.prototype.insert=function(t){return this._layout.insert(t),this},c.prototype.createView=function(){return this._layout.create()},c.prototype.lookupNotFoundTemplate=function(){return this.options.notFoundTemplate?this.options.notFoundTemplate:0===this.routes.length?u:a},c.prototype.lookupLayoutTemplate=function(){return this.options.layoutTemplate},c.prototype.dispatch=function(t,e,r){var n=this;i("string"==typeof t,"expected url string in router dispatch");var s=this._currentController,l=this.findFirstRoute(t),p=this._currentRoute;return this._currentRoute=l,this._currentController&&this._currentController.stop(),s&&l&&p===l?s.configureFromUrl(t,e):s=this.createController(t,e),this._currentController=s,s.dispatch(n._stack,t,function c(t){if(t)throw t;if(!s.isHandled()){var e=o.nonreactive(function(){return s.location.get().options.historyState});if(e&&e.initial===!0){this.layout(this.lookupOption("layoutTemplate"),{data:{url:this.url}});var i=this.lookupOption("notFoundTemplate");i||(i=0===n.routes.length?u:a),this.render(i,{data:{url:this.url}}),this.renderRegions(),s.isHandled=function(){return!0}}return r&&r.call(s)}}),this._currentController==s&&this._currentDep.changed(),s},c.prototype.current=function(){return this._currentDep.depend(),this._currentController},c.prototype._scrollToHash=function(t){try{var e=$(t);$("html, body").scrollTop(e.offset().top)}catch(o){}},c.prototype.start=function(){var t=this,e;t._locationComputation=o.autorun(function r(o){var r,n=l.Location.get(),i,a,u,s=t._currentController;!s||e&&e.path!==n.path?r=t.dispatch(n.href,null,function p(t){this.isHandled()||(n.cancelUrlChange(),window.location=n.path)}):(t._scrollToHash(n.hash),s.configureFromUrl(n.href)),e=n})},c.prototype.stop=function(){this._isStarted&&(this._locationComputation&&this._locationComputation.stop(),this._currentController&&this._currentController.stop(),this._isStarted=!1)},c.prototype.go=function(e,o,r){var n=this,a=/^\/|http/,u;if(r=r||{},a.test(e))u=e;else{var s=n.routes[e];i(s,"No route found named "+JSON.stringify(e)),u=s.path(o,t.extend(r,{throwOnMissingParams:!0}))}l.Location.go(u,r)}}.call(this),function(){c.plugins.loading=function(t,e){t.onBeforeAction("loading",e)},c.plugins.dataNotFound=function(t,e){t.onBeforeAction("dataNotFound",e)}}.call(this),function(){c=new l.Router}.call(this),function(){a.__checkName("__IronRouterNotFound__"),a.__IronRouterNotFound__=new a("Template.__IronRouterNotFound__",function(){var t=this;return p.DIV({style:"width: 600px; margin: 0 auto; padding: 20px;"},"\n    ",p.DIV({style:"font-size: 18pt; color: #999;"},"\n      Oops, looks like there's no route on the client or the server for url: \"",r.View(function(){return Spacebars.mustache(t.lookup("url"))}),'."\n    '),"\n  ")}),a.__checkName("__IronRouterNoRoutes__"),a.__IronRouterNoRoutes__=new a("Template.__IronRouterNoRoutes__",function(){var t=this;return p.Raw('<div style="font-family: helvetica; color: #777; max-width: 600px; margin: 20px auto;">\n      <h1 style="text-align: center; margin: 0; font-size: 48pt;">\n        iron:router\n      </h1>\n      <p style="text-align: center; font-size: 1.3em;">\n        Organize your Meteor application.\n      </p>\n      <div style="margin: 50px 0px;">\n        <pre style="background: #f2f2f2; margin: 0; padding: 10px;">\nRouter.route(\'/\', function () {\n  this.render(\'Home\', {\n    data: function () { return Items.findOne({_id: this.params._id}); }\n  });\n});\n        </pre>\n      </div>\n      <div style="margin: 50px 0px;">\n        Check it out on Github:<br>\n        <a href="https://github.com/eventedmind/iron-router" target="_blank">https://github.com/eventedmind/iron-router</a>\n        <br>\n        <br>\n        And check out the new Guide:<br>\n        <a href="https://eventedmind.github.io/iron-router" target="_blank">\n          https://eventedmind.github.io/iron-router\n        </a>\n      </div>\n    </div>')})}.call(this),"undefined"==typeof Package&&(Package={}),Package["iron:router"]={Router:c,RouteController:h}}();

!function(){var e=Package.meteor.Meteor,t=Package.tracker.Tracker,n=Package.tracker.Deps,i=Package.underscore._,r=Package.check.check,a=Package.check.Match,o=Package.random.Random,s,u,l,c,f,p,d;(function(){!function(){"use strict";function e(e){this.s=null!==e&&void 0!==e?"string"==typeof e?e:e.toString():e,this.orig=e,null!==e&&void 0!==e?this.__defineGetter__?this.__defineGetter__("length",function(){return this.s.length}):this.length=e.length:this.length=-1}function t(){for(var e in c)!function(e){var t=c[e];l.hasOwnProperty(e)||(f.push(e),l[e]=function(){return String.prototype.s=this,t.apply(this,arguments)})}(e)}function n(){for(var e=0;e<f.length;++e)delete String.prototype[f[e]];f.length=0}function i(){for(var e=r(),t={},n=0;n<e.length;++n){var i=e[n],a=l[i];try{var o=typeof a.apply("teststring",[]);t[i]=o}catch(s){}}return t}function r(){var e=[];if(Object.getOwnPropertyNames)return e=Object.getOwnPropertyNames(l),e.splice(e.indexOf("valueOf"),1),e.splice(e.indexOf("toString"),1),e;var t={},n=[];for(var i in String.prototype)t[i]=i;for(var i in Object.prototype)delete t[i];for(var i in t)e.push(i);return e}function a(t){return new e(t)}function o(e,t){var n=[],i;for(i=0;i<e.length;i++)n.push(e[i]),t&&t.call(e,e[i],i);return n}var s="1.5.0",u={},l=String.prototype,c=e.prototype={between:function(t,n){var i=this.s,r=i.indexOf(t),a=i.indexOf(n),o=r+t.length;return new e(a>r?i.slice(o,a):"")},camelize:function(){var t=this.trim().s.replace(/(\-|_|\s)+(.)?/g,function(e,t,n){return n?n.toUpperCase():""});return new e(t)},capitalize:function(){return new e(this.s.substr(0,1).toUpperCase()+this.s.substring(1).toLowerCase())},charAt:function(e){return this.s.charAt(e)},chompLeft:function(t){var n=this.s;return 0===n.indexOf(t)?(n=n.slice(t.length),new e(n)):this},chompRight:function(t){if(this.endsWith(t)){var n=this.s;return n=n.slice(0,n.length-t.length),new e(n)}return this},collapseWhitespace:function(){var t=this.s.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"");return new e(t)},contains:function(e){return this.s.indexOf(e)>=0},count:function(e){for(var t=0,n=this.s.indexOf(e);n>=0;)t+=1,n=this.s.indexOf(e,n+1);return t},dasherize:function(){var t=this.trim().s.replace(/[_\s]+/g,"-").replace(/([A-Z])/g,"-$1").replace(/-+/g,"-").toLowerCase();return new e(t)},decodeHtmlEntities:function(){var t=this.s;return t=t.replace(/&#(\d+);?/g,function(e,t){return String.fromCharCode(t)}).replace(/&#[xX]([A-Fa-f0-9]+);?/g,function(e,t){return String.fromCharCode(parseInt(t,16))}).replace(/&([^;\W]+;?)/g,function(e,t){var n=t.replace(/;$/,""),i=u[t]||t.match(/;$/)&&u[n];return"number"==typeof i?String.fromCharCode(i):"string"==typeof i?i:e}),new e(t)},endsWith:function(e){var t=this.s.length-e.length;return t>=0&&this.s.indexOf(e,t)===t},escapeHTML:function(){return new e(this.s.replace(/[&<>"']/g,function(e){return"&"+m[e]+";"}))},ensureLeft:function(t){var n=this.s;return 0===n.indexOf(t)?this:new e(t+n)},ensureRight:function(t){var n=this.s;return this.endsWith(t)?this:new e(n+t)},humanize:function(){if(null===this.s||void 0===this.s)return new e("");var t=this.underscore().replace(/_id$/,"").replace(/_/g," ").trim().capitalize();return new e(t)},isAlpha:function(){return!/[^a-z\xC0-\xFF]/.test(this.s.toLowerCase())},isAlphaNumeric:function(){return!/[^0-9a-z\xC0-\xFF]/.test(this.s.toLowerCase())},isEmpty:function(){return null===this.s||void 0===this.s?!0:/^[\s\xa0]*$/.test(this.s)},isLower:function(){return this.isAlpha()&&this.s.toLowerCase()===this.s},isNumeric:function(){return!/[^0-9]/.test(this.s)},isUpper:function(){return this.isAlpha()&&this.s.toUpperCase()===this.s},left:function(t){if(t>=0){var n=this.s.substr(0,t);return new e(n)}return this.right(-t)},lines:function(){return this.replaceAll("\r\n","\n").s.split("\n")},pad:function(t,n){if(n=n||" ",this.s.length>=t)return new e(this.s);t-=this.s.length;var i=Array(Math.ceil(t/2)+1).join(n),r=Array(Math.floor(t/2)+1).join(n);return new e(i+this.s+r)},padLeft:function(t,n){return n=n||" ",new e(this.s.length>=t?this.s:Array(t-this.s.length+1).join(n)+this.s)},padRight:function(t,n){return n=n||" ",new e(this.s.length>=t?this.s:this.s+Array(t-this.s.length+1).join(n))},parseCSV:function(e,t,n,i){e=e||",",n=n||"\\","undefined"==typeof t&&(t='"');var r=0,a=[],o=[],s=this.s.length,u=!1,l=this,c=function(e){return l.s.charAt(e)};if("undefined"!=typeof i)var f=[];for(t||(u=!0);s>r;){var p=c(r);switch(p){case n:if(u&&(n!==t||c(r+1)===t)){r+=1,a.push(c(r));break}if(n!==t)break;case t:u=!u;break;case e:u&&t?a.push(p):(o.push(a.join("")),a.length=0);break;case i:u?a.push(p):f&&(o.push(a.join("")),f.push(o),o=[],a.length=0);break;default:u&&a.push(p)}r+=1}return o.push(a.join("")),f?(f.push(o),f):o},replaceAll:function(t,n){var i=this.s.split(t).join(n);return new e(i)},right:function(t){if(t>=0){var n=this.s.substr(this.s.length-t,t);return new e(n)}return this.left(-t)},slugify:function(){var t=new e(this.s.replace(/[^\w\s-]/g,"").toLowerCase()).dasherize().s;return"-"===t.charAt(0)&&(t=t.substr(1)),new e(t)},startsWith:function(e){return 0===this.s.lastIndexOf(e,0)},stripPunctuation:function(){return new e(this.s.replace(/[^\w\s]|_/g,"").replace(/\s+/g," "))},stripTags:function(){var t=this.s,n=arguments.length>0?arguments:[""];return o(n,function(e){t=t.replace(RegExp("</?"+e+"[^<>]*>","gi"),"")}),new e(t)},template:function(t,n,i){var r=this.s,n=n||a.TMPL_OPEN,i=i||a.TMPL_CLOSE,o=new RegExp(n+"(.+?)"+i,"g"),s=r.match(o)||[];return s.forEach(function(e){var a=e.substring(n.length,e.length-i.length);t[a]&&(r=r.replace(e,t[a]))}),new e(r)},times:function(t){return new e(new Array(t+1).join(this.s))},toBoolean:function(){if("string"==typeof this.orig){var e=this.s.toLowerCase();return"true"===e||"yes"===e||"on"===e}return this.orig===!0||1===this.orig},toFloat:function(e){var t=parseFloat(this.s);return e?parseFloat(t.toFixed(e)):t},toInt:function(){return/^\s*-?0x/i.test(this.s)?parseInt(this.s,16):parseInt(this.s,10)},trim:function(){var t;return t="undefined"==typeof l.trim?this.s.replace(/(^\s*|\s*$)/g,""):this.s.trim(),new e(t)},trimLeft:function(){var t;return t=l.trimLeft?this.s.trimLeft():this.s.replace(/(^\s*)/g,""),new e(t)},trimRight:function(){var t;return t=l.trimRight?this.s.trimRight():this.s.replace(/\s+$/,""),new e(t)},truncate:function(t,n){var i=this.s;if(t=~~t,n=n||"...",i.length<=t)return new e(i);var r=function(e){return e.toUpperCase()!==e.toLowerCase()?"A":" "},a=i.slice(0,t+1).replace(/.(?=\W*\w*$)/g,r);return a=a.slice(a.length-2).match(/\w\w/)?a.replace(/\s*\S+$/,""):new e(a.slice(0,a.length-1)).trimRight().s,new e((a+n).length>i.length?i:i.slice(0,a.length)+n)},toCSV:function(){function t(e){return null!==e&&""!==e}var n=",",i='"',r="\\",a=!0,o=!1,s=[];if("object"==typeof arguments[0]?(n=arguments[0].delimiter||n,n=arguments[0].separator||n,i=arguments[0].qualifier||i,a=!!arguments[0].encloseNumbers,r=arguments[0].escape||r,o=!!arguments[0].keys):"string"==typeof arguments[0]&&(n=arguments[0]),"string"==typeof arguments[1]&&(i=arguments[1]),null===arguments[1]&&(i=null),this.orig instanceof Array)s=this.orig;else for(var u in this.orig)this.orig.hasOwnProperty(u)&&s.push(o?u:this.orig[u]);for(var l=r+i,c=[],f=0;f<s.length;++f){var p=t(i);if("number"==typeof s[f]&&(p&=a),p&&c.push(i),null!==s[f]&&void 0!==s[f]){var d=new e(s[f]).replaceAll(i,l).s;c.push(d)}else c.push("");p&&c.push(i),n&&c.push(n)}return c.length=c.length-1,new e(c.join(""))},toString:function(){return this.s},underscore:function(){var t=this.trim().s.replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase();return new e(this.s.charAt(0)).isUpper()&&(t="_"+t),new e(t)},unescapeHTML:function(){return new e(this.s.replace(/\&([^;]+);/g,function(e,t){var n;return t in h?h[t]:(n=t.match(/^#x([\da-fA-F]+)$/))?String.fromCharCode(parseInt(n[1],16)):(n=t.match(/^#(\d+)$/))?String.fromCharCode(~~n[1]):e}))},valueOf:function(){return this.s.valueOf()}},f=[],p=i();for(var d in p)!function(t){var n=l[t];"function"==typeof n&&(c[t]||(c[t]="string"===p[t]?function(){return new e(n.apply(this,arguments))}:n))}(d);c.repeat=c.times,c.include=c.contains,c.toInteger=c.toInt,c.toBool=c.toBoolean,c.decodeHTMLEntities=c.decodeHtmlEntities,a.extendPrototype=t,a.restorePrototype=n,a.VERSION=s,a.TMPL_OPEN="{{",a.TMPL_CLOSE="}}",a.ENTITIES=u,"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=a:"function"==typeof define&&define.amd?define([],function(){return a}):window.S=a;var h={lt:"<",gt:">",quot:'"',apos:"'",amp:"&"},m={};for(var g in h)m[h[g]]=g;u={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,"OElig;":338,"oelig;":339,"Scaron;":352,"scaron;":353,"Yuml;":376,"fnof;":402,"circ;":710,"tilde;":732,"Alpha;":913,"Beta;":914,"Gamma;":915,"Delta;":916,"Epsilon;":917,"Zeta;":918,"Eta;":919,"Theta;":920,"Iota;":921,"Kappa;":922,"Lambda;":923,"Mu;":924,"Nu;":925,"Xi;":926,"Omicron;":927,"Pi;":928,"Rho;":929,"Sigma;":931,"Tau;":932,"Upsilon;":933,"Phi;":934,"Chi;":935,"Psi;":936,"Omega;":937,"alpha;":945,"beta;":946,"gamma;":947,"delta;":948,"epsilon;":949,"zeta;":950,"eta;":951,"theta;":952,"iota;":953,"kappa;":954,"lambda;":955,"mu;":956,"nu;":957,"xi;":958,"omicron;":959,"pi;":960,"rho;":961,"sigmaf;":962,"sigma;":963,"tau;":964,"upsilon;":965,"phi;":966,"chi;":967,"psi;":968,"omega;":969,"thetasym;":977,"upsih;":978,"piv;":982,"ensp;":8194,"emsp;":8195,"thinsp;":8201,"zwnj;":8204,"zwj;":8205,"lrm;":8206,"rlm;":8207,"ndash;":8211,"mdash;":8212,"lsquo;":8216,"rsquo;":8217,"sbquo;":8218,"ldquo;":8220,"rdquo;":8221,"bdquo;":8222,"dagger;":8224,"Dagger;":8225,"bull;":8226,"hellip;":8230,"permil;":8240,"prime;":8242,"Prime;":8243,"lsaquo;":8249,"rsaquo;":8250,"oline;":8254,"frasl;":8260,"euro;":8364,"image;":8465,"weierp;":8472,"real;":8476,"trade;":8482,"alefsym;":8501,"larr;":8592,"uarr;":8593,"rarr;":8594,"darr;":8595,"harr;":8596,"crarr;":8629,"lArr;":8656,"uArr;":8657,"rArr;":8658,"dArr;":8659,"hArr;":8660,"forall;":8704,"part;":8706,"exist;":8707,"empty;":8709,"nabla;":8711,"isin;":8712,"notin;":8713,"ni;":8715,"prod;":8719,"sum;":8721,"minus;":8722,"lowast;":8727,"radic;":8730,"prop;":8733,"infin;":8734,"ang;":8736,"and;":8743,"or;":8744,"cap;":8745,"cup;":8746,"int;":8747,"there4;":8756,"sim;":8764,"cong;":8773,"asymp;":8776,"ne;":8800,"equiv;":8801,"le;":8804,"ge;":8805,"sub;":8834,"sup;":8835,"nsub;":8836,"sube;":8838,"supe;":8839,"oplus;":8853,"otimes;":8855,"perp;":8869,"sdot;":8901,"lceil;":8968,"rceil;":8969,"lfloor;":8970,"rfloor;":8971,"lang;":9001,"rang;":9002,"loz;":9674,"spades;":9824,"clubs;":9827,"hearts;":9829,"diams;":9830}}.call(this)}).call(this),function(){var e=function(e){return e===Object(e)};"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"==typeof"".__proto__?function(e){return e.__proto__}:function(e){return e.constructor.prototype});var t=function(t){return e(t)&&Object.getPrototypeOf(t)===Object.prototype},n=function o(e){return"string"!=typeof e?null:e.replace(/\.[0-9]+\./g,".$.").replace(/\.[0-9]+$/g,".$")},r=function s(e,t){return"$each"===t?e:e?e+"."+t:t},a=function l(e){var t=e.slice(0,e.indexOf("["));return"$"===t.substring(0,1)?t:null};u=function(e,o){function s(e,a,u,l,f,p){!l&&u&&"$"===u.substring(0,1)&&(l=u,u=null);var d=!1,h,m=!1;u&&(f||("$push"===l||"$addToSet"===l||"$pop"===l?(t(e)&&"$each"in e?(e=e.$each,a+="[$each]"):u+=".0",f=!0):"$pull"===l&&(u+=".0",t(e)&&(m=!0),f=!0)),h=n(u),d=i.contains(o,h),a&&(c._affectedKeys[a]=u,c._genericAffectedKeys[a]=h,p&&c._positionsInsideArrays.push(a))),m||(i.isArray(e)&&!i.isEmpty(e)?(a&&c._parentPositions.push(a),i.each(e,function(e,t){s(e,a?a+"["+t+"]":t,u+"."+t,l,f,!0)})):(t(e)&&!d||!a)&&(a&&!i.isEmpty(e)&&(c._parentPositions.push(a),c._objectPositions.push(a)),i.each(e,function(t,n){void 0===t?delete e[n]:"$slice"!==n&&s(t,a?a+"["+n+"]":n,r(u,n),l,f,p)})))}function l(){c._affectedKeys={},c._genericAffectedKeys={},c._parentPositions=[],c._positionsInsideArrays=[],c._objectPositions=[],s(c._obj)}var c=this;c._obj=e,c._affectedKeys={},c._genericAffectedKeys={},c._parentPositions=[],c._positionsInsideArrays=[],c._objectPositions=[],s(c._obj),c.forEachNode=function(e,t){if("function"!=typeof e)throw new Error("filter requires a loop function");t=i.extend({endPointsOnly:!0},t);var n={};i.each(c._affectedKeys,function(r,o){t.endPointsOnly&&i.contains(c._parentPositions,o)||e.call({value:c.getValueForPosition(o),operator:a(o),position:o,key:r,genericKey:c._genericAffectedKeys[o],updateValue:function(e){n[o]=e},remove:function(){n[o]=void 0}})}),i.each(n,function(e,t){c.setValueForPosition(t,e)})},c.getValueForPosition=function(e){for(var n,r=e.split("["),a=c._obj,o=0,s=r.length;s>o;o++)if(n=r[o],"]"===n.slice(-1)&&(n=n.slice(0,-1)),a=a[n],!i.isArray(a)&&!t(a)&&s-1>o)return;return a},c.setValueForPosition=function(e,n){for(var r,a,o=e.split("["),s=c._obj,u=0,f=o.length;f>u;u++)if(a=o[u],"]"===a.slice(-1)&&(a=a.slice(0,-1)),u===f-1)s[a]=n,void 0===n&&delete s[a];else if(void 0===s[a]&&void 0!==n&&(r=o[u+1],r=parseInt(r,10),s[a]=isNaN(r)?{}:[]),s=s[a],!i.isArray(s)&&!t(s)&&f-1>u)return;l()},c.removeValueForPosition=function(e){c.setValueForPosition(e,void 0)},c.getKeyForPosition=function(e){return c._affectedKeys[e]},c.getGenericKeyForPosition=function(e){return c._genericAffectedKeys[e]},c.getInfoForKey=function(e){var t=c.getPositionForKey(e);if(t)return{value:c.getValueForPosition(t),operator:a(t)};for(var n=c.getPositionsForGenericKey(e+".$"),i,r,o=0,s=n.length;s>o;o++)if(i=n[o],r=c.getValueForPosition(i)||c.getValueForPosition(i.slice(0,i.lastIndexOf("["))))return{value:r,operator:a(i)}},c.getPositionForKey=function(e){for(var t in c._affectedKeys)if(c._affectedKeys.hasOwnProperty(t)&&c._affectedKeys[t]===e)return t},c.getPositionsForGenericKey=function(e){var t=[];for(var n in c._genericAffectedKeys)c._genericAffectedKeys.hasOwnProperty(n)&&c._genericAffectedKeys[n]===e&&t.push(n);return t},c.getValueForKey=function(e){var t=c.getPositionForKey(e);return t?c.getValueForPosition(t):void 0},c.addKey=function(e,t,n){var i=n?n+"["+e+"]":u._keyToPosition(e);c.setValueForPosition(i,t)},c.removeGenericKeys=function(e){for(var t in c._genericAffectedKeys)c._genericAffectedKeys.hasOwnProperty(t)&&i.contains(e,c._genericAffectedKeys[t])&&c.removeValueForPosition(t)},c.removeGenericKey=function(e){for(var t in c._genericAffectedKeys)c._genericAffectedKeys.hasOwnProperty(t)&&c._genericAffectedKeys[t]===e&&c.removeValueForPosition(t)},c.removeKey=function(e){for(var t in c._affectedKeys)c._affectedKeys.hasOwnProperty(t)&&c._affectedKeys[t]===e&&c.removeValueForPosition(t)},c.removeKeys=function(e){for(var t=0,n=e.length;n>t;t++)c.removeKey(e[t])},c.filterGenericKeys=function(e){var t,n=[],r=[];for(var a in c._genericAffectedKeys)c._genericAffectedKeys.hasOwnProperty(a)&&(t=c._genericAffectedKeys[a],i.contains(n,t)||(n.push(t),t&&!e(t)&&r.push(t)));i.each(r,function(e){c.removeGenericKey(e)})},c.setValueForKey=function(e,t){for(var n in c._affectedKeys)c._affectedKeys.hasOwnProperty(n)&&c._affectedKeys[n]===e&&c.setValueForPosition(n,t)},c.setValueForGenericKey=function(e,t){for(var n in c._genericAffectedKeys)c._genericAffectedKeys.hasOwnProperty(n)&&c._genericAffectedKeys[n]===e&&c.setValueForPosition(n,t)},c.getObject=function(){return c._obj},c.getFlatObject=function(e){e=e||{};var t={};return i.each(c._affectedKeys,function(n,r){("string"==typeof n&&e.keepArrays===!0&&!i.contains(c._positionsInsideArrays,r)&&!i.contains(c._objectPositions,r)||!e.keepArrays&&!i.contains(c._parentPositions,r))&&(t[n]=c.getValueForPosition(r))}),t},c.affectsKey=function(e){return!!c.getPositionForKey(e)},c.affectsGenericKey=function(e){for(var t in c._genericAffectedKeys)if(c._genericAffectedKeys.hasOwnProperty(t)&&c._genericAffectedKeys[t]===e)return!0;return!1},c.affectsGenericKeyImplicit=function(e){for(var t in c._genericAffectedKeys)if(c._genericAffectedKeys.hasOwnProperty(t)){var n=c._genericAffectedKeys[t];if(n===e)return!0;if(n.substring(0,e.length+1)===e+".")return!0;var i=e.slice(-2);if(".$"===i&&e.slice(0,-2)===n)return!0}return!1}},u.expandKey=function(e,t,n){for(var i,r,a=t.split("["),o=n,s=0,u=a.length;u>s;s++)r=a[s],"]"===r.slice(-1)&&(r=r.slice(0,-1)),s===u-1?(o[r]=e,void 0===e&&delete o[r]):(i=a[s+1],i=parseInt(i,10),o[r]||(o[r]=isNaN(i)?{}:[])),o=o[r]},u._keyToPosition=function c(e,t){var n="";return i.each(e.split("."),function(e,i){n+=0!==i||t?"["+e+"]":e}),n},u._positionToKey=function f(e){var t=new u({});t.setValueForPosition(e,1);var n=t.getKeyForPosition(e);return t=null,n}}.call(this),function(){l={appendAffectedKey:function e(t,n){return"$each"===n?t:t?t+"."+n:n},shouldCheck:function t(e){if("$pushAll"===e)throw new Error("$pushAll is not supported; use $push + $each");return!i.contains(["$pull","$pullAll","$pop","$slice"],e)},errorObject:function n(e,t,i){return{name:t,type:e,value:i}},isBasicObject:function r(e){return i.isObject(e)&&Object.getPrototypeOf(e)===Object.prototype},safariBugFix:function a(e){return"undefined"!=typeof Uint8Array&&e===Uint8Array||"undefined"!=typeof Uint16Array&&e===Uint16Array||"undefined"!=typeof Uint32Array&&e===Uint32Array||"undefined"!=typeof Uint8ClampedArray&&e===Uint8ClampedArray},isNotNullOrUndefined:function o(e){return void 0!==e&&null!==e},extractOp:function s(e){var t=e.slice(0,e.indexOf("["));return"$"===t.substring(0,1)?t:null},deleteIfPresent:function u(e,t){t in e&&delete e[t]},looksLikeModifier:function c(e){for(var t in e)if(e.hasOwnProperty(t)&&"$"===t.substring(0,1))return!0;return!1},dateToDateString:function f(e){var t=e.getUTCMonth()+1;10>t&&(t="0"+t);var n=e.getUTCDate();return 10>n&&(n="0"+n),e.getUTCFullYear()+"-"+t+"-"+n}}}.call(this),function(){function t(t,n,r){function a(e){var a=this.key;if(!i.contains(s,a)){var o=a.lastIndexOf("."),u=-1===o?"":a.slice(0,o+1),l=!1,c=e.call(i.extend({isSet:void 0!==this.value,unset:function(){l=!0},value:this.value,operator:this.operator,field:function(e){var n=t.getInfoForKey(e)||{};return{isSet:void 0!==n.value,value:n.value,operator:n.operator||null}},siblingField:function(e){var n=t.getInfoForKey(u+e)||{};return{isSet:void 0!==n.value,value:n.value,operator:n.operator||null}}},r||{}),t.getObject());if(s.push(a),void 0===c)return void(l&&t.removeValueForPosition(this.position));var f,p;if(i.isObject(c))for(var d in c)if(c.hasOwnProperty(d)&&"$"===d.substring(0,1)){f=d,p=c[d];break}!f&&n&&"$"!==this.position.slice(0,1)&&(f="$set",p=c),f?(t.removeValueForPosition(this.position),t.setValueForPosition(f+"["+a+"]",p)):t.setValueForPosition(this.position,c)}}var o=this,s=[];e.isClient&&void 0===r.userId&&(r.userId=e.userId&&e.userId()||null),i.each(o._autoValues,function(e,r){var o,s,c,f;if(-1!==r.indexOf("$")){var p=r.slice(0,r.lastIndexOf("$")+1);c=r.slice(p.length+1),o=u._keyToPosition(c,!0),c="."+c,f=t.getPositionsForGenericKey(p)}else f=t.getPositionsForGenericKey(r),f.length?(s=r,c="",o=""):(s=r,c="",o="",f=n?["$set["+r+"]"]:[u._keyToPosition(r)]);i.each(f,function(n){a.call({key:(s||u._positionToKey(n))+c,value:t.getValueForPosition(n+o),operator:l.extractOp(n),position:n+o},e)})})}function r(t,i){e.startup(function(){n.autorun(function(){t.isValid()||console.log('SimpleSchema invalid keys for "'+i+'" context:',t.invalidKeys())})})}e.isServer&&(c=Npm.require("string")),e.isClient&&(c=window.S);var o={type:a.Any,label:a.Optional(a.OneOf(String,Function)),optional:a.Optional(a.OneOf(Boolean,Function)),min:a.Optional(a.OneOf(Number,Date,Function)),max:a.Optional(a.OneOf(Number,Date,Function)),minCount:a.Optional(a.OneOf(Number,Function)),maxCount:a.Optional(a.OneOf(Number,Function)),allowedValues:a.Optional(a.OneOf([a.Any],Function)),decimal:a.Optional(Boolean),exclusiveMax:a.Optional(Boolean),exclusiveMin:a.Optional(Boolean),regEx:a.Optional(a.OneOf(RegExp,[RegExp])),custom:a.Optional(Function),blackbox:a.Optional(Boolean),autoValue:a.Optional(Function),defaultValue:a.Optional(a.Any),trim:a.Optional(Boolean)},f=function(e,t){var n;if(i.isArray(e)||i.isObject(e)&&!(e instanceof Date))return e;if(t===String)return"undefined"!=typeof e&&null!==e&&"string"!=typeof e?e.toString():e;if(t===Number){if("string"==typeof e&&!c(e).isEmpty()){var r=Number(e);return isNaN(r)?e:r}return e}if(t===Date){if("string"==typeof e&&(n=Date.parse(e),isNaN(n)===!1))return new Date(n);if("number"==typeof e)return new Date(e)}return e},p=function(e){return i.each(e,function(t,n){var r,o;if(t){if(a.test(t.type,s))r=".",o=t.type,t.type=Object;else{if(!a.test(t.type,[s]))return;r=".$.",o=t.type[0],t.type=[Object]}i.each(o._schema,function(t,i){var a=n+r+i;a in e||(e[a]=t)})}}),e},h=function(e){i.each(e,function(t,n){if(i.isArray(t.type)||t.type===Array){var r=n+".$";r in e||(e[r]={}),i.isArray(t.type)&&(e[r].type=t.type[0]),t.label&&(e[r].label=t.label),e[r].optional=!0,"undefined"!=typeof t.min&&(e[r].min=t.min),"undefined"!=typeof t.max&&(e[r].max=t.max),"undefined"!=typeof t.allowedValues&&(e[r].allowedValues=t.allowedValues),"undefined"!=typeof t.decimal&&(e[r].decimal=t.decimal),"undefined"!=typeof t.exclusiveMax&&(e[r].exclusiveMax=t.exclusiveMax),"undefined"!=typeof t.exclusiveMin&&(e[r].exclusiveMin=t.exclusiveMin),"undefined"!=typeof t.regEx&&(e[r].regEx=t.regEx),"undefined"!=typeof t.blackbox&&(e[r].blackbox=t.blackbox),t.type=Array,i.each(["min","max","allowedValues","decimal","exclusiveMax","exclusiveMin","regEx","blackbox"],function(e){l.deleteIfPresent(t,e)})}})},m=function(e){var t=[],n=[],r,a,o,s;for(i.each(e,function(e,i){for(var a=i.indexOf(".");-1!==a;)r=i.substring(0,a),".$"===r.substring(r.length-2)?a=-1:".$."===i.substring(a,a+3)?(t.push(r),a=i.indexOf(".",a+3)):(n.push(r),a=i.indexOf(".",a+1))}),o=0,s=t.length;s>o;o++)a=t[o],a in e||(e[a]={type:[Object],optional:!0});for(o=0,s=n.length;s>o;o++)a=n[o],a in e||(e[a]={type:Object,optional:!0});return h(e),e},g=function(e){var t={};return i.each(e,function(e){e=a.test(e,s)?e._schema:m(p(e)),i.each(e,function(e,n){t[n]=t[n]||{},i.extend(t[n],e)})}),e.length&&h(t),t},v=function(e,t){var n,r,a={},o;return i.each(e,function(e,s){e.type===Object&&(n=s+".",o=[],i.each(t,function(e){c(e).startsWith(n)&&(r=e.substring(n.length),-1===r.indexOf(".")&&o.push(r))}),a[n]=o)}),a},y=function(e){var t=e,n=t.lastIndexOf(".");if(-1!==n&&(t=t.substring(n+1),"$"===t)){var i=e.split(".");t=i[i.length-2]}return"_id"===t?"ID":c(t).humanize().s};s=function(e,t){var r=this,s=[],u;t=t||{},e=e||{},i.isArray(e)||(e=[e]),r._schema=g(e),r._schemaKeys=[],r._autoValues={},r._blackboxKeys=[],r._validators=[],r._messages={},r._depsMessages=new n.Dependency,r._depsLabels={},i.each(r._schema,function(e,t){if(!a.test(e,o))throw new Error("Invalid definition for "+t+" field.");if(u=t.split(".")[0],r._schemaKeys.push(t),"defaultValue"in e)if("autoValue"in e)console.warn('SimpleSchema: Found both autoValue and defaultValue options for "'+t+'". Ignoring defaultValue.');else{if(".$"===t.slice(-2))throw new Error('An array item field (one that ends with ".$") cannot have defaultValue.');r._autoValues[t]=function l(e){return function(){return null!==this.operator||this.isSet?void 0:e}}(e.defaultValue)}if("autoValue"in e){if(".$"===t.slice(-2))throw new Error('An array item field (one that ends with ".$") cannot have autoValue.');r._autoValues[t]=e.autoValue}r._depsLabels[t]=new n.Dependency,e.blackbox===!0&&r._blackboxKeys.push(t),i.contains(s,u)||s.push(u)}),r._firstLevelSchemaKeys=s,r._objectKeys=v(r._schema,r._schemaKeys),r._validationContexts={}},s.extendOptions=function(e){i.extend(o,e)};var b="(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z](?:[a-z-]*[a-z])?",x="(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?(?:\\.|$))+",_="(?:(?:[0-1]?\\d{1,2}|2[0-4]\\d|25[0-5])(?:\\.|$)){4}",O="(?:(?:[\\dA-Fa-f]{1,4}(?::|$)){8}|(?=(?:[^:\\s]|:[^:\\s])*::(?:[^:\\s]|:[^:\\s])*$)[\\dA-Fa-f]{0,4}(?:::?(?:[\\dA-Fa-f]{1,4}|$)){1,6})",w="(?:"+[x,_,O].join("|")+")";s.RegEx={Email:/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Domain:new RegExp("^"+b+"$"),WeakDomain:new RegExp("^"+w+"$"),IP:new RegExp("^(?:"+_+"|"+O+")$"),IPv4:new RegExp("^"+_+"$"),IPv6:new RegExp("^"+O+"$"),Url:/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!10(?:\.\d{1,3}){3})(?!127(?:\.\d{1,3}){3})(?!169\.254(?:\.\d{1,3}){2})(?!192\.168(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/i,Id:/^[23456789ABCDEFGHJKLMNPQRSTWXYZabcdefghijkmnopqrstuvwxyz]{17}$/,ZipCode:/^\d{5}(?:[-\s]\d{4})?$/},s._makeGeneric=function(e){return"string"!=typeof e?null:e.replace(/\.[0-9]+(?=\.|$)/g,".$")},s._depsGlobalMessages=new n.Dependency,s.prototype=new a.Where,s.prototype.condition=function(t){var n=this,r,o;if(i.each(t,function(e,t){"$"===t.substring(0,1)?r=!0:o=!0}),r&&o)throw new a.Error("Object cannot contain modifier operators alongside other keys");var s=n.newContext();if(!s.validate(t,{modifier:r,filter:!1,autoConvert:!1})){var u=s.getErrorObject(),l=new a.Error(u.message);throw l.invalidKeys=u.invalidKeys,e.isServer&&(l.sanitizedError=u.sanitizedError),l}return!0},s.prototype.namedContext=function(t){var i=this;return"string"!=typeof t&&(t="default"),i._validationContexts[t]||(i._validationContexts[t]=new d(i),s.debug&&e.isClient&&n.nonreactive(function(){r(i._validationContexts[t],t)})),i._validationContexts[t]},s._validators=[],s.addValidator=function(e){s._validators.push(e)},s.prototype.addValidator=s.prototype.validator=function(e){this._validators.push(e)},s.prototype.pick=function(){var e=this,t=i.toArray(arguments);t.unshift(e._schema);var n=i.pick.apply(null,t);return new s(n)},s.prototype.clean=function(e,n){var r=this;if(n=i.extend({filter:!0,autoConvert:!0,removeEmptyStrings:!0,trimStrings:!0,getAutoValues:!0,isModifier:!1,extendAutoValueContext:{}},n||{}),"$pushAll"in e){console.warn("SimpleSchema.clean: $pushAll is deprecated; converting to $push with $each"),e.$push=e.$push||{};for(var a in e.$pushAll){e.$push[a]=e.$push[a]||{},e.$push[a].$each=e.$push[a].$each||[];for(var o=0,l=e.$pushAll[a].length;l>o;o++)e.$push[a].$each.push(e.$pushAll[a][o]);delete e.$pushAll}}var p=new u(e,r._blackboxKeys);if((n.filter||n.autoConvert||n.removeEmptyStrings||n.trimStrings)&&p.forEachNode(function(){var e=this.genericKey,t,i,a;if(e){if(i=r._schema[e],a=this.value,n.filter&&"$unset"!==this.operator&&!r.allowsKey(e))return"[$each]"===this.position.slice(-7)?p.removeValueForPosition(this.position.slice(0,-7)):this.remove(),void(s.debug&&console.info('SimpleSchema.clean: filtered out value that would have affected key "'+e+'", which is not allowed by the schema'));if(void 0!==a){var o=!1;if(n.autoConvert&&"$unset"!==this.operator&&i){var u=f(a,i.type);n.trimStrings&&"string"==typeof u&&(u=c(u).trim().s),void 0!==u&&u!==a&&(!n.removeEmptyStrings||this.operator&&"$set"!==this.operator||"string"!=typeof u||u.length||(u=void 0,"$set"===this.operator&&this.position.match(/\[.+?\]/g).length<2&&(t=this.position.replace("$set","$unset"),p.setValueForPosition(t,""))),s.debug&&console.info("SimpleSchema.clean: autoconverted value "+a+" from "+typeof a+" to "+typeof u+" for "+e),this.updateValue(u),o=!0)}o||(n.trimStrings&&"string"==typeof a&&(!i||i&&i.trim!==!1)&&this.updateValue(c(a).trim().s),!n.removeEmptyStrings||this.operator&&"$set"!==this.operator||"string"!=typeof a||a.length||(this.remove(),"$set"===this.operator&&this.position.match(/\[.+?\]/g).length<2&&(t=this.position.replace("$set","$unset"),p.setValueForPosition(t,""))))}}},{endPointsOnly:!1}),n.getAutoValues&&t.call(r,p,n.isModifier,n.extendAutoValueContext),n.isModifier)for(var d in e)e.hasOwnProperty(d)&&i.isEmpty(e[d])&&delete e[d];return e},s.prototype.schema=function(e){var t=this;return null!==e&&void 0!==e?t._schema[s._makeGeneric(e)]:t._schema},s.prototype.getDefinition=function(e,t,n){var r=this,a=r.schema(e);return a?(a=i.isArray(t)?i.pick(a,t):i.clone(a),i.each(["min","max","minCount","maxCount","allowedValues","optional","label"],function(e){i.isFunction(a[e])&&(a[e]=a[e].call(n||{}))}),a.label=a.label||y(e),a):void 0},s.prototype.keyIsInBlackBox=function(e){var t=this,n=s._makeGeneric(e),i,r;do i=n.lastIndexOf("."),-1!==i&&(n=n.slice(0,i),r=t.getDefinition(n));while(-1!==i&&!r);return!(!r||!r.blackbox)},s.prototype.labels=function(e){var t=this;i.each(e,function(e,n){(i.isString(e)||i.isFunction(e))&&n in t._schema&&(t._schema[n].label=e,t._depsLabels[n]&&t._depsLabels[n].changed())})},s.prototype.label=function(e){var t=this;if(null===e||void 0===e){var n={};return i.each(t.schema(),function(e,i){n[i]=t.label(i)}),n}var r=t.getDefinition(e);if(r){var a=s._makeGeneric(e);return t._depsLabels[a]&&t._depsLabels[a].depend(),r.label}return null},s._globalMessages={required:"[label] is required",minString:"[label] must be at least [min] characters",maxString:"[label] cannot exceed [max] characters",minNumber:"[label] must be at least [min]",maxNumber:"[label] cannot exceed [max]",minNumberExclusive:"[label] must be greater than [min]",maxNumberExclusive:"[label] must be less than [max]",minDate:"[label] must be on or after [min]",maxDate:"[label] cannot be after [max]",badDate:"[label] is not a valid date",minCount:"You must specify at least [minCount] values",maxCount:"You cannot specify more than [maxCount] values",noDecimal:"[label] must be an integer",notAllowed:"[value] is not an allowed value",expectedString:"[label] must be a string",expectedNumber:"[label] must be a number",expectedBoolean:"[label] must be a boolean",expectedArray:"[label] must be an array",expectedObject:"[label] must be an object",expectedConstructor:"[label] must be a [type]",regEx:[{msg:"[label] failed regular expression validation"},{exp:s.RegEx.Email,msg:"[label] must be a valid e-mail address"},{exp:s.RegEx.WeakEmail,msg:"[label] must be a valid e-mail address"},{exp:s.RegEx.Domain,msg:"[label] must be a valid domain"},{exp:s.RegEx.WeakDomain,msg:"[label] must be a valid domain"},{exp:s.RegEx.IP,msg:"[label] must be a valid IPv4 or IPv6 address"},{exp:s.RegEx.IPv4,msg:"[label] must be a valid IPv4 address"},{exp:s.RegEx.IPv6,msg:"[label] must be a valid IPv6 address"},{exp:s.RegEx.Url,msg:"[label] must be a valid URL"},{exp:s.RegEx.Id,msg:"[label] must be a valid alphanumeric ID"}],keyNotInSchema:"[key] is not allowed by the schema"},s.messages=function(e){i.extend(s._globalMessages,e),s._depsGlobalMessages.changed()},s.prototype.messages=function(e){var t=this;i.extend(t._messages,e),t._depsMessages.changed()},s.prototype.messageForError=function(e,t,n,r){function a(t){if("regEx"!==e||!i.isArray(t))return t;var n;return f&&(n=i.find(t,function(e){return e.exp&&e.exp.toString()===f})),n||(n=i.findWhere(t,{exp:null}),n||(n=i.findWhere(t,{exp:void 0}))),n?n.msg:null}var o=this;n=n||o.getDefinition(t,["regEx","label","minCount","maxCount","min","max","type"])||{};

var u=e.indexOf("."),c=null;-1!==u&&(c=e.substring(u+1),c=parseInt(c,10),e=e.substring(0,u));var f;"regEx"===e&&(f=null===c||void 0===c||isNaN(c)?n.regEx:n.regEx[c],f&&(f=f.toString()));var p=e+" "+t,d=s._makeGeneric(t),h=e+" "+d;s._depsGlobalMessages.depend(),o._depsMessages.depend();var m=o._messages[p]||o._messages[h]||o._messages[e];if(m=a(m),m||(m=s._globalMessages[p]||s._globalMessages[h]||s._globalMessages[e],m=a(m)),!m)return"Unknown validation error";m=m.replace("[key]",t),m=m.replace("[label]",o.label(t)),"undefined"!=typeof n.minCount&&(m=m.replace("[minCount]",n.minCount)),"undefined"!=typeof n.maxCount&&(m=m.replace("[maxCount]",n.maxCount)),m=void 0!==r&&null!==r?m.replace("[value]",r.toString()):m.replace("[value]","null");var g=n.min,v=n.max;return n.type===Date||n.type===[Date]?("undefined"!=typeof g&&(m=m.replace("[min]",l.dateToDateString(g))),"undefined"!=typeof v&&(m=m.replace("[max]",l.dateToDateString(v)))):("undefined"!=typeof g&&(m=m.replace("[min]",g)),"undefined"!=typeof v&&(m=m.replace("[max]",v))),n.type instanceof Function&&(m=m.replace("[type]",n.type.name)),m},s.prototype.allowsKey=function(e){var t=this;return i.any(t._schemaKeys,function(n){if(n===e)return!0;if(t.schema(n).blackbox===!0){var i=n.length,r=e.slice(0,i+2),a=r.slice(0,-1);if(r===n+".$")return!1;if(a===n+".")return!0}return!1})},s.prototype.newContext=function(){return new d(this)},s.prototype.objectKeys=function(e){var t=this;return e?t._objectKeys[e+"."]||[]:t._firstLevelSchemaKeys}}.call(this),function(){function e(e,t,n){var r=e.type;if(r===String){if("string"!=typeof t)return"expectedString";if(null!==e.max&&e.max<t.length)return"maxString";if(null!==e.min&&e.min>t.length)return"minString";if(e.regEx instanceof RegExp&&!e.regEx.test(t))return"regEx";if(i.isArray(e.regEx)){var a;if(i.every(e.regEx,function(e,n){return e.test(t)?!0:(a="regEx."+n,!1)}),a)return a}}else if(r===Number){if("number"!=typeof t||isNaN(t))return"expectedNumber";if("$inc"!==n&&null!==e.max&&(e.exclusiveMax?e.max<=t:e.max<t))return e.exclusiveMax?"maxNumberExclusive":"maxNumber";if("$inc"!==n&&null!==e.min&&(e.exclusiveMin?e.min>=t:e.min>t))return e.exclusiveMin?"minNumberExclusive":"minNumber";if(!e.decimal&&t.toString().indexOf(".")>-1)return"noDecimal"}else if(r===Boolean){if("boolean"!=typeof t)return"expectedBoolean"}else if(r===Object){if(!l.isBasicObject(t))return"expectedObject"}else if(r===Array){if(!i.isArray(t))return"expectedArray";if(null!==e.minCount&&t.length<e.minCount)return"minCount";if(null!==e.maxCount&&t.length>e.maxCount)return"maxCount"}else if(r instanceof Function||l.safariBugFix(r)){if(!(t instanceof r))return"expectedConstructor";if(r===Date){if(isNaN(t.getTime()))return"badDate";if(i.isDate(e.min)&&e.min.getTime()>t.getTime())return"minDate";if(i.isDate(e.max)&&e.max.getTime()<t.getTime())return"maxDate"}}}f=function t(n,r,a,o,c,f){function p(t,r,a,o,p,d,h,v){if(!o)return void m.push(l.errorObject("keyNotInSchema",r,t,o,c));if(!d&&!o.optional&&(null===t||"$unset"===p||"$rename"===p||void 0===t&&(h||v||!p||"$set"===p)))return void m.push(l.errorObject("required",r,null,o,c));if("$rename"===p&&"string"==typeof t&&!c.allowsKey(t))return void m.push(l.errorObject("keyNotInSchema",t,null,null,c));if("$unset"!==p&&"$rename"!==p&&l.isNotNullOrUndefined(t)){var y=e(o,t,p);if(y)return void m.push(l.errorObject(y,r,t,o,c));if(o.allowedValues&&!i.contains(o.allowedValues,t))return void m.push(l.errorObject("notAllowed",r,t,o,c))}var b=r.lastIndexOf("."),x=-1===b?"":r.slice(0,b+1),_=o.custom?[o.custom]:[];_=_.concat(c._validators).concat(s._validators),i.every(_,function(e){var s=e.call(i.extend({key:r,genericKey:a,definition:o,isSet:void 0!==t,value:t,operator:p,field:function(e){g=g||new u(n,c._blackboxKeys);var t=g.getInfoForKey(e)||{};return{isSet:void 0!==t.value,value:t.value,operator:t.operator}},siblingField:function(e){g=g||new u(n,c._blackboxKeys);var t=g.getInfoForKey(x+e)||{};return{isSet:void 0!==t.value,value:t.value,operator:t.operator}}},f||{}));return"string"==typeof s?(m.push(l.errorObject(s,r,t,o,c)),!1):!0})}function d(e,t,n,r,a,u){var f,h;if(t){if(c.keyIsInBlackBox(t))return;if(f=s._makeGeneric(t),h=c.getDefinition(t),!o||o===t||o===f){var m=i.some(r,function(e){return e.slice(0,t.length+1)===t+"."});p(e,t,f,h,n,m,a,u)}}if(void 0!==e&&null!==e||h&&(h.type!==Object||h.optional)||(e={}),i.isArray(e))i.each(e,function(e,i){d(e,t+"."+i,n,r)});else if(l.isBasicObject(e)&&(!h||!h.blackbox)){var g=i.keys(e),v=i.union(g,c.objectKeys(f));a=f&&".$"===f.slice(-2),i.each(v,function(i){d(e[i],l.appendAffectedKey(t,i),n,r,a,!0)})}}function h(e){if(i.isEmpty(e))throw new Error("When the modifier option is true, validation object must have at least one operator");var t=i.keys(e.$set||{}).concat(i.keys(e.$setOnInsert||{}));"$setOnInsert"in e&&(a&&(e.$set=e.$set||{},e.$set=i.extend(e.$set,e.$setOnInsert)),delete e.$setOnInsert),i.each(e,function(e,n){if("$"!==n.slice(0,1))throw new Error("When the modifier option is true, all validation object keys must be operators. Did you forget `$set`?");if(l.shouldCheck(n)){if(a&&"$set"===n){var r=i.keys(e);i.each(c.objectKeys(),function(e){i.contains(r,e)||d(void 0,e,n,t)})}i.each(e,function(e,i){("$push"===n||"$addToSet"===n)&&(l.isBasicObject(e)&&"$each"in e?e=e.$each:i+=".0"),d(e,i,n,t)})}})}if(!i.isObject(n))throw new Error("The first argument of validate() or validateOne() must be an object");if(!r&&l.looksLikeModifier(n))throw new Error("When the validation object contains mongo operators, you must set the modifier option to true");var m=[],g;r?h(n):d(n);var v=[];return m=i.filter(m,function(e){return i.contains(v,e.name)?!1:(v.push(e.name),!0)})}}.call(this),function(){function t(e,t,n){var r=e.type;if(r===String){if("string"!=typeof t)return"expectedString";if(null!==e.max&&e.max<t.length)return"maxString";if(null!==e.min&&e.min>t.length)return"minString";if(e.regEx instanceof RegExp&&!e.regEx.test(t))return"regEx";if(i.isArray(e.regEx)){var a;if(i.every(e.regEx,function(e,n){return e.test(t)?!0:(a="regEx."+n,!1)}),a)return a}}else if(r===Number){if("number"!=typeof t||isNaN(t))return"expectedNumber";if("$inc"!==n&&null!==e.max&&(e.exclusiveMax?e.max<=t:e.max<t))return e.exclusiveMax?"maxNumberExclusive":"maxNumber";if("$inc"!==n&&null!==e.min&&(e.exclusiveMin?e.min>=t:e.min>t))return e.exclusiveMin?"minNumberExclusive":"minNumber";if(!e.decimal&&t.toString().indexOf(".")>-1)return"noDecimal"}else if(r===Boolean){if("boolean"!=typeof t)return"expectedBoolean"}else if(r===Object){if(!l.isBasicObject(t))return"expectedObject"}else if(r===Array){if(!i.isArray(t))return"expectedArray";if(null!==e.minCount&&t.length<e.minCount)return"minCount";if(null!==e.maxCount&&t.length>e.maxCount)return"maxCount"}else if(r instanceof Function||l.safariBugFix(r)){if(!(t instanceof r))return"expectedConstructor";if(r===Date){if(isNaN(t.getTime()))return"badDate";if(i.isDate(e.min)&&e.min.getTime()>t.getTime())return"minDate";if(i.isDate(e.max)&&e.max.getTime()<t.getTime())return"maxDate"}}}function n(t,n,r){var a=new e.Collection(null),s;if(r)s=o.id(),a.upsert({_id:s},t);else{var l=new u(t),c=new u({});i.each(n,function(e,t){var n;if(e.type===Array&&l.affectsGenericKey(t)?n=[]:e.optional||(n=e.type===Boolean?!0:e.type===Number?e.min||0:e.type===Date?e.min||new Date:e.type===Array?[]:e.type===Object?{}:"0"),void 0!==n){var i=t.replace(/\.\$/g,".0"),r=u._keyToPosition(i,!1);c.setValueForPosition(r,n)}}),c=c.getObject(),s=a.insert(c),a.update(s,t)}var f=a.findOne(s);return a.remove(s),n._id||delete f._id,f}p=function r(e,a,o,c,f,p){function d(n,r,a,o,c,d,h){if(!o)return void g.push(l.errorObject("keyNotInSchema",r,n,o,f));if(!(d||o.optional||null!==n&&void 0!==n))return void g.push(l.errorObject("required",r,null,o,f));if(l.isNotNullOrUndefined(n)){var m=t(o,n,c);if(m)return void g.push(l.errorObject(m,r,n,o,f));if(o.allowedValues&&!i.contains(o.allowedValues,n))return void g.push(l.errorObject("notAllowed",r,n,o,f))}var y=r.lastIndexOf("."),b=-1===y?"":r.slice(0,y+1),x=o.custom?[o.custom]:[];x=x.concat(f._validators).concat(s._validators),i.every(x,function(t){var s=t.call(i.extend({key:r,genericKey:a,definition:o,isSet:void 0!==n,value:n,operator:c,field:function(t){v=v||new u(e,f._blackboxKeys);var n=v.getInfoForKey(t)||{};return{isSet:void 0!==n.value,value:n.value,operator:n.operator}},siblingField:function(t){v=v||new u(e,f._blackboxKeys);var n=v.getInfoForKey(b+t)||{};return{isSet:void 0!==n.value,value:n.value,operator:n.operator}}},p||{}));return"string"==typeof s?(g.push(l.errorObject(s,r,n,o,f)),!1):!0})}function h(e,t,n,r){var a,o;if(t){if(f.keyIsInBlackBox(t))return;a=s._makeGeneric(t),o=f.getDefinition(t),c&&c!==t&&c!==a||d(e,t,a,o,null,n,r)}if(void 0!==e&&null!==e||o&&(o.type!==Object||o.optional)||(e={}),i.isArray(e))i.each(e,function(e,n){h(e,t+"."+n)});else if(l.isBasicObject(e)&&(!o||!o.blackbox)){var u=i.keys(e),p=i.union(u,f._schemaKeys);r=a&&".$"===a.slice(-2),i.each(p,function(i){l.shouldCheck(i)&&h(e[i],l.appendAffectedKey(t,i),n,r)})}}if(!i.isObject(e))throw new Error("The first argument of validate() or validateOne() must be an object");if(a){if(i.isEmpty(e))throw new Error("When the modifier option is true, validation object must have at least one operator");var m=i.every(e,function(e,t){return"$"===t.substring(0,1)});if(!m)throw new Error("When the modifier option is true, all validation object keys must be operators");e=n(e,f.schema(),o)}else if(l.looksLikeModifier(e))throw new Error("When the validation object contains mongo operators, you must set the modifier option to true");var g=[],v;h(e);var y=[];return g=i.filter(g,function(e){return i.contains(y,e.name)?!1:(y.push(e.name),!0)})}}.call(this),function(){function t(e,t,n,i,r,a){var o=!0,s=o?f:p;return s(e,t,n,i,r,a)}d=function r(e){var t=this;t._simpleSchema=e,t._schema=e.schema(),t._schemaKeys=i.keys(t._schema),t._invalidKeys=[],t._deps={},t._depsAny=new n.Dependency,i.each(t._schemaKeys,function(e){t._deps[e]=new n.Dependency})},d.prototype.validate=function a(n,r){var a=this;r=i.extend({modifier:!1,upsert:!1,extendedCustomContext:{}},r||{}),e.isClient&&void 0===r.extendedCustomContext.userId&&(r.extendedCustomContext.userId=e.userId&&e.userId()||null);var o=t(n,r.modifier,r.upsert,null,a._simpleSchema,r.extendedCustomContext),s=i.pluck(a._invalidKeys,"name");a._invalidKeys=o;var u=i.pluck(a._invalidKeys,"name"),l=i.union(u,s);return a._markKeysChanged(l),0===a._invalidKeys.length},d.prototype.validateOne=function o(n,r,a){var o=this,s,u,l;a=i.extend({modifier:!1,upsert:!1,extendedCustomContext:{}},a||{}),e.isClient&&void 0===a.extendedCustomContext.userId&&(a.extendedCustomContext.userId=e.userId&&e.userId()||null);var c=t(n,a.modifier,a.upsert,r,o._simpleSchema,a.extendedCustomContext),f=[];for(s=0,u=o._invalidKeys.length;u>s;s++)l=o._invalidKeys[s],l.name!==r&&f.push(l);for(o._invalidKeys=f,s=0,u=c.length;u>s;s++)l=c[s],o._invalidKeys.push(l);return o._markKeysChanged([r]),!o._keyIsInvalid(r)},d.prototype.resetValidation=function u(){var e=this,t=i.pluck(e._invalidKeys,"name");e._invalidKeys=[],e._markKeysChanged(t)},d.prototype.isValid=function l(){var e=this;return e._depsAny.depend(),!e._invalidKeys.length},d.prototype.invalidKeys=function c(){var e=this;return e._depsAny.depend(),e._invalidKeys},d.prototype.addInvalidKeys=function h(e){var t=this;if(e&&e.length){var n=[];i.each(e,function(e){n.push(e.name),t._invalidKeys.push(e)}),t._markKeysChanged(n)}},d.prototype._markKeysChanged=function m(e){var t=this;e&&e.length&&(i.each(e,function(e){var n=s._makeGeneric(e);n in t._deps&&t._deps[n].changed()}),t._depsAny.changed())},d.prototype._getInvalidKeyObject=function g(e,t){var n=this;t=t||s._makeGeneric(e);var r=i.findWhere(n._invalidKeys,{name:e});return r||(r=i.findWhere(n._invalidKeys,{name:t})),r},d.prototype._keyIsInvalid=function v(e,t){return!!this._getInvalidKeyObject(e,t)},d.prototype.keyIsInvalid=function y(e){var t=this,n=s._makeGeneric(e);return t._deps[n]&&t._deps[n].depend(),t._keyIsInvalid(e,n)},d.prototype.keyErrorMessage=function b(e){var t=this,n=s._makeGeneric(e);t._deps[n]&&t._deps[n].depend();var i=t._getInvalidKeyObject(e,n);return i?t._simpleSchema.messageForError(i.type,i.name,null,i.value):""},d.prototype.getErrorObject=function x(){var t=this,n,r=this._invalidKeys;r.length?(n=t.keyErrorMessage(r[0].name),r=i.map(r,function(e){return i.extend({message:t.keyErrorMessage(e.name)},e)})):n="Failed validation";var a=new Error(n);return a.invalidKeys=r,e.isServer&&(a.sanitizedError=new e.Error(400,n)),a}}.call(this),"undefined"==typeof Package&&(Package={}),Package["aldeed:simple-schema"]={SimpleSchema:s,MongoObject:u}}();

!function(){var e=Package.meteor.Meteor,t=Package["aldeed:simple-schema"].SimpleSchema,n=Package["aldeed:simple-schema"].MongoObject,i=Package.underscore._,r=Package.check.check,o=Package.check.Match,a=Package.mongo.Mongo,s=Package.ejson.EJSON,a;(function(){function n(t,n,o,a,s){function l(e,n,r,o,l,u){p.clean(e,{filter:r,autoConvert:o,getAutoValues:n,isModifier:"insert"!==t,removeEmptyStrings:l,trimStrings:u,extendAutoValueContext:i.extend({isInsert:"insert"===t,isUpdate:"update"===t&&g.upsert!==!0,isUpsert:_,userId:a,isFromTrustedCode:s,docId:"update"!==t&&"upsert"!==t||!h?void 0:h._id||h,isLocalCollection:S},g.extendAutoValueContext||{})})}var c=this,p=c._c2._simpleSchema,f,m,v,g,_,h,y,C,S=null===c._connection;if(!n.length)throw new Error(t+" requires an argument");if("insert"===t)f=n[0],g=n[1],m=n[2],n="function"==typeof g?[f,g]:"function"==typeof m?[f,m]:[f];else{if("update"!==t&&"upsert"!==t)throw new Error("invalid type argument");h=n[0],f=n[1],g=n[2],m=n[3]}m||"function"!=typeof g||(m=g,g={}),g=g||{},y=n.length-1,C="function"==typeof n[y],_="upsert"===t||"update"===t&&g.upsert===!0,e.isClient&&!m&&(m=function(n){n&&e._debug(t+" failed: "+(n.reason||n.stack))}),e.isClient&&C&&(m=n[y]=d(c,g.validationContext,m));var x;f._id&&!p.allowsKey("_id")&&(x=f._id,delete f._id),(e.isServer||S)&&g.getAutoValues===!1&&(o=!0),l(f,(e.isServer||S)&&!o,g.filter!==!1,g.autoConvert!==!1,g.removeEmptyStrings!==!1,g.trimStrings!==!1);var I={};for(var w in f)f.hasOwnProperty(w)&&(I[w]=f[w]);if(e.isServer&&_&&i.isObject(h)){var k=I.$set||{};I.$set=i.clone(h),i.extend(I.$set,k)}e.isClient&&!S&&l(I,!0,!1,!1,!1,!1);var E=p.namedContext(g.validationContext),O;if(O=g.validate===!1?!0:E.validate(I,{modifier:"update"===t||"upsert"===t,upsert:_,extendedCustomContext:i.extend({isInsert:"insert"===t,isUpdate:"update"===t&&g.upsert!==!0,isUpsert:_,userId:a,isFromTrustedCode:s,docId:"update"!==t&&"upsert"!==t||!h?void 0:h._id||h,isLocalCollection:S},g.extendedCustomContext||{})}))return x&&(f._id=x),"insert"===t?n[0]=f:n[1]=f,e.isServer&&C&&(n[y]=u(c,f,g.validationContext,n[y])),n;if(v=r(E),!m)throw v;m(v,!1)}function r(t){var n,i=t.invalidKeys();n=i.length?t.keyErrorMessage(i[0].name):"Failed validation";var r=new Error(n);return r.invalidKeys=i,r.validationContext=t,e.isServer&&(r.sanitizedError=new e.Error(400,n)),r}function l(e,t){var n=t.split("c2_")[1].split(" ")[0],i=t.split("dup key:")[1].split('"')[1];e.addInvalidKeys([{name:n,type:"notUnique",value:i}])}function u(e,t,n,i){return function o(t){if(t&&("MongoError"===t.name&&11001===t.code||t.message.indexOf(!0))&&-1!==t.message.indexOf("c2_")){var o=e.simpleSchema().namedContext(n);l(o,t.message),arguments[0]=r(o)}return i.apply(this,arguments)}}function d(t,n,i){return function o(a){var u=t.simpleSchema().namedContext(n);if(a instanceof e.Error&&400===a.error&&"INVALID"===a.reason&&"string"==typeof a.details){var d=s.parse(a.details);u.addInvalidKeys(d),arguments[0]=r(u)}else a instanceof e.Error&&409===a.error&&a.reason&&-1!==a.reason.indexOf("E11000")&&-1!==a.reason.indexOf("c2_")&&(l(u,a.reason),arguments[0]=r(u));return i.apply(this,arguments)}}function c(e){Package&&Package.insecure&&!f[e._name]&&(e.allow({insert:function(){return!0},update:function(){return!0},remove:function(){return!0},fetch:[],transform:null}),f[e._name]=!0)}function p(t,r){if(!m[t._name]){var o=null===t._connection;t.deny({insert:function(n,i){var r=t.simpleSchema(),a;return e.isServer&&i._id&&!r.allowsKey("_id")&&(a=i._id,delete i._id),r.clean(i,{isModifier:!1,filter:!1,autoConvert:!1,removeEmptyStrings:!1,trimStrings:!1,extendAutoValueContext:{isInsert:!0,isUpdate:!1,isUpsert:!1,userId:n,isFromTrustedCode:!1,docId:a,isLocalCollection:o}}),a&&(i._id=a),!1},update:function(e,n,i,r){var a=t.simpleSchema();return a.clean(r,{isModifier:!0,filter:!1,autoConvert:!1,removeEmptyStrings:!1,trimStrings:!1,extendAutoValueContext:{isInsert:!1,isUpdate:!0,isUpsert:!1,userId:e,isFromTrustedCode:!1,docId:n&&n._id,isLocalCollection:o}}),!1},fetch:["_id"],transform:null}),t.deny(i.extend({insert:function(i,r){return n.call(t,"insert",[r,{trimStrings:!1,removeEmptyStrings:!1,filter:!1,autoConvert:!1},function(t){if(t)throw new e.Error(400,"INVALID",s.stringify(t.invalidKeys))}],!0,i,!1),!1},update:function(i,r,o,a){return n.call(t,"update",[{_id:r&&r._id},a,{trimStrings:!1,removeEmptyStrings:!1,filter:!1,autoConvert:!1},function(t){if(t)throw new e.Error(400,"INVALID",s.stringify(t.invalidKeys))}],!0,i,!1),!1},fetch:["_id"]},r.transform===!0?{}:{transform:null})),m[t._name]=!0}}t.extendOptions({index:o.Optional(o.OneOf(Number,String,Boolean)),unique:o.Optional(Boolean),denyInsert:o.Optional(Boolean),denyUpdate:o.Optional(Boolean)}),t.messages({notUnique:"[label] must be unique",insertNotAllowed:"[label] cannot be set during an insert",updateNotAllowed:"[label] cannot be set during an update"}),"undefined"==typeof a&&(a={},a.Collection=e.Collection),a.Collection.prototype.attachSchema=function v(n,r){function o(t,n,i,r,o){e.startup(function(){t._collection._ensureIndex(n,{background:!0,name:i,unique:r,sparse:o})})}function a(t,n){e.startup(function(){try{t._collection._dropIndex(n)}catch(e){}})}var s=this;r=r||{},n instanceof t||(n=new t(n)),s._c2=s._c2||{},s._c2._simpleSchema&&r.replace!==!0&&(n=new t([s._c2._simpleSchema,n])),s._c2._simpleSchema=n,e.isServer&&i.each(n.schema(),function(e,t){if("index"in e||e.unique===!0){var n={},i;"index"in e?(i=e.index,i===!0&&(i=1)):i=1;var r="c2_"+t,l=t.replace(/\.\$\./g,".");n[l]=i;var u=!!e.unique&&(1===i||-1===i),d=!!e.optional&&u;i===!1?a(s,r):o(s,n,r,u,d)}}),n.validator(function(){var e=this.definition,t=this.value,n=this.operator;return e.denyInsert&&void 0!==t&&!n?"insertNotAllowed":e.denyUpdate&&n&&("$set"!==n||"$set"===n&&void 0!==t)?"updateNotAllowed":!0}),p(s,r),c(s)},a.Collection.prototype.simpleSchema=function g(){var e=this;return e._c2?e._c2._simpleSchema:null},i.each(["insert","update","upsert"],function(t){var r=a.Collection.prototype[t];a.Collection.prototype[t]=function(){var o=this,a=i.toArray(arguments);if(o._c2){var s=null;try{s=e.userId()}catch(l){}if(a=n.call(o,t,a,!1,s,e.isServer),!a)return"insert"===t?o._makeNewID():void 0}return r.apply(o,a)}});var f={},m={}}).call(this),"undefined"==typeof Package&&(Package={}),Package["aldeed:collection2"]={}}();

!function(){var a=Package.meteor.Meteor,e=Package.ddp.DDP,e,t;"undefined"==typeof Package&&(Package={}),Package.livedata={DDP:e,LivedataTest:t}}();

!function(){var t=Package.meteor.Meteor,e;(function(){!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";function t(){return bn.apply(null,arguments)}function e(t){bn=t}function n(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function i(t){return"[object Array]"===Object.prototype.toString.call(t)}function r(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}function s(t,e){var n=[],i;for(i=0;i<t.length;++i)n.push(e(t[i],i));return n}function a(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function o(t,e){for(var n in e)a(e,n)&&(t[n]=e[n]);return a(e,"toString")&&(t.toString=e.toString),a(e,"valueOf")&&(t.valueOf=e.valueOf),t}function u(t,e,n,i){return kt(t,e,n,i,!0).utc()}function d(t){return null==t._isValid&&(t._isValid=!isNaN(t._d.getTime())&&t._pf.overflow<0&&!t._pf.empty&&!t._pf.invalidMonth&&!t._pf.nullInput&&!t._pf.invalidFormat&&!t._pf.userInvalidated,t._strict&&(t._isValid=t._isValid&&0===t._pf.charsLeftOver&&0===t._pf.unusedTokens.length&&void 0===t._pf.bigHour)),t._isValid}function l(t){var e=u(0/0);return null!=t?o(e._pf,t):e._pf.userInvalidated=!0,e}function f(t,e){var n,i,r;if("undefined"!=typeof e._isAMomentObject&&(t._isAMomentObject=e._isAMomentObject),"undefined"!=typeof e._i&&(t._i=e._i),"undefined"!=typeof e._f&&(t._f=e._f),"undefined"!=typeof e._l&&(t._l=e._l),"undefined"!=typeof e._strict&&(t._strict=e._strict),"undefined"!=typeof e._tzm&&(t._tzm=e._tzm),"undefined"!=typeof e._isUTC&&(t._isUTC=e._isUTC),"undefined"!=typeof e._offset&&(t._offset=e._offset),"undefined"!=typeof e._pf&&(t._pf=e._pf),"undefined"!=typeof e._locale&&(t._locale=e._locale),On.length>0)for(n in On)i=On[n],r=e[i],"undefined"!=typeof r&&(t[i]=r);return t}function c(e){f(this,e),this._d=new Date(+e._d),Un===!1&&(Un=!0,t.updateOffset(this),Un=!1)}function h(t){return t instanceof c||null!=t&&a(t,"_isAMomentObject")}function m(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=e>=0?Math.floor(e):Math.ceil(e)),n}function _(t,e,n){var i=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),s=0,a;for(a=0;i>a;a++)(n&&t[a]!==e[a]||!n&&m(t[a])!==m(e[a]))&&s++;return s+r}function y(){}function p(t){return t?t.toLowerCase().replace("_","-"):t}function g(t){for(var e=0,n,i,r,s;e<t.length;){for(s=p(t[e]).split("-"),n=s.length,i=p(t[e+1]),i=i?i.split("-"):null;n>0;){if(r=v(s.slice(0,n).join("-")))return r;if(i&&i.length>=n&&_(s,i,!0)>=n-1)break;n--}e++}return null}function v(t){var e=null;if(!Cn[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=Wn._abbr,require("./locale/"+t),D(e)}catch(n){}return Cn[t]}function D(t,e){var n;return t&&(n="undefined"==typeof e?Y(t):M(t,e),n&&(Wn=n)),Wn._abbr}function M(t,e){return null!==e?(e.abbr=t,Cn[t]||(Cn[t]=new y),Cn[t].set(e),D(t),Cn[t]):(delete Cn[t],null)}function Y(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Wn;if(!i(t)){if(e=v(t))return e;t=[t]}return g(t)}function w(t,e){var n=t.toLowerCase();Gn[n]=Gn[n+"s"]=Gn[e]=t}function k(t){return"string"==typeof t?Gn[t]||Gn[t.toLowerCase()]:void 0}function T(t){var e={},n,i;for(i in t)a(t,i)&&(n=k(i),n&&(e[n]=t[i]));return e}function S(e,n){return function(i){return null!=i?(O(this,e,i),t.updateOffset(this,n),this):b(this,e)}}function b(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function O(t,e,n){return t._d["set"+(t._isUTC?"UTC":"")+e](n)}function U(t,e){var n;if("object"==typeof t)for(n in t)this.set(n,t[n]);else if(t=k(t),"function"==typeof this[t])return this[t](e);return this}function C(t,e,n){for(var i=""+Math.abs(t),r=t>=0;i.length<e;)i="0"+i;return(r?n?"+":"":"-")+i}function W(t,e,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),t&&(xn[t]=r),e&&(xn[e[0]]=function(){return C(r.apply(this,arguments),e[1],e[2])}),n&&(xn[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function G(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function P(t){var e=t.match(Pn),n,i;for(n=0,i=e.length;i>n;n++)e[n]=xn[e[n]]?xn[e[n]]:G(e[n]);return function(r){var s="";for(n=0;i>n;n++)s+=e[n]instanceof Function?e[n].call(r,t):e[n];return s}}function F(t,e){return t.isValid()?(e=L(e,t.localeData()),Ln[e]||(Ln[e]=P(e)),Ln[e](t)):t.localeData().invalidDate()}function L(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(Fn.lastIndex=0;i>=0&&Fn.test(t);)t=t.replace(Fn,n),Fn.lastIndex=0,i-=1;return t}function x(t,e,n){Qn[t]="function"==typeof e?e:function(t){return t&&n?n:e}}function H(t,e){return a(Qn,t)?Qn[t](e._strict,e._locale):new RegExp(I(t))}function I(t){return t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,r){return e||n||i||r}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function A(t,e){var n,i=e;for("string"==typeof t&&(t=[t]),"number"==typeof e&&(i=function(t,n){n[e]=m(t)}),n=0;n<t.length;n++)Xn[t[n]]=i}function z(t,e){A(t,function(t,n,i,r){i._w=i._w||{},e(t,i._w,i,r)})}function Z(t,e,n){null!=e&&a(Xn,t)&&Xn[t](e,n._a,n,t)}function E(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function j(t){return this._months[t.month()]}function N(t){return this._monthsShort[t.month()]}function V(t,e,n){var i,r,s;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(r=u([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(s="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(s.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}}function q(t,e){var n;return"string"==typeof e&&(e=t.localeData().monthsParse(e),"number"!=typeof e)?t:(n=Math.min(t.date(),E(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t)}function J(e){return null!=e?(q(this,e),t.updateOffset(this,!0),this):b(this,"Month")}function $(){return E(this.year(),this.month())}function R(t){var e,n=t._a;return n&&-2===t._pf.overflow&&(e=n[ti]<0||n[ti]>11?ti:n[ei]<1||n[ei]>E(n[Kn],n[ti])?ei:n[ni]<0||n[ni]>24||24===n[ni]&&(0!==n[ii]||0!==n[ri]||0!==n[si])?ni:n[ii]<0||n[ii]>59?ii:n[ri]<0||n[ri]>59?ri:n[si]<0||n[si]>999?si:-1,t._pf._overflowDayOfYear&&(Kn>e||e>ei)&&(e=ei),t._pf.overflow=e),t}function B(e){t.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function Q(t,e){var n=!0;return o(function(){return n&&(B(t),n=!1),e.apply(this,arguments)},e)}function X(t,e){ui[t]||(B(e),ui[t]=!0)}function K(t){var e,n,i=t._i,r=di.exec(i);if(r){for(t._pf.iso=!0,e=0,n=li.length;n>e;e++)if(li[e][1].exec(i)){t._f=li[e][0]+(r[6]||" ");break}for(e=0,n=fi.length;n>e;e++)if(fi[e][1].exec(i)){t._f+=fi[e][0];break}i.match($n)&&(t._f+="Z"),gt(t)}else t._isValid=!1}function tt(e){var n=ci.exec(e._i);return null!==n?void(e._d=new Date(+n[1])):(K(e),void(e._isValid===!1&&(delete e._isValid,t.createFromInputFallback(e))))}function et(t,e,n,i,r,s,a){var o=new Date(t,e,n,i,r,s,a);return 1970>t&&o.setFullYear(t),o}function nt(t){var e=new Date(Date.UTC.apply(null,arguments));return 1970>t&&e.setUTCFullYear(t),e}function it(t){return rt(t)?366:365}function rt(t){return t%4===0&&t%100!==0||t%400===0}function st(){return rt(this.year())}function at(t,e,n){var i=n-e,r=n-t.day(),s;return r>i&&(r-=7),i-7>r&&(r+=7),s=Tt(t).add(r,"d"),{week:Math.ceil(s.dayOfYear()/7),year:s.year()}}function ot(t){return at(t,this._week.dow,this._week.doy).week}function ut(){return this._week.dow}function dt(){return this._week.doy}function lt(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function ft(t){var e=at(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function ct(t,e,n,i,r){var s=nt(t,0,1).getUTCDay(),a,o;return s=0===s?7:s,n=null!=n?n:r,a=r-s+(s>i?7:0)-(r>s?7:0),o=7*(e-1)+(n-r)+a+1,{year:o>0?t:t-1,dayOfYear:o>0?o:it(t-1)+o}}function ht(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function mt(t,e,n){return null!=t?t:null!=e?e:n}function _t(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function yt(t){var e,n,i=[],r,s;if(!t._d){for(r=_t(t),t._w&&null==t._a[ei]&&null==t._a[ti]&&pt(t),t._dayOfYear&&(s=mt(t._a[Kn],r[Kn]),t._dayOfYear>it(s)&&(t._pf._overflowDayOfYear=!0),n=nt(s,0,t._dayOfYear),t._a[ti]=n.getUTCMonth(),t._a[ei]=n.getUTCDate()),e=0;3>e&&null==t._a[e];++e)t._a[e]=i[e]=r[e];for(;7>e;e++)t._a[e]=i[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[ni]&&0===t._a[ii]&&0===t._a[ri]&&0===t._a[si]&&(t._nextDay=!0,t._a[ni]=0),t._d=(t._useUTC?nt:et).apply(null,i),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[ni]=24)}}function pt(t){var e,n,i,r,s,a,o;e=t._w,null!=e.GG||null!=e.W||null!=e.E?(s=1,a=4,n=mt(e.GG,t._a[Kn],at(Tt(),1,4).year),i=mt(e.W,1),r=mt(e.E,1)):(s=t._locale._week.dow,a=t._locale._week.doy,n=mt(e.gg,t._a[Kn],at(Tt(),s,a).year),i=mt(e.w,1),null!=e.d?(r=e.d,s>r&&++i):r=null!=e.e?e.e+s:s),o=ct(n,i,r,a,s),t._a[Kn]=o.year,t._dayOfYear=o.dayOfYear}function gt(e){if(e._f===t.ISO_8601)return void K(e);e._a=[],e._pf.empty=!0;var n=""+e._i,i,r,s,a,o,u=n.length,d=0;for(s=L(e._f,e._locale).match(Pn)||[],i=0;i<s.length;i++)a=s[i],r=(n.match(H(a,e))||[])[0],r&&(o=n.substr(0,n.indexOf(r)),o.length>0&&e._pf.unusedInput.push(o),n=n.slice(n.indexOf(r)+r.length),d+=r.length),xn[a]?(r?e._pf.empty=!1:e._pf.unusedTokens.push(a),Z(a,r,e)):e._strict&&!r&&e._pf.unusedTokens.push(a);e._pf.charsLeftOver=u-d,n.length>0&&e._pf.unusedInput.push(n),e._pf.bigHour===!0&&e._a[ni]<=12&&(e._pf.bigHour=void 0),e._a[ni]=vt(e._locale,e._a[ni],e._meridiem),yt(e),R(e)}function vt(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?(i=t.isPM(n),i&&12>e&&(e+=12),i||12!==e||(e=0),e):e}function Dt(t){var e,i,r,s,a;if(0===t._f.length)return t._pf.invalidFormat=!0,void(t._d=new Date(0/0));for(s=0;s<t._f.length;s++)a=0,e=f({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._pf=n(),e._f=t._f[s],gt(e),d(e)&&(a+=e._pf.charsLeftOver,a+=10*e._pf.unusedTokens.length,e._pf.score=a,(null==r||r>a)&&(r=a,i=e));o(t,i||e)}function Mt(t){if(!t._d){var e=T(t._i);t._a=[e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],yt(t)}}function Yt(t){var e=t._i,n=t._f,r;return t._locale=t._locale||Y(t._l),null===e||void 0===n&&""===e?l({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),h(e)?new c(R(e)):(i(n)?Dt(t):n?gt(t):wt(t),r=new c(R(t)),r._nextDay&&(r.add(1,"d"),r._nextDay=void 0),r))}function wt(e){var n=e._i;void 0===n?e._d=new Date:r(n)?e._d=new Date(+n):"string"==typeof n?tt(e):i(n)?(e._a=s(n.slice(0),function(t){return parseInt(t,10)}),yt(e)):"object"==typeof n?Mt(e):"number"==typeof n?e._d=new Date(n):t.createFromInputFallback(e)}function kt(t,e,i,r,s){var a={};return"boolean"==typeof i&&(r=i,i=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=s,a._l=i,a._i=t,a._f=e,a._strict=r,a._pf=n(),Yt(a)}function Tt(t,e,n,i){return kt(t,e,n,i,!1)}function St(t,e){var n,r;if(1===e.length&&i(e[0])&&(e=e[0]),!e.length)return Tt();for(n=e[0],r=1;r<e.length;++r)e[r][t](n)&&(n=e[r]);return n}function bt(){var t=[].slice.call(arguments,0);return St("isBefore",t)}function Ot(){var t=[].slice.call(arguments,0);return St("isAfter",t)}function Ut(t){var e=T(t),n=e.year||0,i=e.quarter||0,r=e.month||0,s=e.week||0,a=e.day||0,o=e.hour||0,u=e.minute||0,d=e.second||0,l=e.millisecond||0;this._milliseconds=+l+1e3*d+6e4*u+36e5*o,this._days=+a+7*s,this._months=+r+3*i+12*n,this._data={},this._locale=Y(),this._bubble()}function Ct(t){return t instanceof Ut}function Wt(t,e){W(t,0,0,function(){var t=this.utcOffset(),n="+";return 0>t&&(t=-t,n="-"),n+C(~~(t/60),2)+e+C(~~t%60,2)})}function Gt(t){var e=(t||"").match($n)||[],n=e[e.length-1]||[],i=(n+"").match(pi)||["-",0,0],r=+(60*i[1])+m(i[2]);return"+"===i[0]?r:-r}function Pt(e,n){var i,s;return n._isUTC?(i=n.clone(),s=(h(e)||r(e)?+e:+Tt(e))-+i,i._d.setTime(+i._d+s),t.updateOffset(i,!1),i):Tt(e).local();return n._isUTC?Tt(e).zone(n._offset||0):Tt(e).local()}function Ft(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Lt(e,n){var i=this._offset||0,r;return null!=e?("string"==typeof e&&(e=Gt(e)),Math.abs(e)<16&&(e=60*e),!this._isUTC&&n&&(r=Ft(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),i!==e&&(!n||this._changeInProgress?Qt(this,qt(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?i:Ft(this)}function xt(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Ht(t){return this.utcOffset(0,t)}function It(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Ft(this),"m")),this}function At(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Gt(this._i)),this}function zt(t){return t=t?Tt(t).utcOffset():0,(this.utcOffset()-t)%60===0}function Zt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Et(){if(this._a){var t=this._isUTC?u(this._a):Tt(this._a);return this.isValid()&&_(this._a,t.toArray())>0}return!1}function jt(){return!this._isUTC}function Nt(){return this._isUTC}function Vt(){return this._isUTC&&0===this._offset}function qt(t,e){var n=t,i=null,r,s,o;return Ct(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(n={},e?n[e]=t:n.milliseconds=t):(i=gi.exec(t))?(r="-"===i[1]?-1:1,n={y:0,d:m(i[ei])*r,h:m(i[ni])*r,m:m(i[ii])*r,s:m(i[ri])*r,ms:m(i[si])*r}):(i=vi.exec(t))?(r="-"===i[1]?-1:1,n={y:Jt(i[2],r),M:Jt(i[3],r),d:Jt(i[4],r),h:Jt(i[5],r),m:Jt(i[6],r),s:Jt(i[7],r),w:Jt(i[8],r)}):null==n?n={}:"object"==typeof n&&("from"in n||"to"in n)&&(o=Rt(Tt(n.from),Tt(n.to)),n={},n.ms=o.milliseconds,n.M=o.months),s=new Ut(n),Ct(t)&&a(t,"_locale")&&(s._locale=t._locale),s}function Jt(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function $t(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Rt(t,e){var n;return e=Pt(e,t),t.isBefore(e)?n=$t(t,e):(n=$t(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function Bt(t,e){return function(n,i){var r,s;return null===i||isNaN(+i)||(X(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),s=n,n=i,i=s),n="string"==typeof n?+n:n,r=qt(n,i),Qt(this,r,t),this}}function Qt(e,n,i,r){var s=n._milliseconds,a=n._days,o=n._months;r=null==r?!0:r,s&&e._d.setTime(+e._d+s*i),a&&O(e,"Date",b(e,"Date")+a*i),o&&q(e,b(e,"Month")+o*i),r&&t.updateOffset(e,a||o)}function Xt(t){var e=t||Tt(),n=Pt(e,this).startOf("day"),i=this.diff(n,"days",!0),r=-6>i?"sameElse":-1>i?"lastWeek":0>i?"lastDay":1>i?"sameDay":2>i?"nextDay":7>i?"nextWeek":"sameElse";return this.format(this.localeData().calendar(r,this,Tt(e)))}function Kt(){return new c(this)}function te(t,e){var n;return e=k("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=h(t)?t:Tt(t),+this>+t):(n=h(t)?+t:+Tt(t),n<+this.clone().startOf(e))}function ee(t,e){var n;return e=k("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=h(t)?t:Tt(t),+t>+this):(n=h(t)?+t:+Tt(t),+this.clone().endOf(e)<n)}function ne(t,e,n){return this.isAfter(t,n)&&this.isBefore(e,n)}function ie(t,e){var n;return e=k(e||"millisecond"),"millisecond"===e?(t=h(t)?t:Tt(t),+this===+t):(n=+Tt(t),+this.clone().startOf(e)<=n&&n<=+this.clone().endOf(e))}function re(t){return 0>t?Math.ceil(t):Math.floor(t)}function se(t,e,n){var i=Pt(t,this),r=6e4*(i.utcOffset()-this.utcOffset()),s,a;return e=k(e),"year"===e||"month"===e||"quarter"===e?(a=ae(this,i),"quarter"===e?a/=3:"year"===e&&(a/=12)):(s=this-i,a="second"===e?s/1e3:"minute"===e?s/6e4:"hour"===e?s/36e5:"day"===e?(s-r)/864e5:"week"===e?(s-r)/6048e5:s),n?a:re(a)}function ae(t,e){var n=12*(e.year()-t.year())+(e.month()-t.month()),i=t.clone().add(n,"months"),r,s;return 0>e-i?(r=t.clone().add(n-1,"months"),s=(e-i)/(i-r)):(r=t.clone().add(n+1,"months"),s=(e-i)/(r-i)),-(n+s)}function oe(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ue(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():F(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):F(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function de(e){var n=F(this,e||t.defaultFormat);return this.localeData().postformat(n)}function le(t,e){return qt({to:this,from:t}).locale(this.locale()).humanize(!e)}function fe(t){return this.from(Tt(),t)}function ce(t){var e;return void 0===t?this._locale._abbr:(e=Y(t),null!=e&&(this._locale=e),this)}function he(){return this._locale}function me(t){switch(t=k(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function _e(t){return t=k(t),void 0===t||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")}function ye(){return+this._d-6e4*(this._offset||0)}function pe(){return Math.floor(+this/1e3)}function ge(){return this._offset?new Date(+this):this._d}function ve(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function De(){return d(this)}function Me(){return o({},this._pf)}function Ye(){return this._pf.overflow}function we(t,e){W(0,[t,t.length],0,e)}function ke(t,e,n){return at(Tt([t,11,31+e-n]),e,n).week}function Te(t){var e=at(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==t?e:this.add(t-e,"y")}function Se(t){var e=at(this,1,4).year;return null==t?e:this.add(t-e,"y")}function be(){return ke(this.year(),1,4)}function Oe(){var t=this.localeData()._week;return ke(this.year(),t.dow,t.doy)}function Ue(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Ce(t,e){if("string"==typeof t)if(isNaN(t)){if(t=e.weekdaysParse(t),"number"!=typeof t)return null}else t=parseInt(t,10);return t}function We(t){return this._weekdays[t.day()]}function Ge(t){return this._weekdaysShort[t.day()]}function Pe(t){return this._weekdaysMin[t.day()]}function Fe(t){var e,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;7>e;e++)if(this._weekdaysParse[e]||(n=Tt([2e3,1]).day(e),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[e]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e}function Le(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Ce(t,this.localeData()),this.add(t-e,"d")):e}function xe(t){var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function He(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)}function Ie(t,e){W(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Ae(t,e){return e._meridiemParse}function ze(t){return"p"===(t+"").toLowerCase().charAt(0)}function Ze(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}function Ee(t){W(0,[t,3],0,"millisecond")}function je(){return this._isUTC?"UTC":""}function Ne(){return this._isUTC?"Coordinated Universal Time":""}function Ve(t){return Tt(1e3*t)}function qe(){return Tt.apply(null,arguments).parseZone()}function Je(t,e,n){var i=this._calendar[t];return"function"==typeof i?i.call(e,n):i}function $e(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e}function Re(){return this._invalidDate}function Be(t){return this._ordinal.replace("%d",t)}function Qe(t){return t}function Xe(t,e,n,i){var r=this._relativeTime[n];return"function"==typeof r?r(t,e,n,i):r.replace(/%d/i,t)}function Ke(t,e){var n=this._relativeTime[t>0?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)}function tn(t){var e,n;for(n in t)e=t[n],"function"==typeof e?this[n]=e:this["_"+n]=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function en(t,e,n,i){var r=Y(),s=u().set(i,e);return r[n](s,t)}function nn(t,e,n,i,r){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return en(t,e,n,r);var s,a=[];for(s=0;i>s;s++)a[s]=en(t,s,n,r);return a}function rn(t,e){return nn(t,e,"months",12,"month")}function sn(t,e){return nn(t,e,"monthsShort",12,"month")}function an(t,e){return nn(t,e,"weekdays",7,"day")}function on(t,e){return nn(t,e,"weekdaysShort",7,"day")}function un(t,e){return nn(t,e,"weekdaysMin",7,"day")}function dn(){var t=this._data;return this._milliseconds=Zi(this._milliseconds),this._days=Zi(this._days),this._months=Zi(this._months),t.milliseconds=Zi(t.milliseconds),t.seconds=Zi(t.seconds),t.minutes=Zi(t.minutes),t.hours=Zi(t.hours),t.months=Zi(t.months),t.years=Zi(t.years),this}function ln(t,e,n,i){var r=qt(e,n);return t._milliseconds+=i*r._milliseconds,t._days+=i*r._days,t._months+=i*r._months,t._bubble()}function fn(t,e){return ln(this,t,e,1)}function cn(t,e){return ln(this,t,e,-1)}function hn(){var t=this._milliseconds,e=this._days,n=this._months,i=this._data,r,s,a,o=0;return i.milliseconds=t%1e3,r=re(t/1e3),i.seconds=r%60,s=re(r/60),i.minutes=s%60,a=re(s/60),i.hours=a%24,e+=re(a/24),o=re(mn(e)),e-=re(_n(o)),n+=re(e/30),e%=30,o+=re(n/12),n%=12,i.days=e,i.months=n,i.years=o,this}function mn(t){return 400*t/146097}function _n(t){return 146097*t/400}function yn(t){var e,n,i=this._milliseconds;if(t=k(t),"month"===t||"year"===t)return e=this._days+i/864e5,n=this._months+12*mn(e),"month"===t?n:n/12;switch(e=this._days+Math.round(_n(this._months/12)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 24*e*60+i/6e4;case"second":return 24*e*60*60+i/1e3;case"millisecond":return Math.floor(24*e*60*60*1e3)+i;default:throw new Error("Unknown unit "+t)}}function pn(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*m(this._months/12)}function gn(t){return function(){return this.as(t)}}function vn(t){return t=k(t),this[t+"s"]()}function Dn(t){return function(){return this._data[t]}}function Mn(){return re(this.days()/7)}function Yn(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}function wn(t,e,n){var i=qt(t).abs(),r=ir(i.as("s")),s=ir(i.as("m")),a=ir(i.as("h")),o=ir(i.as("d")),u=ir(i.as("M")),d=ir(i.as("y")),l=r<rr.s&&["s",r]||1===s&&["m"]||s<rr.m&&["mm",s]||1===a&&["h"]||a<rr.h&&["hh",a]||1===o&&["d"]||o<rr.d&&["dd",o]||1===u&&["M"]||u<rr.M&&["MM",u]||1===d&&["y"]||["yy",d];return l[2]=e,l[3]=+t>0,l[4]=n,Yn.apply(null,l)}function kn(t,e){return void 0===rr[t]?!1:void 0===e?rr[t]:(rr[t]=e,!0)}function Tn(t){var e=this.localeData(),n=wn(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)}function Sn(){var t=sr(this.years()),e=sr(this.months()),n=sr(this.days()),i=sr(this.hours()),r=sr(this.minutes()),s=sr(this.seconds()+this.milliseconds()/1e3),a=this.asSeconds();return a?(0>a?"-":"")+"P"+(t?t+"Y":"")+(e?e+"M":"")+(n?n+"D":"")+(i||r||s?"T":"")+(i?i+"H":"")+(r?r+"M":"")+(s?s+"S":""):"P0D"}var bn,On=t.momentProperties=[],Un=!1,Cn={},Wn,Gn={},Pn=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Fn=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ln={},xn={},Hn=/\d/,In=/\d\d/,An=/\d{3}/,zn=/\d{4}/,Zn=/[+-]?\d{6}/,En=/\d\d?/,jn=/\d{1,3}/,Nn=/\d{1,4}/,Vn=/[+-]?\d{1,6}/,qn=/\d+/,Jn=/[+-]?\d+/,$n=/Z|[+-]\d\d:?\d\d/gi,Rn=/[+-]?\d+(\.\d{1,3})?/,Bn=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Qn={},Xn={},Kn=0,ti=1,ei=2,ni=3,ii=4,ri=5,si=6;W("M",["MM",2],"Mo",function(){return this.month()+1}),W("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),W("MMMM",0,0,function(t){return this.localeData().months(this,t)}),w("month","M"),x("M",En),x("MM",En,In),x("MMM",Bn),x("MMMM",Bn),A(["M","MM"],function(t,e){e[ti]=m(t)-1}),A(["MMM","MMMM"],function(t,e,n,i){var r=n._locale.monthsParse(t,i,n._strict);null!=r?e[ti]=r:n._pf.invalidMonth=t});var ai="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),oi="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ui={};t.suppressDeprecationWarnings=!1;var di=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,li=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],fi=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],ci=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=Q("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),W(0,["YY",2],0,function(){return this.year()%100}),W(0,["YYYY",4],0,"year"),W(0,["YYYYY",5],0,"year"),W(0,["YYYYYY",6,!0],0,"year"),w("year","y"),x("Y",Jn),x("YY",En,In),x("YYYY",Nn,zn),x("YYYYY",Vn,Zn),x("YYYYYY",Vn,Zn),A(["YYYY","YYYYY","YYYYYY"],Kn),A("YY",function(e,n){n[Kn]=t.parseTwoDigitYear(e)}),t.parseTwoDigitYear=function(t){return m(t)+(m(t)>68?1900:2e3)};var hi=S("FullYear",!1);W("w",["ww",2],"wo","week"),W("W",["WW",2],"Wo","isoWeek"),w("week","w"),w("isoWeek","W"),x("w",En),x("ww",En,In),x("W",En),x("WW",En,In),z(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=m(t)});var mi={dow:0,doy:6};W("DDD",["DDDD",3],"DDDo","dayOfYear"),w("dayOfYear","DDD"),x("DDD",jn),x("DDDD",An),A(["DDD","DDDD"],function(t,e,n){n._dayOfYear=m(t)}),t.ISO_8601=function(){};var _i=Q("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var t=Tt.apply(null,arguments);return this>t?this:t}),yi=Q("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var t=Tt.apply(null,arguments);return t>this?this:t});Wt("Z",":"),Wt("ZZ",""),x("Z",$n),x("ZZ",$n),A(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Gt(t)});var pi=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var gi=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,vi=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;qt.fn=Ut.prototype;var Di=Bt(1,"add"),Mi=Bt(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Yi=Q("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});W(0,["gg",2],0,function(){return this.weekYear()%100}),W(0,["GG",2],0,function(){return this.isoWeekYear()%100}),we("gggg","weekYear"),we("ggggg","weekYear"),we("GGGG","isoWeekYear"),we("GGGGG","isoWeekYear"),w("weekYear","gg"),w("isoWeekYear","GG"),x("G",Jn),x("g",Jn),x("GG",En,In),x("gg",En,In),x("GGGG",Nn,zn),x("gggg",Nn,zn),x("GGGGG",Vn,Zn),x("ggggg",Vn,Zn),z(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=m(t)}),z(["gg","GG"],function(e,n,i,r){n[r]=t.parseTwoDigitYear(e)}),W("Q",0,0,"quarter"),w("quarter","Q"),x("Q",Hn),A("Q",function(t,e){e[ti]=3*(m(t)-1)}),W("D",["DD",2],"Do","date"),w("date","D"),x("D",En),x("DD",En,In),x("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),A(["D","DD"],ei),A("Do",function(t,e){e[ei]=m(t.match(En)[0],10)});var wi=S("Date",!0);W("d",0,"do","day"),W("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),W("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),W("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),W("e",0,0,"weekday"),W("E",0,0,"isoWeekday"),w("day","d"),w("weekday","e"),w("isoWeekday","E"),x("d",En),x("e",En),x("E",En),x("dd",Bn),x("ddd",Bn),x("dddd",Bn),z(["dd","ddd","dddd"],function(t,e,n){var i=n._locale.weekdaysParse(t);null!=i?e.d=i:n._pf.invalidWeekday=t}),z(["d","e","E"],function(t,e,n,i){e[i]=m(t)});var ki="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ti="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Si="Su_Mo_Tu_We_Th_Fr_Sa".split("_");W("H",["HH",2],0,"hour"),W("h",["hh",2],0,function(){return this.hours()%12||12}),Ie("a",!0),Ie("A",!1),w("hour","h"),x("a",Ae),x("A",Ae),x("H",En),x("h",En),x("HH",En,In),x("hh",En,In),A(["H","HH"],ni),A(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),A(["h","hh"],function(t,e,n){e[ni]=m(t),n._pf.bigHour=!0});var bi=/[ap]\.?m?\.?/i,Oi=S("Hours",!0);W("m",["mm",2],0,"minute"),w("minute","m"),x("m",En),x("mm",En,In),A(["m","mm"],ii);var Ui=S("Minutes",!1);W("s",["ss",2],0,"second"),w("second","s"),x("s",En),x("ss",En,In),A(["s","ss"],ri);var Ci=S("Seconds",!1);W("S",0,0,function(){return~~(this.millisecond()/100)}),W(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Ee("SSS"),Ee("SSSS"),w("millisecond","ms"),x("S",jn,Hn),x("SS",jn,In),x("SSS",jn,An),x("SSSS",qn),A(["S","SS","SSS","SSSS"],function(t,e){e[si]=m(1e3*("0."+t))});var Wi=S("Milliseconds",!1);W("z",0,0,"zoneAbbr"),W("zz",0,0,"zoneName");var Gi=c.prototype;Gi.add=Di,Gi.calendar=Xt,Gi.clone=Kt,Gi.diff=se,Gi.endOf=_e,Gi.format=de,Gi.from=le,Gi.fromNow=fe,Gi.get=U,Gi.invalidAt=Ye,Gi.isAfter=te,Gi.isBefore=ee,Gi.isBetween=ne,Gi.isSame=ie,Gi.isValid=De,Gi.lang=Yi,Gi.locale=ce,Gi.localeData=he,Gi.max=yi,Gi.min=_i,Gi.parsingFlags=Me,Gi.set=U,Gi.startOf=me,Gi.subtract=Mi,Gi.toArray=ve,Gi.toDate=ge,Gi.toISOString=ue,Gi.toJSON=ue,Gi.toString=oe,Gi.unix=pe,Gi.valueOf=ye,Gi.year=hi,Gi.isLeapYear=st,Gi.weekYear=Te,Gi.isoWeekYear=Se,Gi.quarter=Gi.quarters=Ue,Gi.month=J,Gi.daysInMonth=$,Gi.week=Gi.weeks=lt,Gi.isoWeek=Gi.isoWeeks=ft,Gi.weeksInYear=Oe,Gi.isoWeeksInYear=be,Gi.date=wi,Gi.day=Gi.days=Le,Gi.weekday=xe,Gi.isoWeekday=He,Gi.dayOfYear=ht,Gi.hour=Gi.hours=Oi,Gi.minute=Gi.minutes=Ui,Gi.second=Gi.seconds=Ci,Gi.millisecond=Gi.milliseconds=Wi,Gi.utcOffset=Lt,Gi.utc=Ht,Gi.local=It,Gi.parseZone=At,Gi.hasAlignedHourOffset=zt,Gi.isDST=Zt,Gi.isDSTShifted=Et,Gi.isLocal=jt,Gi.isUtcOffset=Nt,Gi.isUtc=Vt,Gi.isUTC=Vt,Gi.zoneAbbr=je,Gi.zoneName=Ne,Gi.dates=Q("dates accessor is deprecated. Use date instead.",wi),Gi.months=Q("months accessor is deprecated. Use month instead",J),Gi.years=Q("years accessor is deprecated. Use year instead",hi),Gi.zone=Q("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",xt);var Pi=Gi,Fi={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Li={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},xi="Invalid date",Hi="%d",Ii=/\d{1,2}/,Ai={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},zi=y.prototype;zi._calendar=Fi,zi.calendar=Je,zi._longDateFormat=Li,zi.longDateFormat=$e,zi._invalidDate=xi,zi.invalidDate=Re,
zi._ordinal=Hi,zi.ordinal=Be,zi._ordinalParse=Ii,zi.preparse=Qe,zi.postformat=Qe,zi._relativeTime=Ai,zi.relativeTime=Xe,zi.pastFuture=Ke,zi.set=tn,zi.months=j,zi._months=ai,zi.monthsShort=N,zi._monthsShort=oi,zi.monthsParse=V,zi.week=ot,zi._week=mi,zi.firstDayOfYear=dt,zi.firstDayOfWeek=ut,zi.weekdays=We,zi._weekdays=ki,zi.weekdaysMin=Pe,zi._weekdaysMin=Si,zi.weekdaysShort=Ge,zi._weekdaysShort=Ti,zi.weekdaysParse=Fe,zi.isPM=ze,zi._meridiemParse=bi,zi.meridiem=Ze,D("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===m(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),t.lang=Q("moment.lang is deprecated. Use moment.locale instead.",D),t.langData=Q("moment.langData is deprecated. Use moment.localeData instead.",Y);var Zi=Math.abs,Ei=gn("ms"),ji=gn("s"),Ni=gn("m"),Vi=gn("h"),qi=gn("d"),Ji=gn("w"),$i=gn("M"),Ri=gn("y"),Bi=Dn("milliseconds"),Qi=Dn("seconds"),Xi=Dn("minutes"),Ki=Dn("hours"),tr=Dn("days"),er=Dn("months"),nr=Dn("years"),ir=Math.round,rr={s:45,m:45,h:22,d:26,M:11},sr=Math.abs,ar=Ut.prototype;ar.abs=dn,ar.add=fn,ar.subtract=cn,ar.as=yn,ar.asMilliseconds=Ei,ar.asSeconds=ji,ar.asMinutes=Ni,ar.asHours=Vi,ar.asDays=qi,ar.asWeeks=Ji,ar.asMonths=$i,ar.asYears=Ri,ar.valueOf=pn,ar._bubble=hn,ar.get=vn,ar.milliseconds=Bi,ar.seconds=Qi,ar.minutes=Xi,ar.hours=Ki,ar.days=tr,ar.weeks=Mn,ar.months=er,ar.years=nr,ar.humanize=Tn,ar.toISOString=Sn,ar.toString=Sn,ar.toJSON=Sn,ar.locale=ce,ar.localeData=he,ar.toIsoString=Q("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Sn),ar.lang=Yi,W("X",0,0,"unix"),W("x",0,0,"valueOf"),x("x",Jn),x("X",Rn),A("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),A("x",function(t,e,n){n._d=new Date(m(t))}),t.version="2.10.3",e(Tt),t.fn=Pi,t.min=bt,t.max=Ot,t.utc=u,t.unix=Ve,t.months=rn,t.isDate=r,t.locale=D,t.invalid=l,t.duration=qt,t.isMoment=h,t.weekdays=an,t.parseZone=qe,t.localeData=Y,t.isDuration=Ct,t.monthsShort=sn,t.weekdaysMin=un,t.defineLocale=M,t.weekdaysShort=on,t.normalizeUnits=k,t.relativeTimeThreshold=kn;var or=t;return or})}).call(this),function(){e=this.moment;try{delete this.moment}catch(t){}}.call(this),"undefined"==typeof Package&&(Package={}),Package["momentjs:moment"]={moment:e}}();

!function(){var t=Package.meteor.Meteor,e=Package["aldeed:simple-schema"].SimpleSchema,a=Package["aldeed:simple-schema"].MongoObject,n=Package.check.check,r=Package.check.Match,o=Package.ddp.DDP,u=Package.underscore._,i=Package.tracker.Tracker,s=Package.tracker.Deps,c=Package.templating.Template,l=Package.blaze.Blaze,p=Package.blaze.UI,f=Package.blaze.Handlebars,m=Package.ejson.EJSON,d=Package["reactive-var"].ReactiveVar,h=Package["reactive-dict"].ReactiveDict,b=Package.random.Random,k=Package["momentjs:moment"].moment,S=Package.htmljs.HTML,v,y,g,F,T,I,_,A,w,x,C,D,N,V,M,U,E,L,O;(function(){e.extendOptions({autoform:r.Optional(Object)})}).call(this),function(){y={componentTypeList:["afArrayField","afEachArrayItem","afFieldInput","afFormGroup","afObjectField","afQuickField","afQuickFields","autoForm","quickForm"],cleanNulls:function n(e,a,r){var o=a?[]:{};return u.each(e,function(e,a){!u.isArray(e)&&t(e)?(e=n(e,!1,r),u.isEmpty(e)||(o[a]=e)):u.isArray(e)?(e=n(e,!0,r),u.isEmpty(e)||(o[a]=e)):y.isNullUndefinedOrEmptyString(e)?r&&"string"==typeof e&&0===e.length&&(o[a]=e):o[a]=e}),o},reportNulls:function r(t,e){var a={};return u.each(t,function(t,n){null===t?a[n]="":void 0===t?a[n]="":e||"string"!=typeof t||0!==t.length?u.isArray(t)&&0===y.cleanNulls(t,!0,e).length&&(a[n]=""):a[n]=""}),a},docToModifier:function o(t,e){var n={},r,o,i;return e=e||{},r=new a(t),o=r.getFlatObject({keepArrays:!!e.keepArrays}),i=y.reportNulls(o,!!e.keepEmptyStrings),o=y.cleanNulls(o,!1,!!e.keepEmptyStrings),u.isEmpty(o)||(n.$set=o),u.isEmpty(i)||(n.$unset=i),n},getSelectValues:function i(t){for(var e=[],a=t&&t.options||[],n,r=0,o=a.length;o>r;r++)n=a[r],n.selected&&e.push(n.value||n.text);return e},getSelectOptions:function s(t,e){var a=t.type,n=e.options;return"allowed"===n?n=u.map(t.allowedValues,function(t){var n=t;return e.capitalize&&t.length>0&&a===String&&(n=t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()),{label:n,value:t}}):u.isObject(n)&&!u.isArray(n)&&(n=u.map(n,function(t,e){return{label:t,value:a(e)}})),n},lookup:function c(t){var e=window,a;if("string"==typeof t){for(a=t.split(".");a.length&&(e=e[a.shift()]););if(!e)throw new Error(t+" is not in the window scope");return e}return t},getDefs:function l(t,e){if("string"!=typeof e)throw new Error("Invalid field name: (not a string)");var a=t.schema(e);if(!a)throw new Error("Invalid field name: "+e);return a},objAffectsKey:function p(t,e){var n=new a(t);return n.affectsKey(e)},expandObj:function f(t){var e={},a,n,r,o,i;return u.each(t,function(t,s){a=s.split("."),r=a.length,i=e;for(var c=0;r>c&&(n=a[c],"undefined"==typeof i[n]||u.isObject(i[n]));c++)c===r-1?i[n]=t:(o=a[c+1],o=parseInt(o,10),isNaN(o)&&!u.isObject(i[n])?i[n]={}:isNaN(o)||u.isArray(i[n])||(i[n]=[])),i=i[n]}),e},compactArrays:function m(t){u.isObject(t)&&u.each(t,function(e,a){u.isArray(e)?(t[a]=u.without(e,void 0,null),u.each(t[a],function(t){m(t)})):e instanceof Date||!u.isObject(e)||m(e)})},bubbleEmpty:function d(e,a){u.isObject(e)&&u.each(e,function(n,r){if(u.isArray(n))u.each(n,function(t){d(t)});else if(t(n)){var o=u.all(n,function(t){return void 0===t||null===t||!a&&"string"==typeof t&&0===t.length});u.isEmpty(n)||o?e[r]=null:d(n)}})},isNullUndefinedOrEmptyString:function h(t){return void 0===t||null===t||"string"==typeof t&&0===t.length},isValidDateString:function b(t){var e=k(t,"YYYY-MM-DD",!0);return e&&e.isValid()},isValidTimeString:function S(t){if("string"!=typeof t)return!1;var e=/^[0-2][0-9]:[0-5][0-9](:[0-5][0-9](\.[0-9]{1,3})?)?$/;return e.test(t)},dateToDateString:function g(t){return k(t).format("YYYY-MM-DD")},dateToDateStringUTC:function F(t){return k.utc(t).format("YYYY-MM-DD")},dateToNormalizedForcedUtcGlobalDateAndTimeString:function T(t){return k(t).utc().format("YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},isValidNormalizedForcedUtcGlobalDateAndTimeString:function I(t){if("string"!=typeof t)return!1;var e=t.substring(0,10),a=t.substring(10,11),n=t.substring(11,t.length-1),r=t.substring(t.length-1);return y.isValidDateString(e)&&"T"===a&&y.isValidTimeString(n)&&"Z"===r},dateToNormalizedLocalDateAndTimeString:function _(t,e){var a=k(t);if("string"==typeof e){if("function"!=typeof a.tz)throw new Error("If you specify a timezoneId, make sure that you've added a moment-timezone package to your app");a.tz(e)}return a.format("YYYY-MM-DD[T]HH:mm:ss.SSS")},isValidNormalizedLocalDateAndTimeString:function A(t){if("string"!=typeof t)return!1;var e=t.substring(0,10),a=t.substring(10,11),n=t.substring(11,t.length);return y.isValidDateString(e)&&"T"===a&&y.isValidTimeString(n)},getComponentContext:function w(t,e){var a,n,r,o,i,s;a=u.clone(t||{}),s=v.getFormSchema(),n=y.getDefs(s,a.name),r=v.findAttributesWithPrefix(e+"-"),o=u.clone(n.autoform)||{},i=o[e]||{},o=u.omit(o,y.componentTypeList),o=u.extend({},o,i),a=u.extend({},r,o,a);var c={};return u.each(a,function(t,e){c[e]="function"==typeof t?t.call({name:a.name}):t}),{atts:c,defs:n}},stringToArray:function x(t,e){if("string"==typeof t)return t.replace(/ /g,"").split(",");if(u.isArray(t))return t;throw new Error(e)},stringToBool:function C(t){if("string"==typeof t&&t.length>0){var e=t.toLowerCase();if("true"===e||"1"===e)return!0;if("false"===e||"0"===e)return!1}return t},stringToNumber:function D(t){if("string"==typeof t&&t.length>0){var e=Number(t);if(!isNaN(e))return e}return t},stringToDate:function N(t){return"string"==typeof t&&t.length>0?new Date(t):t},addClass:function V(t,e){return"string"==typeof t["class"]?t["class"]+=" "+e:t["class"]=e,t}},"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"==typeof"".__proto__?function(t){return t.__proto__}:function(t){return t.constructor.prototype});var t=function(t){return u.isObject(t)&&Object.getPrototypeOf(t)===Object.prototype};"function"!=typeof e.prototype.getAllowedValuesForKey&&(e.prototype.getAllowedValuesForKey=function(t){var e=this.getDefinition(t,["type","allowedValues"]);return e.type===Array&&(e=this.getDefinition(t+".$",["allowedValues"])),e.allowedValues})}.call(this),function(){g=function t(e){var a=this;if(!u.isString(e))throw Error("You must define an unique migration name of type String");if(a.registeredForms={},a.retrievedDocuments={},Package.reload){var n=Package.reload.Reload;a.retrievedDocuments=n._migrationData(e)||"{}","string"==typeof a.retrievedDocuments&&(a.retrievedDocuments=m.parse(a.retrievedDocuments)),n._onMigrate(e,function(){var t=a._retrieveRegisteredDocuments();return[!0,m.stringify(t)]})}},g.prototype.getDocument=function(t){var e=this,a;return u.has(e.retrievedDocuments,t)?e.retrievedDocuments[t]:!1},g.prototype.clearDocument=function(t){delete this.retrievedDocuments[t]},g.prototype.registerForm=function(t,e){this.registeredForms[t]=e},g.prototype.formIsRegistered=function(t){return!!this.registeredForms[t]},g.prototype.unregisterForm=function(t){delete this.registeredForms[t],delete this.retrievedDocuments[t]},g.prototype.unregisterAllForms=function(){var t=this;t.registeredForms={},t.retrievedDocuments={}},g.prototype._retrieveRegisteredDocuments=function(){var t=this;return F={},u.each(t.registeredForms,function(t,e){F[e]=t()}),F}}.call(this),function(){T={form:{},global:{before:{},after:{},formToDoc:[],docToForm:[],onSubmit:[],onSuccess:[],onError:[],beginSubmit:[],endSubmit:[]}},T.addHooksToList=function t(e,a,n){a.before&&u.each(a.before,function r(t,a){if("function"!=typeof t)throw new Error("AutoForm before hook must be a function, not "+typeof t);e.before[a]=!n&&e.before[a]?e.before[a]:[],e.before[a].push(t)}),a.after&&u.each(a.after,function o(t,a){if("function"!=typeof t)throw new Error("AutoForm after hook must be a function, not "+typeof t);e.after[a]=!n&&e.after[a]?e.after[a]:[],e.after[a].push(t)}),u.each(["formToDoc","docToForm","onSubmit","onSuccess","onError","beginSubmit","endSubmit"],function i(t){if(a[t]){if("function"!=typeof a[t])throw new Error("AutoForm "+t+" hook must be a function, not "+typeof a[t]);n&&(e[t]=[]),e[t].push(a[t])}})},T.getHooks=function e(t,a,n){var r,o;return n?(r=T.form[t]&&T.form[t][a]&&T.form[t][a][n]||[],o=T.global[a]&&T.global[a][n]||[]):(r=T.form[t]&&T.form[t][a]||[],o=T.global[a]||[]),r.concat(o)}}.call(this),function(){I=function(){var t=this;t.forms={}},I.prototype.initForm=function(t){var e=this;e.forms[t]||(e.forms[t]={sourceDoc:null,deps:{sourceDoc:new i.Dependency}})},I.prototype.sourceDoc=function(t,e){var a=this;return a.initForm(t),e?(a.forms[t].sourceDoc=e,void a.forms[t].deps.sourceDoc.changed()):(a.forms[t].deps.sourceDoc.depend(),a.forms[t].sourceDoc)}}.call(this),function(){_=function a(){var t=this;t.info={}},_.prototype.getMinMax=function n(t,e,a,r){var o=v.Utility.getDefs(t,e);a=a||0;var u=o.minCount||0;u=Math.max(a,u),r=r||1/0;var i=o.maxCount||1/0;return i=Math.min(r,i),{minCount:u,maxCount:i}},_.prototype.initForm=function r(t){var e=this;e.info[t]||(e.info[t]={})},_.prototype.getForm=function o(t){var e=this;return e.initForm(t),e.info[t]},_.prototype.ensureField=function s(t,e){var a=this;a.initForm(t),a.info[t][e]||a.resetField(t,e)},_.prototype.initField=function c(a,n,r,o,u,i){var s=this;if(s.ensureField(a,n),null==s.info[a][n].array){var c=s.getMinMax(r,n,u,i),l=Math.max(c.minCount,null==o?1:o),p=[];r.schema(n+".$").type===Object&&(p=r.objectKeys(e._makeGeneric(n)+".$"));for(var f=[],m=0;l>m;m++){var d=t(a,n,m,p,u,i);f.push(d)}s.info[a][n].array=f;var h=f.length;s.info[a][n].count=h,s.info[a][n].visibleCount=h,s.info[a][n].deps.changed()}},_.prototype.resetField=function l(t,e){var a=this;a.initForm(t),a.info[t][e]||(a.info[t][e]={deps:new i.Dependency}),a.info[t][e].array=null,a.info[t][e].count=0,a.info[t][e].visibleCount=0,a.info[t][e].deps.changed()},_.prototype.resetForm=function p(t){var e=this;u.each(e.info[t],function(a,n){e.resetField(t,n)})},_.prototype.untrackForm=function f(t){var e=this;e.info[t]={}},_.prototype.tracksField=function m(t,e){var a=this;return a.ensureField(t,e),a.info[t][e].deps.depend(),!!a.info[t][e].array},_.prototype.getField=function d(t,e){var a=this;return a.ensureField(t,e),a.info[t][e].deps.depend(),a.info[t][e].array},_.prototype.getCount=function h(t,e){var a=this;return a.ensureField(t,e),a.info[t][e].deps.depend(),a.info[t][e].count},_.prototype.getVisibleCount=function b(t,e){var a=this;return a.ensureField(t,e),a.info[t][e].deps.depend(),a.info[t][e].visibleCount},_.prototype.isFirstFieldlVisible=function k(t,e,a){var n=this;n.ensureField(t,e),n.info[t][e].deps.depend();var r=u.find(n.info[t][e].array,function(t){return!t.removed});return r&&r.index===a},_.prototype.isLastFieldlVisible=function S(t,e,a){var n=this;n.ensureField(t,e),n.info[t][e].deps.depend();var r=u.last(u.filter(n.info[t][e].array,function(t){return!t.removed}));return r&&r.index===a},_.prototype.addOneToField=function y(a,n,r,o,u){var i=this;if(i.ensureField(a,n),i.info[a][n].array){var s=i.info[a][n].visibleCount,c=i.getMinMax(r,n,o,u).maxCount;if(c>s){var l=i.info[a][n].array.length,p=[];r.schema(n+".$").type===Object&&(p=r.objectKeys(e._makeGeneric(n)+".$"));var f=t(a,n,l,p,o,u);i.info[a][n].array.push(f),i.info[a][n].count++,i.info[a][n].visibleCount++,i.info[a][n].deps.changed()}}},_.prototype.removeFromFieldAtIndex=function g(t,e,a,n,r,o){var u=this;if(u.ensureField(t,e),u.info[t][e].array){var i=u.info[t][e].visibleCount,s=u.getMinMax(n,e,r,o).minCount;i>s&&(u.info[t][e].array[a].removed=!0,u.info[t][e].count--,u.info[t][e].visibleCount--,u.info[t][e].deps.changed())}};var t=function(t,e,a,n,r,o){var i={formId:t,arrayFieldName:e,name:e+"."+a,index:a,minCount:r,maxCount:o};return n.length&&(i.current={},u.each(n,function(t){i.current[t]=e+"."+a+"."+t})),i}}.call(this),function(){v=v||{},v.formPreserve=new g("autoforms"),v.reactiveFormData=new I,v._inputTypeDefinitions={},v._formTypeDefinitions={},A=new _,v._destroyForm={},w="bootstrap3",x={},C={defaultTemplate:new i.Dependency,defaultTypeTemplates:{}}}.call(this),function(){function t(t){var e=(t||{}).hash||{},a=v.getFormSchema();return e.name&&v.Utility.getDefs(a,e.name),u.extend({},e,{ss:a})}c.registerHelper("afFieldMessage",function a(e){e=t(e,"afFieldMessage");var a=v.getFormId();return e.ss.namedContext(a).keyErrorMessage(e.name)}),c.registerHelper("afFieldIsInvalid",function n(e){e=t(e,"afFieldIsInvalid");var a=v.getFormId();return e.ss.namedContext(a).keyIsInvalid(e.name)}),c.registerHelper("afArrayFieldHasMoreThanMinimum",function r(e){e=t(e,"afArrayFieldHasMoreThanMinimum");var a=v.getCurrentDataPlusExtrasForForm();if(a.formTypeDef.hideArrayItemButtons)return!1;var n=A.getMinMax(e.ss,e.name,e.minCount,e.maxCount),r=A.getVisibleCount(a.id,e.name);return r>n.minCount}),c.registerHelper("afArrayFieldHasLessThanMaximum",function o(e){e=t(e,"afArrayFieldHasLessThanMaximum");var a=v.getCurrentDataPlusExtrasForForm();if(a.formTypeDef.hideArrayItemButtons)return!1;var n=A.getMinMax(e.ss,e.name,e.minCount,e.maxCount),r=A.getVisibleCount(a.id,e.name);return r<n.maxCount}),c.registerHelper("afFieldValueIs",function i(e){e=t(e,"afFieldValueIs");var a=v.getFieldValue(e.name,e.formId);return a===e.value}),c.registerHelper("afArrayFieldIsFirstVisible",function s(){var t=this;return A.isFirstFieldlVisible(t.formId,t.arrayFieldName,t.index)}),c.registerHelper("afArrayFieldIsLastVisible",function l(){var t=this;return A.isLastFieldlVisible(t.formId,t.arrayFieldName,t.index)}),c.registerHelper("afFieldValueContains",function p(e){e=t(e,"afFieldValueContains");var a=v.getFieldValue(e.name,e.formId);return u.isArray(a)&&(u.contains(a,e.value)||e.values&&u.intersection(a,e.values.split(",")))}),c.registerHelper("afFieldLabelText",function f(e){return e=t(e,"afFieldLabelText"),v.getLabelForField(e.name)}),c.registerHelper("afFieldNames",function m(a){a=t(a,"afFieldNames");var n=a.ss,r=a.name,o,i,s,c=v.getCurrentDataForForm();r&&(o=r+".",i=e._makeGeneric(r),s=i+".");var l=a.fields,p=!1;l&&(l=v.Utility.stringToArray(l,"AutoForm: fields attribute must be an array or a string containing a comma-delimited list of fields"));var f=v.findAttribute("fields");f&&(f=v.Utility.stringToArray(f,"AutoForm: fields attribute must be an array or a string containing a comma-delimited list of fields"),l||(l=f,p=!0)),l&&(r?(i!==r&&(l=u.map(l,function(t){return 0===t.indexOf(s)?o+t.slice(s.length):t})),l=u.filter(l,function d(t){return 0===t.indexOf(o)})):l=u.filter(l,function h(t){return".$"!==t.slice(-2)&&-1===t.indexOf(".$.")}),l=u.reject(l,function(t){var e=t.lastIndexOf(".");if(-1===e)return!1;var a=t.slice(0,e);return".$"===a.slice(-2)&&(a=a.slice(0,-2)),u.contains(l,a)&&a!==r&&a!==i})),(!l||0===l.length&&p)&&(l=n.objectKeys(i),r&&(l=u.map(l,function(t){return r+"."+t})));var m=a.omitFields||v.findAttribute("omitFields");return m&&(m=v.Utility.stringToArray(m,"AutoForm: omitFields attribute must be an array or a string containing a comma-delimited list of fields"),l=u.difference(l,m),l=u.reject(l,function(t){return u.contains(m,e._makeGeneric(t))})),l=u.filter(l,function b(t){var e=n.schema(t);return e.autoform&&e.autoform.omit===!0?!1:e.denyInsert&&"insert"===c.type?!1:e.denyUpdate&&"update"===c.type?!1:!0}),l=u.unique(l),l=u.map(l,function(t){return{name:t}})}),c.registerHelper("afSelectOptionAtts",function d(){var t=u.pick(this,"value");return this.selected&&(t.selected=""),this.htmlAtts&&u.extend(t,this.htmlAtts),t}),c.registerHelper("afOptionsFromSchema",function h(){return v._getOptionsForField(this.name)}),c.registerHelper("afTemplateName",function b(t,e){var a=this;return console.log("The afTemplateName template helper is deprecated. Use AutoForm.getTemplateName method in your own helper."),v.getTemplateName(t,e,a.atts&&a.atts.name)})}.call(this),function(){function t(t,e,a,n){var r,o;try{o=v.templateInstanceForForm(e)}catch(u){}if(o&&o.view._domrange&&!o.view.isDestroyed){var i=v.getCurrentDataForForm(e),s=v.getFormSchema(e);if(s&&(!n||!s.namedContext(e).isValid())){var c=v._formTypeDefinitions[i.type];if(!c)throw new Error('AutoForm: Form type "'+i.type+'" has not been defined');return r=v.getFormValues(e,o,s,!!c.usesModifier),a&&!v.Utility.objAffectsKey(r,t)?!0:v._validateFormDoc(r,!!c.usesModifier,e,s,i,t)}}}D=u.throttle(t,300)}.call(this),function(){N=function t(e,a){var n={};return e.each(function(){var t,e=v.getInputValue(this,a);void 0!==e&&(t=$(this).attr("data-schema-key"),n[t]=e)}),n},V=function e(t,a,n,r,o,i){if("undefined"==typeof a)if(n){var s=n.getInfoForKey(t.name);a=s?s.value:o}else a="undefined"!=typeof o?o:r;return a=null===a||void 0===a?"":a,i.valueIsArray&&!u.isArray(a)&&(a="string"==typeof a?a.split(","):[a]),"function"==typeof i.valueIn&&(a=i.valueIn(a,t)),a},M=function a(t,e,n,r,o){var i=u.omit(e,"type","value","noselect","options","template","defaultValue");"undefined"!=typeof i.required||t.optional||(i.required=""),i["data-schema-key"]=i.name,"schemaLabel"===e.placeholder&&(i.placeholder=r),u.each(["disabled","readonly","checked","required","autofocus"],function(t){u.has(e,t)&&(e[t]===!0||"true"===e[t]||""===e[t]?i[t]="":delete i[t])});var s={name:i.name,schemaType:t.type,min:"function"==typeof t.min?t.min():t.min,max:"function"==typeof t.max?t.max():t.max,decimal:t.decimal,value:n,atts:i,selectOptions:v.Utility.getSelectOptions(t,e)},c=v._formTypeDefinitions[o];if(!c)throw new Error('AutoForm: Form type "'+o+'" has not been defined');return"function"==typeof c.adjustInputContext&&(s=c.adjustInputContext(s)),s},U=function n(t,e){function a(){t.formValues=t.formValues||{},t.formValues[e]||(t.formValues[e]=new i.Dependency),t.formValues[e].changed()}a();for(var n=e.lastIndexOf(".");-1!==n;)e=e.slice(0,n),a(),n=e.lastIndexOf(".")},E=function r(t){t&&t.formValues&&u.each(t.formValues,function(e,a){U(t,a)})},L=function o(t){return t.$("[data-schema-key]").not("[disabled]")}}.call(this),function(){v=v||{},v.Utility=y,v.addHooks=function n(t,e,a){"string"==typeof t&&(t=[t]),t?u.each(t,function(t){T.form[t]=T.form[t]||{before:{},after:{},formToDoc:[],docToForm:[],onSubmit:[],onSuccess:[],onError:[],beginSubmit:[],endSubmit:[]},T.addHooksToList(T.form[t],e,a)}):T.addHooksToList(T.global,e,a)},v.hooks=function r(t,e){u.each(t,function(t,a){v.addHooks(a,t,e)})},v._hooks=T.form,v._globalHooks=T.global,v._forceResetFormValues=function o(t){v._destroyForm[t]=v._destroyForm[t]||new d(!1),v._destroyForm[t].set(!0),setTimeout(function(){v._destroyForm[t].set(!1)},0)},v.resetForm=function s(t,e){e=e||v.templateInstanceForForm(t),e&&e.view._domrange&&!e.view.isDestroyed&&e.$("form")[0].reset()},v.setDefaultTemplate=function p(t){w=t,C.defaultTemplate.changed()},v.getDefaultTemplate=function f(){return C.defaultTemplate.depend(),w},v.setDefaultTemplateForType=function m(t,e){if(C.defaultTypeTemplates[t]||(C.defaultTypeTemplates[t]=new i.Dependency),null!==e&&!c[t+"_"+e])throw new Error("setDefaultTemplateForType can't set default template to \""+e+'" for type "'+t+'" because there is no defined template with the name "'+t+"_"+e+'"');x[t]=e,C.defaultTypeTemplates[t].changed()},v.getDefaultTemplateForType=function h(t){return C.defaultTypeTemplates[t]||(C.defaultTypeTemplates[t]=new i.Dependency),C.defaultTypeTemplates[t].depend(),x[t]},v.getTemplateName=function b(t,e,a,n){function r(t){return!(!n&&!c[t])}var o,u,i;return e&&r(t+"_"+e)?t+"_"+e:(e&&v._debug&&console.warn(t+': "'+e+'" is not a valid template name. Falling back to a different template.'),"quickForm"!==t&&a&&(o=v.getSchemaForField(a).autoform),o&&o[t]&&o[t].template&&r(t+"_"+o[t].template)?t+"_"+o[t].template:o&&o.template&&r(t+"_"+o.template)?t+"_"+o.template:(u=v.findAttribute("template-"+t),u&&r(t+"_"+u)?t+"_"+u:(u=v.findAttribute("template"),u&&r(t+"_"+u)?t+"_"+u:(i=v.getDefaultTemplateForType(t),i&&r(t+"_"+i)?t+"_"+i:(i=v.getDefaultTemplate(),i&&r(t+"_"+i)?t+"_"+i:void 0)))))},v.getFormValues=function k(t,e,a,n){var r,o,i;if(e=e||v.templateInstanceForForm(t),!e||!e.view._domrange||e.view.isDestroyed)throw new Error("getFormValues: There is currently no autoForm template rendered for the form with id "+t);a=a||v.getFormSchema(t);var s=v.getCurrentDataForForm(t),c=!1;s.removeEmptyStrings===!1&&(c=!0);var l=!0;s.filter===!1&&(l=!1);var p=!0;s.autoConvert===!1&&(p=!1);var f=!0;s.trimStrings===!1&&(f=!1);var m=!0;s.setArrayItems===!0&&(m=!1);var d={template:e,formId:t,schema:a},h=N(L(e),a);return h=v.Utility.expandObj(h),v.Utility.bubbleEmpty(h,c),n!==!0&&(r=v.Utility.cleanNulls(h,!1,c),v.Utility.compactArrays(r),a.clean(r,{isModifier:!1,getAutoValues:!1,filter:l,autoConvert:p,trimStrings:f}),i=T.getHooks(t,"formToDoc"),u.each(i,function b(t){r=t.call(d,r,a)})),n!==!1&&(o=v.Utility.docToModifier(h,{keepEmptyStrings:c,keepArrays:m}),a.clean(o,{isModifier:!0,getAutoValues:!1,filter:l,autoConvert:p,trimStrings:f}),i=T.getHooks(t,"formToModifier"),u.each(i,function k(t){o=t.call(d,o)})),n===!0?o:n===!1?r:{insertDoc:r,updateDoc:o}},v.getFieldValue=function S(t,e){var n=v.templateInstanceForForm(e);if(n&&n.fieldValuesReady.get()&&n.view._domrange&&!n.view.isDestroyed){n.formValues=n.formValues||{},n.formValues[t]||(n.formValues[t]=new i.Dependency),n.formValues[t].depend();var r=v.getFormValues(e,n,null,!1),o=new a(r);return o.getValueForKey(t)}},v.getInputTypeTemplateNameForElement=function g(t){for(var e=l.getView(t);e&&"Template."!==e.name.slice(0,9);)e=e.originalParentView||e.parentView;if(!e)throw new Error("The element does not appear to be in a template view");return e.name.slice(9)},v.getInputValue=function F(t,e){var a,n,r,o,s,c,p,f,m;i.nonreactive(function(){f=l.getData(t),f&&f.atts&&(m=f.atts.autoConvert)}),a=$(t),n=a.attr("data-schema-key"),e&&(r=e.schema(n).type),p=v.getInputTypeTemplateNameForElement(t);var d=p.lastIndexOf("_");if(-1!==d&&(p=p.slice(0,d)),c=u.where(v._inputTypeDefinitions,{template:p})[0],s=void 0!==a.attr("data-null-value")?null:c&&c.valueOut?c.valueOut.call(a):a.val(),void 0!==s&&m!==!1&&c&&c.valueConverters&&r){var h;r===String?h=c.valueConverters.string:r===Number?h=c.valueConverters.number:r===Boolean?h=c.valueConverters["boolean"]:r===Date?h=c.valueConverters.date:r===Array&&(o=e.schema(n+".$").type,o===String?h=c.valueConverters.stringArray:o===Number?h=c.valueConverters.numberArray:o===Boolean?h=c.valueConverters.booleanArray:o===Date&&(h=c.valueConverters.dateArray)),"function"==typeof h&&(s=h.call(a,s))}return s},v.addInputType=function I(t,e){var a={};a[t]=e,u.extend(v._inputTypeDefinitions,a)},v.addFormType=function _(t,e){var a={};a[t]=e,u.extend(v._formTypeDefinitions,a)},v.validateField=function V(t,e,a){var n=v.templateInstanceForForm(t);if(!n||!n.view._domrange||n.view.isDestroyed)throw new Error("validateField: There is currently no autoForm template rendered for the form with id "+t);return D(e,t,a,!1)},v.validateForm=function M(t){var e=v.getCurrentDataForForm(t),a,n=e.type,r=v._formTypeDefinitions[n];if(!r)throw new Error('AutoForm: Form type "'+n+'" has not been defined');return a=r.needsModifierAndDoc?v.getFormValues(t,null,null):r.usesModifier?v.getFormValues(t,null,null,!0):v.getFormValues(t,null,null,!1),"none"===e.validation||r.validateForm.call({form:e,formDoc:a,useCollectionSchema:!1})},v.getValidationContext=function U(t){var e=v.getFormSchema(t);return e&&e.namedContext(t)},v.findAttribute=function E(t){function e(){r=l.getData(n),r&&r.atts&&void 0!==r.atts[t]?a=r.atts[t]:r&&void 0!==r[t]&&("template"===t&&"data"in r||(a=r[t]))}var a,n,r;for(n=l.currentView;void 0===a&&n&&"Template.autoForm"!==n.name;)e(),n=n.originalParentView||n.parentView;return void 0===a&&n&&"Template.autoForm"===n.name&&e(),a},v.findAttributesWithPrefix=function P(t){function e(){r=l.getData(n),o=r&&r.atts?r.atts:r,u.isObject(o)&&!u.isArray(o)&&u.each(o,function(e,n){0===n.indexOf(t)&&(a[n.slice(t.length)]=e)})}var a={},n,r,o;for(n=l.currentView;n&&"Template.autoForm"!==n.name;)e(),n=n.originalParentView||n.parentView;return n&&"Template.autoForm"===n.name&&e(),a},v.debug=function B(){e.debug=!0,v._debug=!0,v.addHooks(null,{onError:function(t,e){console.log("Error in "+this.formId,t,e)}})},v.arrayTracker=A,v.getInputType=function R(t){var e=!1,a,n,r;return t=v.Utility.getComponentContext(t,"afFieldInput").atts,t.type?t.type:(a=v.getSchemaForField(t.name),n=a.type,n===Array&&(e=!0,n=v.getSchemaForField(t.name+".$").type),r=t.options&&t.noselect===!0&&e?"select-checkbox":t.options&&t.noselect===!0&&!e?"select-radio":t.options&&t.noselect!==!0&&e?"select-multiple":t.options&&t.noselect!==!0&&!e?"select":n===String&&t.rows===+t.rows?"textarea":n===Number?"number":n===Date?"date":n===Boolean?"boolean-checkbox":"text")},v.getSchemaForField=function G(t){var e=v.getFormSchema();return v.Utility.getDefs(e,t)},v._getOptionsForField=function q(t){var e,a,n,r;if(e=v.getFormSchema(),e&&(a=e.getDefinition(t))){if(n=a.autoform){if(n.afFieldInput&&n.afFieldInput.options)return n.afFieldInput.options;if(n.afQuickField&&n.afQuickField.options)return n.afQuickField.options;if(n.options)return n.options}return r=e.getAllowedValuesForKey(t),r?"allowed":void 0}},v.getLabelForField=function j(t){var a=v.getFormSchema(),n=a.label(t);return"$"!==e._makeGeneric(t).slice(-1)||isNaN(parseInt(n,10))||(n=null),n},v.templateInstanceForForm=function(t){return v.viewForForm(t).templateInstance()},v.viewForForm=function(t){var e;if(t&&(e=document.getElementById(t),!e))throw new Error("No form with ID "+t+" is currently rendered. If this call originated from within a template event or helper, you should call without passing a formId to avoid seeing this error");var a=l.getView(e);if(!a)throw new Error("AutoForm.viewForForm: Unable to find current view");for(;a&&"Template.autoForm"!==a.name;)a=a.originalParentView||a.parentView;if(!a||"Template.autoForm"!==a.name)throw new Error("AutoForm.viewForForm: Unable to find autoForm view");return a},v.getArrayCountFromDocForField=function(t,e){var a=v.reactiveFormData.sourceDoc(t),n;if(a){var r=a.getInfoForKey(e);r&&u.isArray(r.value)&&(n=r.value.length)}return n},v.getCurrentDataForForm=function(t){return O(l.getData(v.viewForForm(t)))},v.getCurrentDataPlusExtrasForForm=function(t){var e=v.getCurrentDataForForm(t);e=u.clone(e);var a=e.type||"normal";if(e.formTypeDef=v._formTypeDefinitions[a],!e.formTypeDef)throw new Error('AutoForm: Form type "'+a+'" has not been defined');return e},v.getFormCollection=function(t){var e=v.getCurrentDataForForm(t);return v.Utility.lookup(e.collection)},v.getFormSchema=function(t,e){return e=e?O(e):v.getCurrentDataForForm(t),e._resolvedSchema},v.getFormId=function(){return v.getCurrentDataForForm().id},v.selectFirstInvalidField=function H(t,e){var a=e.namedContext(t),n,r;a.isValid()||(n=v.templateInstanceForForm(t),r=L(n),r.each(function(){var t=$(this);return a.keyIsInvalid(t.attr("data-schema-key"))?(t.focus(),!1):void 0}))},v._validateFormDoc=function z(e,a,n,r,o,i){var s,c={userId:t.userId&&t.userId()||null,isInsert:!a,isUpdate:!!a,isUpsert:!1,isFromTrustedCode:!1,docId:o.doc&&o.doc._id||null},l=u.clone(e);r.clean(l,{isModifier:a,filter:!1,autoConvert:!1,trimStrings:!1,extendAutoValueContext:c});var p=r.namedContext(n);if(i){s=p.validateOne(l,i,{modifier:a,extendedCustomContext:c});var f=v.templateInstanceForForm(n)._stickyErrors[i];f&&(s=!1,p.addInvalidKeys([{name:i,type:f.type,value:f.value}]))}else{s=p.validate(l,{modifier:a,extendedCustomContext:c});var m=v.templateInstanceForForm(n)._stickyErrors;u.isEmpty(m)||(s=!1,m=u.map(m,function(t,e){return{name:e,type:t.type,value:t.value}}),p.addInvalidKeys(m)),s||v.selectFirstInvalidField(n,r)}return s},O=function W(t){if(t||(t={}),"string"!=typeof t.type&&(t.type="normal"),"string"!=typeof t.validation&&(t.validation="submitThenKeyup"),!t._resolvedSchema){var e=t.type,a=t.schema;if(a)a=v.Utility.lookup(a);else{var n=v.Utility.lookup(t.collection);n&&"function"==typeof n.simpleSchema&&(a=n.simpleSchema())}var r=v._formTypeDefinitions[e];if(!r)throw new Error('AutoForm: Form type "'+e+'" has not been defined');if("function"==typeof r.adjustSchema&&(a=r.adjustSchema.call({form:t},a)),!a)throw new Error('AutoForm: form with id "'+t.id+'" needs either "schema" or "collection" attribute');t._resolvedSchema=a}return t}}.call(this),function(){v.addFormType("insert",{onSubmit:function(){var t=this;this.event.preventDefault();var e=this.collection;if(!e)throw new Error("AutoForm: You must specify a collection when form type is insert.");var a="function"==typeof e.simpleSchema&&null!=e.simpleSchema();this.runBeforeHooks(this.insertDoc,function(n){a?e.insert(n,t.validationOptions,t.result):e.insert(n,t.result)})},validateForm:function(){var t=v.getFormSchema(this.form.id);return v._validateFormDoc(this.formDoc,!1,this.form.id,t,this.form)},shouldPrevalidate:function(){return!!this.formAttributes.collection&&!!this.formAttributes.schema}})}.call(this),function(){v.addFormType("update",{onSubmit:function(){var t=this;this.event.preventDefault();var e=this.collection;if(!e)throw new Error("AutoForm: You must specify a collection when form type is update.");this.runBeforeHooks(this.updateDoc,function(a){u.isEmpty(a)?t.result(null,0):e.update({_id:t.docId},a,t.validationOptions,t.result)})},usesModifier:!0,validateForm:function(){var t=v.getFormSchema(this.form.id);return v._validateFormDoc(this.formDoc,!0,this.form.id,t,this.form)},shouldPrevalidate:function(){return!!this.formAttributes.collection&&!!this.formAttributes.schema}})}.call(this),function(){v.addFormType("update-pushArray",{onSubmit:function(){var t=this;this.event.preventDefault();var e=this.collection;if(!e)throw new Error("AutoForm: You must specify a collection when form type is update-pushArray.");var a=t.formAttributes.scope;if(!a)throw new Error("AutoForm: You must specify a scope when form type is update-pushArray.");this.runBeforeHooks(this.insertDoc,function(n){if(u.isEmpty(n))t.result(null,0);else{var r={$push:{}};r.$push[a]=n,e.update({_id:t.docId},r,t.validationOptions,t.result)}})},validateForm:function(){var t=v.getFormSchema(this.form.id);return v._validateFormDoc(this.formDoc,!1,this.form.id,t,this.form)},adjustSchema:function(t){var a=this.form.scope,n={},r=a+".$.";return u.each(t.schema(),function(t,e){0===e.indexOf(r)&&(n[e.slice(r.length)]=t)}),new e(n)},shouldPrevalidate:function(){return!0}})}.call(this),function(){v.addFormType("method",{onSubmit:function(){var e=this;if(this.event.preventDefault(),!this.formAttributes.meteormethod)throw new Error('When form type is "method", you must also provide a "meteormethod" attribute');this.runBeforeHooks(this.insertDoc,function(a){var n="none"===e.formAttributes.validation||e.formTypeDefinition.validateForm.call({form:e.formAttributes,formDoc:a,useCollectionSchema:e.ssIsOverride});n===!1?e.failedValidation():t.call(e.formAttributes.meteormethod,a,e.result)})},validateForm:function(){var t=v.getFormSchema(this.form.id),e=v.getFormCollection(this.form.id);return t=this.useCollectionSchema&&e?e.simpleSchema():t,v._validateFormDoc(this.formDoc,!1,this.form.id,t,this.form)},shouldPrevalidate:function(){return!!this.formAttributes.collection&&!!this.formAttributes.schema}})}.call(this),function(){v.addFormType("method-update",{onSubmit:function(){var e=this;if(this.event.preventDefault(),!this.formAttributes.meteormethod)throw new Error('When form type is "method-update", you must also provide a "meteormethod" attribute');this.runBeforeHooks(this.updateDoc,function(a){var n="none"===e.formAttributes.validation||e.formTypeDefinition.validateForm.call({form:e.formAttributes,formDoc:a,useCollectionSchema:e.ssIsOverride});n===!1?e.failedValidation():t.call(e.formAttributes.meteormethod,a,e.docId,e.result)})},usesModifier:!0,validateForm:function(){var t=v.getFormSchema(this.form.id),e=v.getFormCollection(this.form.id);return t=this.useCollectionSchema&&e?e.simpleSchema():t,v._validateFormDoc(this.formDoc,!0,this.form.id,t,this.form)},shouldPrevalidate:function(){return!!this.formAttributes.collection&&!!this.formAttributes.schema}})}.call(this),function(){v.addFormType("normal",{onSubmit:function(){var t=this,e=T.getHooks(this.formId,"onSubmit"),a=e.length,n=0,r,o;if(0===a)return void this.endSubmission();var i=u.extend({
done:function(e,u){n++,!r&&e&&(r=e),!o&&u&&(o=u),n===a&&t.result(r,o)}},this.hookContext),s=!1;u.each(e,function c(e){var a=e.call(i,t.insertDoc,t.updateDoc,t.currentDoc);s===!1&&a===!1&&(s=!0)}),s&&(this.event.preventDefault(),this.event.stopPropagation(),this.endSubmission())},needsModifierAndDoc:!0,validateForm:function(){var t=v.getFormSchema(this.form.id);return v._validateFormDoc(this.formDoc.insertDoc,!1,this.form.id,t,this.form)}})}.call(this),function(){v.addFormType("readonly",{onSubmit:function(){this.event.preventDefault()},validateForm:function(){return!0},adjustInputContext:function(t){return t.atts.readonly="",t},hideArrayItemButtons:!0})}.call(this),function(){v.addFormType("disabled",{onSubmit:function(){this.event.preventDefault()},validateForm:function(){return!0},adjustInputContext:function(t){return t.atts.disabled="",t},hideArrayItemButtons:!0})}.call(this),function(){c.__checkName("afCheckbox"),c.afCheckbox=new c("Template.afCheckbox",function(){var t=this;return S.DIV(S.LABEL(S.INPUT(S.Attrs({type:"checkbox",value:"true"},function(){return Spacebars.attrMustache(t.lookup("atts"))}))," ",l.View("lookup:afFieldLabelText",function(){return Spacebars.mustache(t.lookup("afFieldLabelText"),Spacebars.kw({name:Spacebars.dot(t.lookup("."),"name")}))})))})}.call(this),function(){v.addInputType("boolean-checkbox",{template:"afCheckbox",valueOut:function(){return!!this.is(":checked")},valueConverters:{string:function(t){return t===!0?"TRUE":t===!1?"FALSE":t},stringArray:function(t){return t===!0?["TRUE"]:t===!1?["FALSE"]:t},number:function(t){return t===!0?1:t===!1?0:t},numberArray:function(t){return t===!0?[1]:t===!1?[0]:t}},contextAdjust:function(t){return t.value===!0&&(t.atts.checked=""),delete t.atts.required,t}})}.call(this),function(){c.__checkName("afBooleanRadioGroup"),c.afBooleanRadioGroup=new c("Template.afBooleanRadioGroup",function(){var t=this;return S.DIV(S.Attrs(function(){return Spacebars.attrMustache(t.lookup("dsk"))}),"\n    ",S.DIV("\n      ",S.LABEL(S.INPUT(S.Attrs({type:"radio",value:"false",name:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"name"))}},function(){return Spacebars.attrMustache(t.lookup("falseAtts"))}))," ",Spacebars.With(function(){return Spacebars.call(Spacebars.dot(t.lookup("."),"atts","falseLabel"))},function(){return l.View("lookup:.",function(){return Spacebars.mustache(t.lookup("."))})},function(){return"False"})),"\n    "),"\n    ",S.DIV("\n      ",S.LABEL(S.INPUT(S.Attrs({type:"radio",value:"true",name:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"name"))}},function(){return Spacebars.attrMustache(t.lookup("trueAtts"))}))," ",Spacebars.With(function(){return Spacebars.call(Spacebars.dot(t.lookup("."),"atts","trueLabel"))},function(){return l.View("lookup:.",function(){return Spacebars.mustache(t.lookup("."))})},function(){return"True"})),"\n    "),"\n  ")})}.call(this),function(){v.addInputType("boolean-radios",{template:"afBooleanRadioGroup",valueOut:function(){return this.find("input[value=false]").is(":checked")?!1:this.find("input[value=true]").is(":checked")?!0:void 0},valueConverters:{string:function(t){return t===!0?"TRUE":t===!1?"FALSE":t},stringArray:function(t){return t===!0?["TRUE"]:t===!1?["FALSE"]:t},number:function(t){return t===!0?1:t===!1?0:t},numberArray:function(t){return t===!0?[1]:t===!1?[0]:t}}}),c.afBooleanRadioGroup.helpers({falseAtts:function t(){var t=u.omit(this.atts,"trueLabel","falseLabel","data-schema-key");return this.value===!1&&(t.checked=""),t},trueAtts:function e(){var t=u.omit(this.atts,"trueLabel","falseLabel","data-schema-key");return this.value===!0&&(t.checked=""),t},dsk:function(){return{"data-schema-key":this.atts["data-schema-key"]}}})}.call(this),function(){c.__checkName("afBooleanSelect"),c.afBooleanSelect=new c("Template.afBooleanSelect",function(){var t=this;return S.SELECT(S.Attrs(function(){return Spacebars.attrMustache(Spacebars.dot(t.lookup("."),"atts"))}),"\n    ",l.Each(function(){return Spacebars.call(Spacebars.dot(t.lookup("."),"items"))},function(){return["\n    ",S.OPTION(S.Attrs(function(){return Spacebars.attrMustache(t.lookup("afSelectOptionAtts"))}),l.View("lookup:..label",function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"label"))})),"\n    "]}),"\n  ")})}.call(this),function(){v.addInputType("boolean-select",{template:"afBooleanSelect",valueOut:function(){var t=this.val();return"true"===t?!0:"false"===t?!1:void 0},valueConverters:{string:function(t){return t===!0?"TRUE":t===!1?"FALSE":t},stringArray:function(t){return t===!0?["TRUE"]:t===!1?["FALSE"]:t},number:function(t){return t===!0?1:t===!1?0:t},numberArray:function(t){return t===!0?[1]:t===!1?[0]:t}},contextAdjust:function(t){var e=u.omit(t.atts,"trueLabel","falseLabel","firstOption");return t.items=[{name:t.name,value:"",_id:"",selected:t.value!==!1&&t.value!==!0,label:t.atts.firstOption||"(Select One)",atts:e},{name:t.name,value:"false",_id:"false",selected:t.value===!1,label:t.atts.falseLabel||"False",atts:e},{name:t.name,value:"true",_id:"true",selected:t.value===!0,label:t.atts.trueLabel||"True",atts:e}],t}})}.call(this),function(){c.__checkName("afInputButton"),c.afInputButton=new c("Template.afInputButton",function(){var t=this;return S.INPUT(S.Attrs({type:"button",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(Spacebars.dot(t.lookup("."),"atts"))}))})}.call(this),function(){v.addInputType("button",{template:"afInputButton"})}.call(this),function(){c.__checkName("afInputColor"),c.afInputColor=new c("Template.afInputColor",function(){var t=this;return S.INPUT(S.Attrs({type:"color",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(Spacebars.dot(t.lookup("."),"atts"))}))})}.call(this),function(){v.addInputType("color",{template:"afInputColor"})}.call(this),function(){c.__checkName("afContenteditable"),c.afContenteditable=new c("Template.afContenteditable",function(){var t=this;return[l.View("lookup:getValue",function(){return Spacebars.mustache(t.lookup("getValue"),Spacebars.dot(t.lookup("."),"value"))}),"\n  ",S.DIV(S.Attrs({contenteditable:"true"},function(){return Spacebars.attrMustache(Spacebars.dot(t.lookup("."),"atts"))}))]})}.call(this),function(){v.addInputType("contenteditable",{template:"afContenteditable",valueOut:function(){return this.html()},contextAdjust:function(t){return"undefined"==typeof t.atts["data-maxlength"]&&"number"==typeof t.max&&(t.atts["data-maxlength"]=t.max),t}}),c.afContenteditable.events({"blur div[contenteditable=true]":function(t,e){e.$(t.target).change()}}),c.afContenteditable.helpers({getValue:function(t){c.instance().view.isRendered&&c.instance().$("[contenteditable]").html(t)}})}.call(this),function(){c.__checkName("afInputDate"),c.afInputDate=new c("Template.afInputDate",function(){var t=this;return S.INPUT(S.Attrs({type:"date",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(Spacebars.dot(t.lookup("."),"atts"))}))})}.call(this),function(){v.addInputType("date",{template:"afInputDate",valueIn:function(t){return t instanceof Date?v.Utility.dateToDateStringUTC(t):t},valueOut:function(){var t=this.val();return v.Utility.isValidDateString(t)?new Date(t):null},valueConverters:{string:function(t){return t instanceof Date?v.Utility.dateToDateStringUTC(t):t},stringArray:function(t){return t instanceof Date?[v.Utility.dateToDateStringUTC(t)]:t},number:function(t){return t instanceof Date?t.getTime():t},numberArray:function(t){return t instanceof Date?[t.getTime()]:t},dateArray:function(t){return t instanceof Date?[t]:t}},contextAdjust:function(t){return"undefined"==typeof t.atts.max&&t.max instanceof Date&&(t.atts.max=v.Utility.dateToDateStringUTC(t.max)),"undefined"==typeof t.atts.min&&t.min instanceof Date&&(t.atts.min=v.Utility.dateToDateStringUTC(t.min)),t}})}.call(this),function(){c.__checkName("afInputDateTime"),c.afInputDateTime=new c("Template.afInputDateTime",function(){var t=this;return S.INPUT(S.Attrs({type:"datetime",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(Spacebars.dot(t.lookup("."),"atts"))}))})}.call(this),function(){v.addInputType("datetime",{template:"afInputDateTime",valueIn:function(t){return t instanceof Date?v.Utility.dateToNormalizedForcedUtcGlobalDateAndTimeString(t):t},valueOut:function(){var t=this.val();return t="string"==typeof t?t.replace(/ /g,"T"):t,v.Utility.isValidNormalizedForcedUtcGlobalDateAndTimeString(t)?new Date(t):null},valueConverters:{string:function(t){return t instanceof Date?v.Utility.dateToNormalizedForcedUtcGlobalDateAndTimeString(t):t},stringArray:function(t){return t instanceof Date?[v.Utility.dateToNormalizedForcedUtcGlobalDateAndTimeString(t)]:t},number:function(t){return t instanceof Date?t.getTime():t},numberArray:function(t){return t instanceof Date?[t.getTime()]:t},dateArray:function(t){return t instanceof Date?[t]:t}},contextAdjust:function(t){return"undefined"==typeof t.atts.max&&t.max instanceof Date&&(t.atts.max=v.Utility.dateToNormalizedForcedUtcGlobalDateAndTimeString(t.max)),"undefined"==typeof t.atts.min&&t.min instanceof Date&&(t.atts.min=v.Utility.dateToNormalizedForcedUtcGlobalDateAndTimeString(t.min)),t}})}.call(this),function(){c.__checkName("afInputDateTimeLocal"),c.afInputDateTimeLocal=new c("Template.afInputDateTimeLocal",function(){var t=this;return S.INPUT(S.Attrs({type:"datetime-local",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(Spacebars.dot(t.lookup("."),"atts"))}))})}.call(this),function(){v.addInputType("datetime-local",{template:"afInputDateTimeLocal",valueIn:function(t,e){return t instanceof Date?v.Utility.dateToNormalizedLocalDateAndTimeString(t,e.timezoneId):t},valueOut:function(){var t=this.val();if(t="string"==typeof t?t.replace(/ /g,"T"):t,v.Utility.isValidNormalizedLocalDateAndTimeString(t)){var e=this.attr("data-timezone-id");if("string"==typeof e){if("function"!=typeof k.tz)throw new Error("If you specify a timezoneId, make sure that you've added a moment-timezone package to your app");return k.tz(t,e).toDate()}return k(t).toDate()}return this.val()},valueConverters:{string:function(t){return t instanceof Date?v.Utility.dateToNormalizedLocalDateAndTimeString(t,this.attr("data-timezone-id")):t},stringArray:function(t){return t instanceof Date?[v.Utility.dateToNormalizedLocalDateAndTimeString(t,this.attr("data-timezone-id"))]:t},number:function(t){return t instanceof Date?t.getTime():t},numberArray:function(t){return t instanceof Date?[t.getTime()]:t},dateArray:function(t){return t instanceof Date?[t]:t}},contextAdjust:function(t){return"undefined"==typeof t.atts.max&&t.max instanceof Date&&(t.atts.max=v.Utility.dateToNormalizedLocalDateAndTimeString(t.max,t.atts.timezoneId)),"undefined"==typeof t.atts.min&&t.min instanceof Date&&(t.atts.min=v.Utility.dateToNormalizedLocalDateAndTimeString(t.min,t.atts.timezoneId)),t.atts.timezoneId&&(t.atts["data-timezone-id"]=t.atts.timezoneId),delete t.atts.timezoneId,t}})}.call(this),function(){c.__checkName("afInputEmail"),c.afInputEmail=new c("Template.afInputEmail",function(){var t=this;return S.INPUT(S.Attrs({type:"email",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(Spacebars.dot(t.lookup("."),"atts"))}))})}.call(this),function(){v.addInputType("email",{template:"afInputEmail",contextAdjust:function(t){return"undefined"==typeof t.atts.maxlength&&"number"==typeof t.max&&(t.atts.maxlength=t.max),t}})}.call(this),function(){c.__checkName("afInputFile"),c.afInputFile=new c("Template.afInputFile",function(){var t=this;return S.INPUT(S.Attrs({type:"file",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(Spacebars.dot(t.lookup("."),"atts"))}))})}.call(this),function(){v.addInputType("file",{template:"afInputFile"})}.call(this),function(){c.__checkName("afInputHidden"),c.afInputHidden=new c("Template.afInputHidden",function(){var t=this;return S.INPUT(S.Attrs({type:"hidden",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(Spacebars.dot(t.lookup("."),"atts"))}))})}.call(this),function(){v.addInputType("hidden",{template:"afInputHidden",isHidden:!0,valueOut:function(){return this.val()},valueConverters:{stringArray:function(t){return"string"==typeof t?(t=t.split(","),u.map(t,function(t){return $.trim(t)})):t},number:v.Utility.stringToNumber,numberArray:function(t){return"string"==typeof t?(t=t.split(","),u.map(t,function(t){return t=$.trim(t),v.Utility.stringToNumber(t)})):t},"boolean":v.Utility.stringToBool,booleanArray:function(t){return"string"==typeof t?(t=t.split(","),u.map(t,function(t){return t=$.trim(t),v.Utility.stringToBool(t)})):t},date:v.Utility.stringToDate,dateArray:function(t){return"string"==typeof t?(t=t.split(","),u.map(t,function(t){return t=$.trim(t),v.Utility.stringToDate(t)})):t}}})}.call(this),function(){c.__checkName("afInputImage"),c.afInputImage=new c("Template.afInputImage",function(){var t=this;return S.INPUT(S.Attrs({type:"image",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(Spacebars.dot(t.lookup("."),"atts"))}))})}.call(this),function(){v.addInputType("image",{template:"afInputImage"})}.call(this),function(){c.__checkName("afInputMonth"),c.afInputMonth=new c("Template.afInputMonth",function(){var t=this;return S.INPUT(S.Attrs({type:"month",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(Spacebars.dot(t.lookup("."),"atts"))}))})}.call(this),function(){v.addInputType("month",{template:"afInputMonth",valueConverters:{stringArray:function(t){return"string"==typeof t&&t.length>0?[t]:t}}})}.call(this),function(){c.__checkName("afInputNumber"),c.afInputNumber=new c("Template.afInputNumber",function(){var t=this;return S.INPUT(S.Attrs({type:"number",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(Spacebars.dot(t.lookup("."),"atts"))}))})}.call(this),function(){v.addInputType("number",{template:"afInputNumber",valueOut:function(){return v.Utility.stringToNumber(this.val())},valueConverters:{string:function(t){return"number"==typeof t?t.toString():t},stringArray:function(t){return"number"==typeof t?[t.toString()]:t},numberArray:function(t){return"number"==typeof t?[t]:t},"boolean":function(t){return 0===t?!1:1===t?!0:t},booleanArray:function(t){return 0===t?[!1]:1===t?[!0]:t}},contextAdjust:function(t){return"undefined"==typeof t.atts.max&&"number"==typeof t.max&&(t.atts.max=t.max),"undefined"==typeof t.atts.min&&"number"==typeof t.min&&(t.atts.min=t.min),"undefined"==typeof t.atts.step&&t.decimal&&(t.atts.step="0.01"),t}})}.call(this),function(){c.__checkName("afInputPassword"),c.afInputPassword=new c("Template.afInputPassword",function(){var t=this;return S.INPUT(S.Attrs({type:"password",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(Spacebars.dot(t.lookup("."),"atts"))}))})}.call(this),function(){v.addInputType("password",{template:"afInputPassword",valueConverters:{stringArray:function(t){return"string"==typeof t&&t.length>0?[t]:t}},contextAdjust:function(t){return"undefined"==typeof t.atts.maxlength&&"number"==typeof t.max&&(t.atts.maxlength=t.max),t}})}.call(this),function(){c.__checkName("afRadio"),c.afRadio=new c("Template.afRadio",function(){var t=this;return S.DIV(S.LABEL(S.INPUT(S.Attrs({type:"checkbox",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(t.lookup("atts"))}))," ",l.View("lookup:afFieldLabelText",function(){return Spacebars.mustache(t.lookup("afFieldLabelText"),Spacebars.kw({name:Spacebars.dot(t.lookup("."),"name")}))})))})}.call(this),function(){v.addInputType("radio",{template:"afRadio",valueOut:function(){return this.is(":checked")?this.val():void 0},valueConverters:{stringArray:function(t){return"string"==typeof t&&t.length>0?[t]:t}}}),c.afRadio.helpers({atts:function t(){var t=u.clone(this.atts);return this.selected&&(t.checked=""),t}})}.call(this),function(){c.__checkName("afInputRange"),c.afInputRange=new c("Template.afInputRange",function(){var t=this;return S.INPUT(S.Attrs({type:"range",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(Spacebars.dot(t.lookup("."),"atts"))}))})}.call(this),function(){v.addInputType("range",{template:"afInputRange",valueOut:function(){return v.Utility.stringToNumber(this.val())},valueConverters:{string:function(t){return"number"==typeof t?t.toString():t},stringArray:function(t){return"number"==typeof t?[t.toString()]:t},numberArray:function(t){return"number"==typeof t?[t]:t},"boolean":function(t){return 0===t?!1:1===t?!0:t},booleanArray:function(t){return 0===t?[!1]:1===t?[!0]:t}}})}.call(this),function(){c.__checkName("afInputReset"),c.afInputReset=new c("Template.afInputReset",function(){var t=this;return S.INPUT(S.Attrs({type:"reset",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(Spacebars.dot(t.lookup("."),"atts"))}))})}.call(this),function(){v.addInputType("reset",{template:"afInputReset"})}.call(this),function(){c.__checkName("afInputSearch"),c.afInputSearch=new c("Template.afInputSearch",function(){var t=this;return S.INPUT(S.Attrs({type:"search",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(Spacebars.dot(t.lookup("."),"atts"))}))})}.call(this),function(){v.addInputType("search",{template:"afInputSearch",valueConverters:{stringArray:function(t){return"string"==typeof t&&t.length>0?[t]:t}},contextAdjust:function(t){return"undefined"==typeof t.atts.maxlength&&"number"==typeof t.max&&(t.atts.maxlength=t.max),t}})}.call(this),function(){c.__checkName("afSelect"),c.afSelect=new c("Template.afSelect",function(){var t=this;return S.SELECT(S.Attrs(function(){return Spacebars.attrMustache(Spacebars.dot(t.lookup("."),"atts"))}),"\n    ",l.Each(function(){return Spacebars.call(Spacebars.dot(t.lookup("."),"items"))},function(){return["\n      ",l.If(function(){return Spacebars.call(Spacebars.dot(t.lookup("."),"optgroup"))},function(){return["\n        ",S.OPTGROUP({label:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"optgroup"))}},"\n        ",l.Each(function(){return Spacebars.call(Spacebars.dot(t.lookup("."),"items"))},function(){return["\n        ",S.OPTION(S.Attrs(function(){return Spacebars.attrMustache(t.lookup("afSelectOptionAtts"))}),l.View("lookup:..label",function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"label"))})),"\n        "]}),"\n        "),"\n      "]},function(){return["\n        ",S.OPTION(S.Attrs(function(){return Spacebars.attrMustache(t.lookup("afSelectOptionAtts"))}),l.View("lookup:..label",function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"label"))})),"\n      "]}),"\n    "]}),"\n  ")})}.call(this),function(){v.addInputType("select",{template:"afSelect",valueOut:function(){return this.val()},valueConverters:{stringArray:function(t){return"string"==typeof t?(t=t.split(","),u.map(t,function(t){return $.trim(t)})):t},number:v.Utility.stringToNumber,numberArray:function(t){return"string"==typeof t?(t=t.split(","),u.map(t,function(t){return t=$.trim(t),v.Utility.stringToNumber(t)})):t},"boolean":v.Utility.stringToBool,booleanArray:function(t){return"string"==typeof t?(t=t.split(","),u.map(t,function(t){return t=$.trim(t),v.Utility.stringToBool(t)})):t},date:v.Utility.stringToDate,dateArray:function(t){return"string"==typeof t?(t=t.split(","),u.map(t,function(t){return t=$.trim(t),v.Utility.stringToDate(t)})):t}},contextAdjust:function(t){t.atts.autocomplete="off";var e=u.omit(t.atts,"firstOption"),a=t.atts.firstOption;return t.items=[],a!==!1&&t.items.push({name:t.name,label:"string"==typeof a?a:"(Select One)",value:"",_id:"AUTOFORM_EMPTY_FIRST_OPTION",selected:!1,atts:e}),u.each(t.selectOptions,function(a){if(a.optgroup){var n=u.map(a.options,function(a){return{name:t.name,label:a.label,value:a.value,htmlAtts:u.omit(a,"label","value"),_id:a.value.toString(),selected:a.value===t.value,atts:e}});t.items.push({optgroup:a.optgroup,items:n})}else t.items.push({name:t.name,label:a.label,value:a.value,htmlAtts:u.omit(a,"label","value"),_id:a.value.toString(),selected:a.value===t.value,atts:e})}),t}})}.call(this),function(){c.__checkName("afCheckboxGroup"),c.afCheckboxGroup=new c("Template.afCheckboxGroup",function(){var t=this;return S.DIV(S.Attrs({"class":"af-checkbox-group"},function(){return Spacebars.attrMustache(t.lookup("dsk"))}),"\n    ",l.Each(function(){return Spacebars.call(Spacebars.dot(t.lookup("."),"items"))},function(){return["\n      ",S.DIV(S.LABEL(S.INPUT(S.Attrs({type:"checkbox",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(t.lookup("atts"))}))," ",l.View("lookup:..label",function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"label"))}))),"\n    "]}),"\n  ")})}.call(this),function(){v.addInputType("select-checkbox",{template:"afCheckboxGroup",valueIsArray:!0,valueOut:function(){var t=[];return this.find("input[type=checkbox]").each(function(){$(this).is(":checked")&&t.push($(this).val())}),t},contextAdjust:function(t){var e=u.omit(t.atts);return t.items=[],u.each(t.selectOptions,function(a){t.items.push({name:t.name,label:a.label,value:a.value,_id:a.value,selected:u.contains(t.value,a.value),atts:e})}),t}}),c.afCheckboxGroup.helpers({atts:function t(){var t=u.clone(this.atts);return this.selected&&(t.checked=""),delete t["data-schema-key"],t},dsk:function e(){return{"data-schema-key":this.atts["data-schema-key"]}}})}.call(this),function(){c.__checkName("afCheckboxGroupInline"),c.afCheckboxGroupInline=new c("Template.afCheckboxGroupInline",function(){var t=this;return S.DIV(S.Attrs({"class":"af-checkbox-group"},function(){return Spacebars.attrMustache(t.lookup("dsk"))}),"\n    ",l.Each(function(){return Spacebars.call(Spacebars.dot(t.lookup("."),"items"))},function(){return["\n      ",S.LABEL(S.INPUT(S.Attrs({type:"checkbox",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(t.lookup("atts"))}))," ",l.View("lookup:..label",function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"label"))})),"\n    "]}),"\n  ")})}.call(this),function(){v.addInputType("select-checkbox-inline",{template:"afCheckboxGroupInline",valueIsArray:!0,valueOut:function(){var t=[];return this.find("input[type=checkbox]").each(function(){$(this).is(":checked")&&t.push($(this).val())}),t},contextAdjust:function(t){var e=u.omit(t.atts);return t.items=[],u.each(t.selectOptions,function(a){t.items.push({name:t.name,label:a.label,value:a.value,_id:a.value,selected:u.contains(t.value,a.value),atts:e})}),t}}),c.afCheckboxGroupInline.helpers({atts:function t(){var t=u.clone(this.atts);return this.selected&&(t.checked=""),delete t["data-schema-key"],t},dsk:function e(){return{"data-schema-key":this.atts["data-schema-key"]}}})}.call(this),function(){c.__checkName("afSelectMultiple"),c.afSelectMultiple=new c("Template.afSelectMultiple",function(){var t=this;return S.SELECT(S.Attrs({multiple:""},function(){return Spacebars.attrMustache(Spacebars.dot(t.lookup("."),"atts"))}),"\n    ",l.Each(function(){return Spacebars.call(Spacebars.dot(t.lookup("."),"items"))},function(){return["\n      ",l.If(function(){return Spacebars.call(Spacebars.dot(t.lookup("."),"optgroup"))},function(){return["\n        ",S.OPTGROUP({label:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"optgroup"))}},"\n        ",l.Each(function(){return Spacebars.call(Spacebars.dot(t.lookup("."),"items"))},function(){return["\n        ",S.OPTION(S.Attrs(function(){return Spacebars.attrMustache(t.lookup("afSelectOptionAtts"))}),l.View("lookup:..label",function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"label"))})),"\n        "]}),"\n        "),"\n      "]},function(){return["\n        ",S.OPTION(S.Attrs(function(){return Spacebars.attrMustache(t.lookup("afSelectOptionAtts"))}),l.View("lookup:..label",function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"label"))})),"\n      "]}),"\n    "]}),"\n  ")})}.call(this),function(){v.addInputType("select-multiple",{template:"afSelectMultiple",valueIsArray:!0,valueOut:function(){return v.Utility.getSelectValues(this[0])},contextAdjust:function(t){return t.items=u.map(t.selectOptions,function(e){if(e.optgroup){var a=u.map(e.options,function(e){return{name:t.name,label:e.label,value:e.value,htmlAtts:u.omit(e,"label","value"),_id:e.value,selected:u.contains(t.value,e.value),atts:t.atts}});return{optgroup:e.optgroup,items:a}}return{name:t.name,label:e.label,value:e.value,htmlAtts:u.omit(e,"label","value"),_id:e.value,selected:u.contains(t.value,e.value),atts:t.atts}}),t}})}.call(this),function(){c.__checkName("afRadioGroup"),c.afRadioGroup=new c("Template.afRadioGroup",function(){var t=this;return S.DIV(S.Attrs({"class":"af-radio-group"},function(){return Spacebars.attrMustache(t.lookup("dsk"))}),"\n  ",l.Each(function(){return Spacebars.call(Spacebars.dot(t.lookup("."),"items"))},function(){return["\n    ",S.DIV(S.LABEL(S.INPUT(S.Attrs({type:"radio",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(t.lookup("atts"))}))," ",l.View("lookup:..label",function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"label"))}))),"\n  "]}),"\n  ")})}.call(this),function(){v.addInputType("select-radio",{template:"afRadioGroup",valueOut:function(){return this.find("input[type=radio]:checked").val()},contextAdjust:function(t){var e=u.omit(t.atts);return t.items=[],u.each(t.selectOptions,function(a){t.items.push({name:t.name,label:a.label,value:a.value,_id:a.value,selected:a.value===t.value,atts:e})}),t}}),c.afRadioGroup.helpers({atts:function t(){var t=u.clone(this.atts);return this.selected&&(t.checked=""),delete t["data-schema-key"],t},dsk:function e(){return{"data-schema-key":this.atts["data-schema-key"]}}})}.call(this),function(){c.__checkName("afRadioGroupInline"),c.afRadioGroupInline=new c("Template.afRadioGroupInline",function(){var t=this;return S.DIV(S.Attrs({"class":"af-radio-group"},function(){return Spacebars.attrMustache(t.lookup("dsk"))}),"\n  ",l.Each(function(){return Spacebars.call(Spacebars.dot(t.lookup("."),"items"))},function(){return["\n    ",S.LABEL(S.INPUT(S.Attrs({type:"radio",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(t.lookup("atts"))}))," ",l.View("lookup:..label",function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"label"))})),"\n  "]}),"\n  ")})}.call(this),function(){v.addInputType("select-radio-inline",{template:"afRadioGroupInline",valueOut:function(){return this.find("input[type=radio]:checked").val()},contextAdjust:function(t){var e=u.omit(t.atts);return t.items=[],u.each(t.selectOptions,function(a){t.items.push({name:t.name,label:a.label,value:a.value,_id:a.value,selected:a.value===t.value,atts:e})}),t}}),c.afRadioGroupInline.helpers({atts:function t(){var t=u.clone(this.atts);return this.selected&&(t.checked=""),delete t["data-schema-key"],t},dsk:function e(){return{"data-schema-key":this.atts["data-schema-key"]}}})}.call(this),function(){c.__checkName("afInputSubmit"),c.afInputSubmit=new c("Template.afInputSubmit",function(){var t=this;return S.INPUT(S.Attrs({type:"submit",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(Spacebars.dot(t.lookup("."),"atts"))}))})}.call(this),function(){v.addInputType("submit",{template:"afInputSubmit"})}.call(this),function(){c.__checkName("afInputTel"),c.afInputTel=new c("Template.afInputTel",function(){var t=this;return S.INPUT(S.Attrs({type:"tel",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(Spacebars.dot(t.lookup("."),"atts"))}))})}.call(this),function(){v.addInputType("tel",{template:"afInputTel",valueConverters:{stringArray:function(t){return"string"==typeof t&&t.length>0?[t]:t}},contextAdjust:function(t){return"undefined"==typeof t.atts.maxlength&&"number"==typeof t.max&&(t.atts.maxlength=t.max),t}})}.call(this),function(){c.__checkName("afInputText"),c.afInputText=new c("Template.afInputText",function(){var t=this;return S.INPUT(S.Attrs({type:"text",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(Spacebars.dot(t.lookup("."),"atts"))}))})}.call(this),function(){v.addInputType("text",{template:"afInputText",valueOut:function(){return this.val()},valueConverters:{stringArray:function(t){return"string"==typeof t?(t=t.split(","),u.map(t,function(t){return $.trim(t)})):t},number:v.Utility.stringToNumber,numberArray:function(t){return"string"==typeof t?(t=t.split(","),u.map(t,function(t){return t=$.trim(t),v.Utility.stringToNumber(t)})):t},"boolean":v.Utility.stringToBool,booleanArray:function(t){return"string"==typeof t?(t=t.split(","),u.map(t,function(t){return t=$.trim(t),v.Utility.stringToBool(t)})):t},date:v.Utility.stringToDate,dateArray:function(t){return"string"==typeof t?(t=t.split(","),u.map(t,function(t){return t=$.trim(t),v.Utility.stringToDate(t)})):t}},contextAdjust:function(t){return"undefined"==typeof t.atts.maxlength&&"number"==typeof t.max&&(t.atts.maxlength=t.max),t}})}.call(this),function(){c.__checkName("afTextarea"),c.afTextarea=new c("Template.afTextarea",function(){var t=this;return S.TEXTAREA(S.Attrs(function(){return Spacebars.attrMustache(Spacebars.dot(t.lookup("."),"atts"))},{value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}}))})}.call(this),function(){function t(t){t=t.split("\n");var e=[];return u.each(t,function(t){t=$.trim(t),t.length&&e.push(t)}),e}v.addInputType("textarea",{template:"afTextarea",valueConverters:{string:function(t){return t},stringArray:function(e){return"string"==typeof e&&e.length>0?t(e):e},number:v.Utility.stringToNumber,numberArray:function(e){if("string"==typeof e&&e.length>0){var a=t(e);return u.map(a,function(t){return v.Utility.stringToNumber(t)})}return e},"boolean":v.Utility.stringToBool,booleanArray:function(e){if("string"==typeof e&&e.length>0){var a=t(e);return u.map(a,function(t){return v.Utility.stringToBool(t)})}return e},date:v.Utility.stringToDate,dateArray:function(e){if("string"==typeof e&&e.length>0){var a=t(e);return u.map(a,function(t){return v.Utility.stringToDate(t)})}return e}},contextAdjust:function(t){return"undefined"==typeof t.atts.maxlength&&"number"==typeof t.max&&(t.atts.maxlength=t.max),t}})}.call(this),function(){c.__checkName("afInputTime"),c.afInputTime=new c("Template.afInputTime",function(){var t=this;return S.INPUT(S.Attrs({type:"time",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(Spacebars.dot(t.lookup("."),"atts"))}))})}.call(this),function(){v.addInputType("time",{template:"afInputTime",valueConverters:{stringArray:function(t){return"string"==typeof t&&t.length>0?[t]:t}}})}.call(this),function(){c.__checkName("afInputUrl"),c.afInputUrl=new c("Template.afInputUrl",function(){var t=this;return S.INPUT(S.Attrs({type:"url",value:function(){
return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(Spacebars.dot(t.lookup("."),"atts"))}))})}.call(this),function(){v.addInputType("url",{template:"afInputUrl",valueConverters:{stringArray:function(t){return"string"==typeof t&&t.length>0?[t]:t}},contextAdjust:function(t){return"undefined"==typeof t.atts.maxlength&&"number"==typeof t.max&&(t.atts.maxlength=t.max),t}})}.call(this),function(){c.__checkName("afInputWeek"),c.afInputWeek=new c("Template.afInputWeek",function(){var t=this;return S.INPUT(S.Attrs({type:"week",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(Spacebars.dot(t.lookup("."),"atts"))}))})}.call(this),function(){v.addInputType("week",{template:"afInputWeek",valueConverters:{stringArray:function(t){return"string"==typeof t&&t.length>0?[t]:t}}})}.call(this),function(){c.__checkName("autoForm"),c.autoForm=new c("Template.autoForm",function(){var t=this;return l.Unless(function(){return Spacebars.dataMustache(t.lookup("afDestroyUpdateForm"),Spacebars.dot(t.lookup("."),"id"))},function(){return["\n  \n  \n  ",S.FORM(S.Attrs(function(){return Spacebars.attrMustache(t.lookup("atts"))}),"\n    ",l._InOuterTemplateScope(t,function(){return l._TemplateWith(function(){return Spacebars.call(t.lookup(".."))},function(){return Spacebars.include(function(){return Spacebars.call(t.templateContentBlock)})})}),"\n  "),"\n  "]})})}.call(this),function(){c.autoForm.helpers({atts:function t(){function t(t){return u.any(y.componentTypeList,function(e){return 0===t.indexOf(e+"-")})}var e,a={},n=this,r=["schema","collection","validation","doc","resetOnSuccess","type","template","autosave","autosaveOnKeyup","meteormethod","filter","autoConvert","removeEmptyStrings","trimStrings"];for(var o in n)!n.hasOwnProperty(o)||u.contains(r,o)||t(o)||(e=n[o],u.isArray(e)||u.isObject(e)||(a[o]=e));return"browser"===this.validation||a.novalidate||(a.novalidate="novalidate"),a},afDestroyUpdateForm:function(t){return v._destroyForm[t]=v._destroyForm[t]||new d(!1),v._destroyForm[t].get()}}),c.autoForm.created=function e(){var t=this;t.formValues=t.formValues||{},t._stickyErrors={},t.fieldValuesReady=new d(!1),t.autorun(function(e){var n=c.currentData(),r=n.id;if(!r)throw new Error('Every autoForm and quickForm must have an "id" attribute set to a unique string.');A.resetForm(r),n=O(n);var o=n.doc?m.clone(n.doc):null;if(n.preserveForm===!1?v.formPreserve.unregisterForm(r):v.formPreserve.registerForm(r,function p(){return v.getFormValues(r,t,n._resolvedSchema,!1)}),e.firstRun){var i=v.formPreserve.getDocument(r);i!==!1&&(o=u.extend(o||{},i))}var s;if(o&&!u.isEmpty(o)){var l={formId:r};u.each(T.getHooks(r,"docToForm"),function f(t){if(o=t.call(l,o,n._resolvedSchema),!o)throw new Error("Oops! Did you forget to return the modified document from your docToForm hook for the "+r+" form?")}),s=new a(o),v.reactiveFormData.sourceDoc(r,s)}else v.reactiveFormData.sourceDoc(r,null);setTimeout(function(){E(t)},0)})},c.autoForm.rendered=function n(){this.fieldValuesReady.set(!0)},c.autoForm.destroyed=function r(){var t=this,e=t.data.id;A.untrackForm(e),v.formPreserve.unregisterForm(e)}}.call(this),function(){c.__checkName("quickForm"),c.quickForm=new c("Template.quickForm",function(){var t=this;return l._TemplateWith(function(){return{template:Spacebars.call(t.lookup("getTemplateName")),data:Spacebars.call(t.lookup("innerContext"))}},function(){return Spacebars.include(function(){return Spacebars.call(c.__dynamic)})})})}.call(this),function(){c.quickForm.helpers({getTemplateName:function(){return v.getTemplateName("quickForm",this.template)},innerContext:function t(){var t=this,e=u.omit(t,"buttonContent","buttonClasses","fields","omitFields"),a=t.buttonContent!==!1&&"readonly"!==t.type&&"disabled"!==t.type;return{qfAutoFormContext:e,atts:t,qfShouldRenderButton:a}}})}.call(this),function(){c.__checkName("afArrayField"),c.afArrayField=new c("Template.afArrayField",function(){var t=this;return l._TemplateWith(function(){return{template:Spacebars.call(t.lookup("getTemplateName")),data:Spacebars.call(t.lookup("innerContext"))}},function(){return Spacebars.include(function(){return Spacebars.call(c.__dynamic)})})})}.call(this),function(){c.afArrayField.helpers({getTemplateName:function(){return v.getTemplateName("afArrayField",this.template,this.name)},innerContext:function t(){var t=v.Utility.getComponentContext(this,"afArrayField"),e=t.atts.name,a=t.atts.minCount||0,n=t.atts.maxCount||1/0,r=v.getFormSchema(),o=v.getFormId(),u=v.getArrayCountFromDocForField(o,e);return void 0===u&&(u=t.atts.initialCount),A.initField(o,e,r,u,a,n),{atts:t.atts}}})}.call(this),function(){c.__checkName("afEachArrayItem"),c.afEachArrayItem=new c("Template.afEachArrayItem",function(){var t=this;return["\n  ",Spacebars.With(function(){return Spacebars.call(t.lookup("innerContext"))},function(){return["\n    ",l.Each(function(){return Spacebars.call(t.lookup("."))},function(){return["\n    ",l.If(function(){return Spacebars.call(Spacebars.dot(t.lookup("."),"removed"))},function(){return["\n    ",S.INPUT({type:"hidden",name:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"name"))},"data-schema-key":function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"name"))},"data-null-value":"true",value:""}),"\n    "]},function(){return["\n    ",l._InOuterTemplateScope(t,function(){return l._TemplateWith(function(){return Spacebars.call(t.lookup("."))},function(){return Spacebars.include(function(){return Spacebars.call(t.templateContentBlock)})})}),"\n    "]}),"\n    "]}),"\n  "]})]})}.call(this),function(){c.afEachArrayItem.helpers({innerContext:function t(){var t=v.Utility.getComponentContext(this,"afEachArrayItem"),e=v.getFormId(),a=v.getFormSchema(),n=t.atts.name,r=v.getArrayCountFromDocForField(e,n);return void 0===r&&(r=t.atts.initialCount),A.initField(e,n,a,r,t.atts.minCount,t.atts.maxCount),A.getField(e,n)}})}.call(this),function(){c.__checkName("afFieldInput"),c.afFieldInput=new c("Template.afFieldInput",function(){var t=this;return l._TemplateWith(function(){return{template:Spacebars.call(t.lookup("getTemplateName")),data:Spacebars.call(t.lookup("innerContext"))}},function(){return Spacebars.include(function(){return Spacebars.call(c.__dynamic)})})})}.call(this),function(){c.afFieldInput.helpers({getTemplateName:function t(){var t=this,e=v.getInputType(this),a=v._inputTypeDefinitions[e];if(!a)throw new Error('AutoForm: No component found for rendering input with type "'+e+'"');var n=a.template,r=this.template,o=v.getTemplateName(n,r,t.name,!0);return-1!==o.indexOf("_plain")&&(o=null),o&&c[o]||(o=n),o},innerContext:function e(){var t=v.Utility.getComponentContext(this,"afFieldInput"),e=v.getCurrentDataForForm(),a=e.id,n=v.getFormSchema(),r=t.defs,o=r.defaultValue;r.type===Array&&(r=n.schema(t.atts.name+".$"));var u=v.getInputType(this),s=v._inputTypeDefinitions[u];if(!s)throw new Error('AutoForm: No component found for rendering input with type "'+u+'"');var c=v.reactiveFormData.sourceDoc(a),l=V(t.atts,t.atts.value,c,o,t.atts.defaultValue,s);i.afterFlush(function(){var e;try{e=v.templateInstanceForForm()}catch(a){}e&&U(e,t.atts.name)});var p=M(r,t.atts,l,n.label(t.atts.name),e.type);return"function"==typeof s.contextAdjust?s.contextAdjust(p):p}})}.call(this),function(){c.__checkName("afFormGroup"),c.afFormGroup=new c("Template.afFormGroup",function(){var t=this;return l._TemplateWith(function(){return{template:Spacebars.call(t.lookup("getTemplateName")),data:Spacebars.call(t.lookup("innerContext"))}},function(){return Spacebars.include(function(){return Spacebars.call(c.__dynamic)})})})}.call(this),function(){function t(t){var e={};return u.each(t,function a(t,n){0===n.indexOf("label-")&&(e[n.substring(6)]=t)}),e}function e(t){var e={};return u.each(t,function a(t,n){-1===["id-prefix","id","label"].indexOf(n)&&0!==n.indexOf("label-")&&(e[n]=t)}),e}c.afFormGroup.helpers({getTemplateName:function(){return v.getTemplateName("afFormGroup",this.template,this.name)},innerContext:function a(){var a=v.Utility.getComponentContext(this,"afFormGroup"),n=t(a.atts),r=e(a.atts),o=a.atts.id||b.id(),u=a.atts["id-prefix"];u&&u.length>0&&(o=u+"-"+o),n["for"]=r.id=o;var i=v.getSchemaForField(a.atts.name);return{skipLabel:a.atts.label===!1,afFieldLabelAtts:n,afFieldInputAtts:r,name:a.atts.name,required:!i.optional,labelText:"string"==typeof a.atts.label?a.atts.label:null}}})}.call(this),function(){c.__checkName("afObjectField"),c.afObjectField=new c("Template.afObjectField",function(){var t=this;return l._TemplateWith(function(){return{template:Spacebars.call(t.lookup("getTemplateName")),data:Spacebars.call(t.lookup("."))}},function(){return Spacebars.include(function(){return Spacebars.call(c.__dynamic)})})})}.call(this),function(){c.afObjectField.helpers({getTemplateName:function(){return v.getTemplateName("afObjectField",this.template,this.name)}})}.call(this),function(){c.__checkName("afQuickField"),c.afQuickField=new c("Template.afQuickField",function(){var t=this;return l.If(function(){return Spacebars.call(t.lookup("isGroup"))},function(){return["\n    ",Spacebars.include(t.lookupTemplate("afObjectField")),"\n  "]},function(){return["\n    ",l.If(function(){return Spacebars.call(t.lookup("isFieldArray"))},function(){return["\n      ",Spacebars.include(t.lookupTemplate("afArrayField")),"\n    "]},function(){return["\n      ",l.If(function(){return Spacebars.call(t.lookup("isHiddenInput"))},function(){return["\n        \n        ",l._TemplateWith(function(){return Spacebars.call(t.lookup("groupAtts"))},function(){return Spacebars.include(t.lookupTemplate("afFieldInput"))}),"\n      "]},function(){return["\n        ",l._TemplateWith(function(){return Spacebars.call(t.lookup("groupAtts"))},function(){return Spacebars.include(t.lookupTemplate("afFormGroup"))}),"\n      "]}),"\n    "]}),"\n  "]})})}.call(this),function(){c.afQuickField.helpers({isGroup:function t(){var t=v.Utility.getComponentContext(this,"afQuickField");return t.defs.type===Object&&!t.atts.options&&!t.atts.type},isFieldArray:function e(){var t=v.Utility.getComponentContext(this,"afQuickField");return t.defs.type===Array&&!t.atts.options&&!t.atts.type},groupAtts:function a(){return u.omit(this,"fields","omitFields")},isHiddenInput:function n(){var t=v.Utility.getComponentContext(this,"afQuickField"),e=t.atts.type;if(e){var a=v._inputTypeDefinitions[e];if(!a)throw new Error('AutoForm: No component found for rendering input with type "'+e+'"');return a.isHidden}return!1}})}.call(this),function(){c.__checkName("afQuickFields"),c.afQuickFields=new c("Template.afQuickFields",function(){var t=this;return l.Each(function(){return Spacebars.dataMustache(t.lookup("afFieldNames"),Spacebars.kw({name:Spacebars.dot(t.lookup("."),"name")}))},function(){return["\n    ",l._TemplateWith(function(){return Spacebars.call(t.lookup("quickFieldAtts"))},function(){return Spacebars.include(t.lookupTemplate("afQuickField"))}),"\n  "]})})}.call(this),function(){c.afQuickFields.helpers({quickFieldAtts:function t(){var t,e,a={};return t=c.parentData(1),(!t||t.atts)&&(t={}),e=v._getOptionsForField(this.name),e&&(a.options=e),u.extend(a,t,this)}})}.call(this),function(){function t(t,e,a){if(e&&e.view._domrange&&!e.view.isDestroyed){var n=T.getHooks(t,"beginSubmit");if(n.length)u.each(n,function o(t){t.call(a)});else{var r=e.find("button[type=submit]")||e.find("input[type=submit]");r&&(r.disabled=!0)}}}function a(t,e,a){if(e&&e.view._domrange&&!e.view.isDestroyed){i=null;var n=T.getHooks(t,"endSubmit");if(n.length)u.each(n,function o(t){t.call(a)});else{var r=e.find("button[type=submit]")||e.find("input[type=submit]");r&&(r.disabled=!1)}}}function n(t){var a=e._makeGeneric(t);return(".$"===a.slice(-2)||-1!==a.indexOf(".$."))&&(t=a.slice(0,a.indexOf(".$"))),t}function r(t){return"submitThenKeyup"===t||"submitThenBlur"===t}function o(t){var e=t.getAttribute("data-schema-key");return e||(e=$(t).closest("[data-schema-key]").attr("data-schema-key")),e}var i=null,s=null,l=u.throttle(function(t){i=t.target,$(t.currentTarget).submit()},500,{leading:!1});c.autoForm.events({"submit form":function p(e,n){function r(){a(p,n,x)}function o(){var t=d.namedContext(p),a=t.invalidKeys(),n;a?(a.length?(a=u.map(a,function(e){return u.extend({message:t.keyErrorMessage(e.name)},e)}),n=new Error(a[0].message)):n=new Error("form failed validation"),n.invalidKeys=a):n=new Error("form failed validation"),u.each(_,function o(t){t.call(x,"pre-submit validation",n)}),e.preventDefault(),e.stopPropagation(),r()}function s(t,e){function a(t,n){var o=A[t];if(!o)return void e(n);var i=function(e){if(e===!1)r();else{if(!u.isObject(e))throw new Error("A 'before' hook must return an object");a(t+1,e)}},s=u.extend({result:u.once(i)},x),c=o.call(s,n);void 0!==c&&s.result(c)}a(0,t)}function c(t,e){t?_&&_.length?u.each(_,function a(e){e.call(x,m,t)}):w&&w.length||!d.namedContext(p).isValid()||console.log(t):(f.resetOnSuccess!==!1&&f.autosave!==!0&&v.resetForm(p,n),"insert"===m&&(x.docId=e),u.each(I,function o(t){t.call(x,m,e)})),u.each(w,function i(a){a.call(x,t,e)}),r()}var l,p=this.id,f=v.getCurrentDataForForm(p),m=f.type,d=v.getFormSchema(p),h=v.getFormCollection(p),b=!(!h||!f.schema),k=f.doc,S=k?k._id:null,y,g={validationContext:p,filter:f.filter,autoConvert:f.autoConvert,removeEmptyStrings:f.removeEmptyStrings,trimStrings:f.trimStrings},F=v._formTypeDefinitions[m];if(!F)throw new Error('AutoForm: Form type "'+m+'" has not been defined');var I=T.getHooks(p,"onSuccess"),_=T.getHooks(p,"onError"),A=T.getHooks(p,"before",m),w=T.getHooks(p,"after",m),x={addStickyValidationError:function(t,e,a){v.templateInstanceForForm(p)._stickyErrors[t]={type:e,value:a}},autoSaveChangedElement:i,collection:h,currentDoc:k,docId:S,event:e,formAttributes:f,formId:p,formTypeDefinition:F,removeStickyValidationError:function(t){delete v.templateInstanceForForm(p)._stickyErrors[t],D(t,p,!1,!1)},resetForm:function(){v.resetForm(p,n)},ss:d,ssIsOverride:b,template:n,validationContext:v.getValidationContext(p)};F.needsModifierAndDoc?(l=v.getFormValues(p,n,d),x.updateDoc=l.updateDoc,x.insertDoc=l.insertDoc):F.usesModifier?(l=v.getFormValues(p,n,d,!0),x.updateDoc=l):(l=v.getFormValues(p,n,d,!1),x.insertDoc=l),t(p,n,x);var C=F.shouldPrevalidate?F.shouldPrevalidate.call(x):!0;if(C){try{y="none"===f.validation||F.validateForm.call({form:f,formDoc:l,useCollectionSchema:!1})}catch(N){console.error("Validation error",N),y=!1}if(y===!1)return void o()}F.onSubmit.call(u.extend({runBeforeHooks:s,result:c,endSubmission:r,failedValidation:o,validationOptions:g,hookContext:x},x))},"keyup [data-schema-key]":function f(t){var e=v.getFormId(),a=v.getCurrentDataForForm(e),u=a.validation,i=!(8===t.keyCode||46===t.keyCode);if("keyup"===u||"submitThenKeyup"===u){var s=o(t.currentTarget);if(!s)return;D(s,e,i,r(u));var c=n(s);c!==s&&D(c,e,i,r(u)),a.autosaveOnKeyup===!0&&l(t)}},"blur [data-schema-key]":function m(t){var e=v.getFormId(),a=v.getCurrentDataForForm(e),u=a.validation;if("keyup"===u||"blur"===u||"submitThenKeyup"===u||"submitThenBlur"===u){var i=o(t.currentTarget);if(!i)return;D(i,e,!1,r(u));var s=n(i);s!==i&&D(s,e,!1,r(u))}},"change form":function d(t,e){var a=o(t.target);if(a){var u=a+"___"+t.target.value;if(u!==s){s=u;var c=this.id;U(e,a);var l=v.getCurrentDataForForm(c);if(l.autosave===!0||l.autosaveOnKeyup===!0)return i=t.target,void $(t.currentTarget).submit();var p=l.validation;if("keyup"===p||"blur"===p||"submitThenKeyup"===p||"submitThenBlur"===p){D(a,c,!1,r(p));var f=n(a);f!==a&&D(f,c,!1,r(p))}}}},"reset form":function h(t,e){var a=this.id;v.formPreserve.clearDocument(a),A.resetForm(a);var n=v.getValidationContext(a);n&&n.resetValidation(),this.doc?(t.preventDefault(),v._forceResetFormValues(a),e&&e.view._domrange&&!e.view.isDestroyed&&e.$("[autofocus]").focus()):setTimeout(function(){e&&e.view._domrange&&!e.view.isDestroyed&&(E(e),e.$("[autofocus]").focus())},0)},"keydown .autoform-array-item input":function(t){13===t.keyCode&&t.preventDefault()},"click .autoform-remove-item":function b(t,e){var a=this;t.preventDefault();var n=a.arrayFieldName,r=a.minCount,o=a.maxCount,u=a.index,i=e.data,s=i&&i.id,c=v.getFormSchema(s);A.removeFromFieldAtIndex(s,n,u,c,r,o)},"click .autoform-add-item":function k(t,e){t.preventDefault();var a=$(t.currentTarget),n=a.attr("data-autoform-field"),r=a.attr("data-autoform-minCount"),o=a.attr("data-autoform-maxCount"),u=e.data,i=u&&u.id,s=v.getFormSchema(i);A.addOneToField(i,n,s,r,o)}})}.call(this),function(){c.registerHelper("attsPlusFormControlClass",function t(){var t=u.clone(this.atts);return t=v.Utility.addClass(t,"form-control")}),c.registerHelper("attsPlusBtnClass",function e(){var t=u.clone(this.atts);return t=v.Utility.addClass(t,"btn")})}.call(this),function(){c.__checkName("quickForm_bootstrap3"),c.quickForm_bootstrap3=new c("Template.quickForm_bootstrap3",function(){var t=this;return l._TemplateWith(function(){return Spacebars.call(t.lookup("qfAutoFormContext"))},function(){return Spacebars.include(t.lookupTemplate("autoForm"),function(){return["\n  ",l._TemplateWith(function(){return Spacebars.call(t.lookup("quickFieldsAtts"))},function(){return Spacebars.include(t.lookupTemplate("afQuickFields"))}),"\n  ",l.If(function(){return Spacebars.call(t.lookup("qfShouldRenderButton"))},function(){return["\n  ",S.DIV({"class":"form-group"},"\n    ",S.BUTTON(S.Attrs({type:"submit"},function(){return Spacebars.attrMustache(t.lookup("submitButtonAtts"))}),"\n      ",Spacebars.With(function(){return Spacebars.call(Spacebars.dot(t.lookup(".."),"atts","buttonContent"))},function(){return["\n      ",l.View("lookup:.",function(){return Spacebars.mustache(t.lookup("."))}),"\n      "]},function(){return"\n      Submit\n      "}),"\n    "),"\n  "),"\n  "]}),"\n  "]})})})}.call(this),function(){c.quickForm_bootstrap3.helpers({quickFieldsAtts:function(){return u.pick(this.atts,"id-prefix")},submitButtonAtts:function t(){var t=this.atts,e={};return e["class"]="string"==typeof t.buttonClasses?t.buttonClasses:"btn btn-primary",e},qfAutoFormContext:function(){var t=u.clone(this.qfAutoFormContext);return delete t["id-prefix"],t}})}.call(this),function(){c.__checkName("afArrayField_bootstrap3"),c.afArrayField_bootstrap3=new c("Template.afArrayField_bootstrap3",function(){var t=this;return S.DIV({"class":"panel panel-default"},"\n    ",S.DIV({"class":"panel-heading"},l.View("lookup:afFieldLabelText",function(){return Spacebars.mustache(t.lookup("afFieldLabelText"),Spacebars.kw({name:Spacebars.dot(t.lookup("."),"atts","name")}))})),"\n    ",l.If(function(){return Spacebars.dataMustache(t.lookup("afFieldIsInvalid"),Spacebars.kw({name:Spacebars.dot(t.lookup("."),"atts","name")}))},function(){return["\n    ",S.DIV({"class":"panel-body has-error"},"\n      ",S.SPAN({"class":"help-block"},l.View("lookup:afFieldMessage",function(){return Spacebars.makeRaw(Spacebars.mustache(t.lookup("afFieldMessage"),Spacebars.kw({name:Spacebars.dot(t.lookup("."),"atts","name")})))})),"\n    "),"\n    "]}),"\n    ",S.UL({"class":"list-group"},"\n      ",l._TemplateWith(function(){return{name:Spacebars.call(Spacebars.dot(t.lookup("."),"atts","name")),minCount:Spacebars.call(Spacebars.dot(t.lookup("."),"atts","minCount")),maxCount:Spacebars.call(Spacebars.dot(t.lookup("."),"atts","maxCount"))}},function(){return Spacebars.include(t.lookupTemplate("afEachArrayItem"),function(){return["\n      ",S.LI({"class":"list-group-item autoform-array-item"},"\n        ",S.DIV("\n          ",S.DIV({"class":"autoform-remove-item-wrap"},"\n            ",l.If(function(){return Spacebars.dataMustache(t.lookup("afArrayFieldHasMoreThanMinimum"),Spacebars.kw({name:Spacebars.dot(t.lookup(".."),"atts","name"),minCount:Spacebars.dot(t.lookup(".."),"atts","minCount"),maxCount:Spacebars.dot(t.lookup(".."),"atts","maxCount")}))},function(){return["\n            ",S.BUTTON({type:"button","class":"btn btn-primary autoform-remove-item"},S.SPAN({"class":"glyphicon glyphicon-minus"})),"\n            "]}),"\n          "),"\n          ",S.DIV({"class":"autoform-array-item-body"},"\n            ",l._TemplateWith(function(){return{name:Spacebars.call(Spacebars.dot(t.lookup("."),"name")),label:Spacebars.call(!1),options:Spacebars.call(t.lookup("afOptionsFromSchema"))}},function(){return Spacebars.include(t.lookupTemplate("afQuickField"))}),"\n          "),"\n        "),"\n      "),"\n      "]})}),"\n      ",l.If(function(){return Spacebars.dataMustache(t.lookup("afArrayFieldHasLessThanMaximum"),Spacebars.kw({name:Spacebars.dot(t.lookup("."),"atts","name"),minCount:Spacebars.dot(t.lookup("."),"atts","minCount"),maxCount:Spacebars.dot(t.lookup("."),"atts","maxCount")}))},function(){return["\n      ",S.LI({"class":"list-group-item"},"\n        ",S.BUTTON({type:"button","class":"btn btn-primary autoform-add-item","data-autoform-field":function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"atts","name"))},"data-autoform-mincount":function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"atts","minCount"))},"data-autoform-maxcount":function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"atts","maxCount"))}},S.SPAN({"class":"glyphicon glyphicon-plus"})),"\n      "),"\n      "]}),"\n    "),"\n  ")})}.call(this),function(){c.__checkName("afFormGroup_bootstrap3"),c.afFormGroup_bootstrap3=new c("Template.afFormGroup_bootstrap3",function(){var t=this;return S.DIV({"class":function(){return["form-group ",l.If(function(){return Spacebars.dataMustache(t.lookup("afFieldIsInvalid"),Spacebars.kw({name:Spacebars.dot(t.lookup("."),"name")}))},function(){return"has-error"})]},"data-required":function(){return Spacebars.mustache(t.lookup("required"))}},"\n    ",l.Unless(function(){return Spacebars.call(t.lookup("skipLabel"))},function(){return["\n    ",S.LABEL(S.Attrs(function(){return Spacebars.attrMustache(t.lookup("bsFieldLabelAtts"))}),l.If(function(){return Spacebars.call(Spacebars.dot(t.lookup("."),"labelText"))},function(){return l.View("lookup:..labelText",function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"labelText"))})},function(){return l.View("lookup:afFieldLabelText",function(){return Spacebars.mustache(t.lookup("afFieldLabelText"),Spacebars.kw({name:Spacebars.dot(t.lookup("."),"name")}))})})),"\n    "]}),"\n    ",l._TemplateWith(function(){return Spacebars.call(Spacebars.dot(t.lookup("."),"afFieldInputAtts"))},function(){return Spacebars.include(t.lookupTemplate("afFieldInput"))}),"\n    ",S.SPAN({"class":"help-block"},l.View("lookup:afFieldMessage",function(){return Spacebars.makeRaw(Spacebars.mustache(t.lookup("afFieldMessage"),Spacebars.kw({name:Spacebars.dot(t.lookup("."),"name")})))})),"\n  ")})}.call(this),function(){c.afFormGroup_bootstrap3.helpers({skipLabel:function t(){var t=this,e=v.getInputType(t.afFieldInputAtts);return t.skipLabel||"boolean-checkbox"===e},bsFieldLabelAtts:function e(){var t=u.clone(this.afFieldLabelAtts);return t=v.Utility.addClass(t,"control-label")}})}.call(this),function(){c.__checkName("afObjectField_bootstrap3"),c.afObjectField_bootstrap3=new c("Template.afObjectField_bootstrap3",function(){var t=this;return S.DIV({"class":"panel panel-default"},"\n    ",Spacebars.With(function(){return Spacebars.dataMustache(t.lookup("afFieldLabelText"),Spacebars.kw({name:Spacebars.dot(t.lookup("."),"name")}))},function(){return["\n    ",S.DIV({"class":"panel-heading"},"\n      ",S.H3({"class":"panel-title"},l.View("lookup:.",function(){return Spacebars.mustache(t.lookup("."))})),"\n    "),"\n    "]}),"\n    ",S.DIV({"class":"panel-body"},"\n      ",l.If(function(){return Spacebars.dataMustache(t.lookup("afFieldIsInvalid"),Spacebars.kw({name:Spacebars.dot(t.lookup("."),"name")}))},function(){return["\n      ",S.SPAN({"class":"help-block"},l.View("lookup:afFieldMessage",function(){return Spacebars.makeRaw(Spacebars.mustache(t.lookup("afFieldMessage"),Spacebars.kw({name:Spacebars.dot(t.lookup("."),"name")})))})),"\n      "]}),"\n      ",l._TemplateWith(function(){return Spacebars.call(t.lookup("quickFieldsAtts"))},function(){return Spacebars.include(t.lookupTemplate("afQuickFields"))}),"\n    "),"\n  ")})}.call(this),function(){c.afObjectField_bootstrap3.helpers({quickFieldsAtts:function(){return u.pick(this,"name","id-prefix")}})}.call(this),function(){c.__checkName("afCheckbox_bootstrap3"),c.afCheckbox_bootstrap3=new c("Template.afCheckbox_bootstrap3",function(){var t=this;return S.DIV({"class":"checkbox"},"\n    ",S.LABEL("\n      ",S.INPUT(S.Attrs({type:"checkbox",value:"true"},function(){return Spacebars.attrMustache(t.lookup("atts"))})),"\n      ",l.View("lookup:afFieldLabelText",function(){return Spacebars.mustache(t.lookup("afFieldLabelText"),Spacebars.kw({name:Spacebars.dot(t.lookup("."),"name")}))}),"\n    "),"\n  ")})}.call(this),function(){c.__checkName("afBooleanRadioGroup_bootstrap3"),c.afBooleanRadioGroup_bootstrap3=new c("Template.afBooleanRadioGroup_bootstrap3",function(){var t=this;return S.DIV(S.Attrs(function(){return Spacebars.attrMustache(t.lookup("dsk"))}),"\n    ",S.DIV({"class":"radio"},"\n      ",S.LABEL(S.INPUT(S.Attrs({type:"radio",value:"false",name:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"name"))}},function(){return Spacebars.attrMustache(t.lookup("falseAtts"))}))," ",Spacebars.With(function(){return Spacebars.call(Spacebars.dot(t.lookup("."),"atts","falseLabel"))},function(){return l.View("lookup:.",function(){return Spacebars.mustache(t.lookup("."))})},function(){return"False"})),"\n    "),"\n    ",S.DIV({"class":"radio"},"\n      ",S.LABEL(S.INPUT(S.Attrs({type:"radio",value:"true",name:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"name"))}},function(){return Spacebars.attrMustache(t.lookup("trueAtts"))}))," ",Spacebars.With(function(){return Spacebars.call(Spacebars.dot(t.lookup("."),"atts","trueLabel"))},function(){return l.View("lookup:.",function(){return Spacebars.mustache(t.lookup("."))})},function(){return"True"})),"\n    "),"\n  ")})}.call(this),function(){c.afBooleanRadioGroup_bootstrap3.helpers({falseAtts:function t(){var t=u.omit(this.atts,"trueLabel","falseLabel","data-schema-key");return this.value===!1&&(t.checked=""),t},trueAtts:function e(){var t=u.omit(this.atts,"trueLabel","falseLabel","data-schema-key");return this.value===!0&&(t.checked=""),t},dsk:function(){return{"data-schema-key":this.atts["data-schema-key"]}}})}.call(this),function(){c.__checkName("afBooleanSelect_bootstrap3"),c.afBooleanSelect_bootstrap3=new c("Template.afBooleanSelect_bootstrap3",function(){var t=this;return S.SELECT(S.Attrs(function(){return Spacebars.attrMustache(t.lookup("attsPlusFormControlClass"))}),"\n    ",l.Each(function(){return Spacebars.call(Spacebars.dot(t.lookup("."),"items"))},function(){return["\n    ",S.OPTION(S.Attrs(function(){return Spacebars.attrMustache(t.lookup("afSelectOptionAtts"))}),l.View("lookup:..label",function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"label"))})),"\n    "]}),"\n  ")})}.call(this),function(){c.__checkName("afInputButton_bootstrap3"),c.afInputButton_bootstrap3=new c("Template.afInputButton_bootstrap3",function(){var t=this;return S.INPUT(S.Attrs({type:"button",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(t.lookup("attsPlusBtnClass"))}))})}.call(this),function(){c.__checkName("afInputColor_bootstrap3"),c.afInputColor_bootstrap3=new c("Template.afInputColor_bootstrap3",function(){var t=this;return S.INPUT(S.Attrs({type:"color",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(t.lookup("attsPlusFormControlClass"))}))})}.call(this),function(){c.__checkName("afInputDate_bootstrap3"),c.afInputDate_bootstrap3=new c("Template.afInputDate_bootstrap3",function(){var t=this;return S.INPUT(S.Attrs({type:"date",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(t.lookup("attsPlusFormControlClass"))}))})}.call(this),function(){c.__checkName("afInputDateTime_bootstrap3"),c.afInputDateTime_bootstrap3=new c("Template.afInputDateTime_bootstrap3",function(){var t=this;return S.INPUT(S.Attrs({type:"datetime",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(t.lookup("attsPlusFormControlClass"))}))})}.call(this),function(){c.__checkName("afInputDateTimeLocal_bootstrap3"),c.afInputDateTimeLocal_bootstrap3=new c("Template.afInputDateTimeLocal_bootstrap3",function(){var t=this;return S.INPUT(S.Attrs({type:"datetime-local",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(t.lookup("attsPlusFormControlClass"))}))})}.call(this),function(){c.__checkName("afInputEmail_bootstrap3"),c.afInputEmail_bootstrap3=new c("Template.afInputEmail_bootstrap3",function(){var t=this;return S.INPUT(S.Attrs({type:"email",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(t.lookup("attsPlusFormControlClass"))}))})}.call(this),function(){c.__checkName("afInputMonth_bootstrap3"),c.afInputMonth_bootstrap3=new c("Template.afInputMonth_bootstrap3",function(){var t=this;return S.INPUT(S.Attrs({type:"month",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(t.lookup("attsPlusFormControlClass"))}))})}.call(this),function(){c.__checkName("afInputNumber_bootstrap3"),c.afInputNumber_bootstrap3=new c("Template.afInputNumber_bootstrap3",function(){var t=this;return S.INPUT(S.Attrs({type:"number",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(t.lookup("attsPlusFormControlClass"))}))})}.call(this),function(){c.__checkName("afInputPassword_bootstrap3"),c.afInputPassword_bootstrap3=new c("Template.afInputPassword_bootstrap3",function(){var t=this;return S.INPUT(S.Attrs({type:"password",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(t.lookup("attsPlusFormControlClass"))}))})}.call(this),function(){c.__checkName("afRadio_bootstrap3"),c.afRadio_bootstrap3=new c("Template.afRadio_bootstrap3",function(){var t=this;return S.DIV({"class":"radio"},"\n    ",S.LABEL("\n      ",S.INPUT(S.Attrs({type:"radio",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(t.lookup("atts"))})),"\n      ",l.View("lookup:afFieldLabelText",function(){return Spacebars.mustache(t.lookup("afFieldLabelText"),Spacebars.kw({name:Spacebars.dot(t.lookup("."),"name")}))}),"\n    "),"\n  ")})}.call(this),function(){c.afRadio_bootstrap3.helpers({atts:function t(){var t=u.clone(this.atts);return this.selected&&(t.checked=""),t}})}.call(this),function(){c.__checkName("afInputRange_bootstrap3"),c.afInputRange_bootstrap3=new c("Template.afInputRange_bootstrap3",function(){var t=this;return S.INPUT(S.Attrs({type:"range",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(Spacebars.dot(t.lookup("."),"atts"))}))})}.call(this),function(){c.__checkName("afInputReset_bootstrap3"),c.afInputReset_bootstrap3=new c("Template.afInputReset_bootstrap3",function(){var t=this;return S.INPUT(S.Attrs({type:"reset",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(t.lookup("attsPlusBtnClass"))}))})}.call(this),function(){c.__checkName("afInputSearch_bootstrap3"),c.afInputSearch_bootstrap3=new c("Template.afInputSearch_bootstrap3",function(){var t=this;return S.INPUT(S.Attrs({type:"search",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"));

}},function(){return Spacebars.attrMustache(t.lookup("attsPlusFormControlClass"))}))})}.call(this),function(){c.__checkName("afSelect_bootstrap3"),c.afSelect_bootstrap3=new c("Template.afSelect_bootstrap3",function(){var t=this;return S.SELECT(S.Attrs(function(){return Spacebars.attrMustache(t.lookup("attsPlusFormControlClass"))}),"\n    ",l.Each(function(){return Spacebars.call(Spacebars.dot(t.lookup("."),"items"))},function(){return["\n    ",l.If(function(){return Spacebars.call(Spacebars.dot(t.lookup("."),"optgroup"))},function(){return["\n    ",S.OPTGROUP({label:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"optgroup"))}},"\n      ",l.Each(function(){return Spacebars.call(Spacebars.dot(t.lookup("."),"items"))},function(){return["\n      ",S.OPTION(S.Attrs(function(){return Spacebars.attrMustache(t.lookup("afSelectOptionAtts"))}),l.View("lookup:..label",function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"label"))})),"\n      "]}),"\n    "),"\n    "]},function(){return["\n    ",S.OPTION(S.Attrs(function(){return Spacebars.attrMustache(t.lookup("afSelectOptionAtts"))}),l.View("lookup:..label",function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"label"))})),"\n    "]}),"\n    "]}),"\n  ")})}.call(this),function(){c.__checkName("afCheckboxGroup_bootstrap3"),c.afCheckboxGroup_bootstrap3=new c("Template.afCheckboxGroup_bootstrap3",function(){var t=this;return S.DIV(S.Attrs({"class":"af-checkbox-group"},function(){return Spacebars.attrMustache(t.lookup("dsk"))}),"\n    ",l.Each(function(){return Spacebars.call(Spacebars.dot(t.lookup("."),"items"))},function(){return["\n    ",S.DIV({"class":"checkbox"},"\n      ",S.LABEL("\n        ",S.INPUT(S.Attrs({type:"checkbox",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(t.lookup("atts"))})),"\n        ",l.View("lookup:..label",function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"label"))}),"\n      "),"\n    "),"\n    "]}),"\n  ")})}.call(this),function(){c.afCheckboxGroup_bootstrap3.helpers({atts:function t(){var t=u.clone(this.atts);return this.selected&&(t.checked=""),delete t["data-schema-key"],t},dsk:function e(){return{"data-schema-key":this.atts["data-schema-key"]}}})}.call(this),function(){c.__checkName("afCheckboxGroupInline_bootstrap3"),c.afCheckboxGroupInline_bootstrap3=new c("Template.afCheckboxGroupInline_bootstrap3",function(){var t=this;return S.DIV(S.Attrs({"class":"af-checkbox-group"},function(){return Spacebars.attrMustache(t.lookup("dsk"))}),"\n    ",l.Each(function(){return Spacebars.call(Spacebars.dot(t.lookup("."),"items"))},function(){return["\n    ",S.LABEL({"class":"checkbox-inline fix-indent"},"\n      ",S.INPUT(S.Attrs({type:"checkbox",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(t.lookup("atts"))})),"\n      ",l.View("lookup:..label",function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"label"))}),"\n    "),"\n    "]}),"\n  ")})}.call(this),function(){c.afCheckboxGroupInline_bootstrap3.helpers({atts:function t(){var t=u.clone(this.atts);return this.selected&&(t.checked=""),delete t["data-schema-key"],t},dsk:function e(){return{"data-schema-key":this.atts["data-schema-key"]}}})}.call(this),function(){c.__checkName("afSelectMultiple_bootstrap3"),c.afSelectMultiple_bootstrap3=new c("Template.afSelectMultiple_bootstrap3",function(){var t=this;return S.SELECT(S.Attrs({multiple:""},function(){return Spacebars.attrMustache(t.lookup("attsPlusFormControlClass"))}),"\n    ",l.Each(function(){return Spacebars.call(Spacebars.dot(t.lookup("."),"items"))},function(){return["\n    ",l.If(function(){return Spacebars.call(Spacebars.dot(t.lookup("."),"optgroup"))},function(){return["\n    ",S.OPTGROUP({label:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"optgroup"))}},"\n      ",l.Each(function(){return Spacebars.call(Spacebars.dot(t.lookup("."),"items"))},function(){return["\n      ",S.OPTION(S.Attrs(function(){return Spacebars.attrMustache(t.lookup("afSelectOptionAtts"))}),l.View("lookup:..label",function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"label"))})),"\n      "]}),"\n    "),"\n    "]},function(){return["\n    ",S.OPTION(S.Attrs(function(){return Spacebars.attrMustache(t.lookup("afSelectOptionAtts"))}),l.View("lookup:..label",function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"label"))})),"\n    "]}),"\n    "]}),"\n  ")})}.call(this),function(){c.__checkName("afRadioGroup_bootstrap3"),c.afRadioGroup_bootstrap3=new c("Template.afRadioGroup_bootstrap3",function(){var t=this;return S.DIV(S.Attrs({"class":"af-radio-group"},function(){return Spacebars.attrMustache(t.lookup("dsk"))}),"\n    ",l.Each(function(){return Spacebars.call(Spacebars.dot(t.lookup("."),"items"))},function(){return["\n    ",S.DIV({"class":"radio"},"\n      ",S.LABEL("\n        ",S.INPUT(S.Attrs({type:"radio",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(t.lookup("atts"))})),"\n        ",l.View("lookup:..label",function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"label"))}),"\n      "),"\n    "),"\n    "]}),"\n  ")})}.call(this),function(){c.afRadioGroup_bootstrap3.helpers({atts:function t(){var t=u.clone(this.atts);return this.selected&&(t.checked=""),delete t["data-schema-key"],t},dsk:function e(){return{"data-schema-key":this.atts["data-schema-key"]}}})}.call(this),function(){c.__checkName("afRadioGroupInline_bootstrap3"),c.afRadioGroupInline_bootstrap3=new c("Template.afRadioGroupInline_bootstrap3",function(){var t=this;return S.DIV(S.Attrs({"class":"af-radio-group"},function(){return Spacebars.attrMustache(t.lookup("dsk"))}),"\n    ",l.Each(function(){return Spacebars.call(Spacebars.dot(t.lookup("."),"items"))},function(){return["\n    ",S.LABEL({"class":"radio-inline fix-indent"},"\n      ",S.INPUT(S.Attrs({type:"radio",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(t.lookup("atts"))})),"\n      ",l.View("lookup:..label",function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"label"))}),"\n    "),"\n    "]}),"\n  ")})}.call(this),function(){c.afRadioGroupInline_bootstrap3.helpers({atts:function t(){var t=u.clone(this.atts);return this.selected&&(t.checked=""),delete t["data-schema-key"],t},dsk:function e(){return{"data-schema-key":this.atts["data-schema-key"]}}})}.call(this),function(){c.__checkName("afInputSubmit_bootstrap3"),c.afInputSubmit_bootstrap3=new c("Template.afInputSubmit_bootstrap3",function(){var t=this;return S.INPUT(S.Attrs({type:"submit",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(t.lookup("attsPlusBtnClass"))}))})}.call(this),function(){c.__checkName("afInputTel_bootstrap3"),c.afInputTel_bootstrap3=new c("Template.afInputTel_bootstrap3",function(){var t=this;return S.INPUT(S.Attrs({type:"tel",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(t.lookup("attsPlusFormControlClass"))}))})}.call(this),function(){c.__checkName("afInputText_bootstrap3"),c.afInputText_bootstrap3=new c("Template.afInputText_bootstrap3",function(){var t=this;return S.INPUT(S.Attrs({type:"text",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(t.lookup("attsPlusFormControlClass"))}))})}.call(this),function(){c.__checkName("afTextarea_bootstrap3"),c.afTextarea_bootstrap3=new c("Template.afTextarea_bootstrap3",function(){var t=this;return S.TEXTAREA(S.Attrs(function(){return Spacebars.attrMustache(t.lookup("attsPlusFormControlClass"))},{value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}}))})}.call(this),function(){c.__checkName("afInputTime_bootstrap3"),c.afInputTime_bootstrap3=new c("Template.afInputTime_bootstrap3",function(){var t=this;return S.INPUT(S.Attrs({type:"time",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(t.lookup("attsPlusFormControlClass"))}))})}.call(this),function(){c.__checkName("afInputUrl_bootstrap3"),c.afInputUrl_bootstrap3=new c("Template.afInputUrl_bootstrap3",function(){var t=this;return S.INPUT(S.Attrs({type:"url",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(t.lookup("attsPlusFormControlClass"))}))})}.call(this),function(){c.__checkName("afInputWeek_bootstrap3"),c.afInputWeek_bootstrap3=new c("Template.afInputWeek_bootstrap3",function(){var t=this;return S.INPUT(S.Attrs({type:"week",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(t.lookup("attsPlusFormControlClass"))}))})}.call(this),function(){c.__checkName("quickForm_bootstrap3-horizontal"),c["quickForm_bootstrap3-horizontal"]=new c("Template.quickForm_bootstrap3-horizontal",function(){var t=this;return l._TemplateWith(function(){return Spacebars.call(t.lookup("qfAutoFormContext"))},function(){return Spacebars.include(t.lookupTemplate("autoForm"),function(){return["\n  ",l._TemplateWith(function(){return Spacebars.call(t.lookup("quickFieldsAtts"))},function(){return Spacebars.include(t.lookupTemplate("afQuickFields"))}),"\n  ",l.If(function(){return Spacebars.call(t.lookup("qfShouldRenderButton"))},function(){return["\n  ",S.DIV({"class":"form-group"},"\n    ",S.DIV({"class":function(){return Spacebars.mustache(t.lookup("labelClass"))}}),"\n    ",S.DIV({"class":function(){return Spacebars.mustache(t.lookup("inputClass"))}},"\n      ",S.BUTTON(S.Attrs({type:"submit"},function(){return Spacebars.attrMustache(t.lookup("submitButtonAtts"))}),"\n        ",Spacebars.With(function(){return Spacebars.call(Spacebars.dot(t.lookup(".."),"atts","buttonContent"))},function(){return["\n        ",l.View("lookup:.",function(){return Spacebars.mustache(t.lookup("."))}),"\n        "]},function(){return"\n        Submit\n        "}),"\n      "),"\n    "),"\n  "),"\n  "]}),"\n  "]})})})}.call(this),function(){c["quickForm_bootstrap3-horizontal"].helpers({inputClass:function(){return this.atts["input-col-class"]},labelClass:function(){return this.atts["label-class"]},quickFieldsAtts:function(){return u.pick(this.atts,"id-prefix","input-col-class","label-class")},submitButtonAtts:function(){var t=this.atts,e={};return e["class"]="string"==typeof t.buttonClasses?t.buttonClasses:"btn btn-primary",e},qfAutoFormContext:function(){var t=u.clone(this.qfAutoFormContext||{});return t=v.Utility.addClass(t,"form-horizontal"),delete t["input-col-class"],delete t["label-class"],delete t["id-prefix"],t}})}.call(this),function(){c.__checkName("afArrayField_bootstrap3-horizontal"),c["afArrayField_bootstrap3-horizontal"]=new c("Template.afArrayField_bootstrap3-horizontal",function(){var t=this;return S.DIV({"class":function(){return["form-group",l.If(function(){return Spacebars.dataMustache(t.lookup("afFieldIsInvalid"),Spacebars.kw({name:Spacebars.dot(t.lookup("."),"atts","name")}))},function(){return" has-error"})]}},"\n    ",S.LABEL(S.Attrs(function(){return Spacebars.attrMustache(t.lookup("afFieldLabelAtts"))}),l.View("lookup:afFieldLabelText",function(){return Spacebars.mustache(t.lookup("afFieldLabelText"),Spacebars.kw({name:Spacebars.dot(t.lookup("."),"atts","name")}))})),"\n    ",S.DIV({"class":function(){return Spacebars.mustache(t.lookup("rightColumnClass"))}},"\n      ",S.DIV({"class":"panel panel-default autoform-padding-fix"},"\n        ",l.If(function(){return Spacebars.dataMustache(t.lookup("afFieldIsInvalid"),Spacebars.kw({name:Spacebars.dot(t.lookup("."),"atts","name")}))},function(){return["\n        ",S.DIV({"class":"panel-body has-error"},"\n          ",S.SPAN({"class":"help-block"},l.View("lookup:afFieldMessage",function(){return Spacebars.makeRaw(Spacebars.mustache(t.lookup("afFieldMessage"),Spacebars.kw({name:Spacebars.dot(t.lookup("."),"atts","name")})))})),"\n        "),"\n        "]}),"\n        ",S.UL({"class":"list-group"},"\n          ",l._TemplateWith(function(){return{name:Spacebars.call(Spacebars.dot(t.lookup("."),"atts","name")),minCount:Spacebars.call(Spacebars.dot(t.lookup("."),"atts","minCount")),maxCount:Spacebars.call(Spacebars.dot(t.lookup("."),"atts","maxCount"))}},function(){return Spacebars.include(t.lookupTemplate("afEachArrayItem"),function(){return["\n          ",S.LI({"class":"list-group-item autoform-array-item"},"\n            ",S.DIV("\n              ",S.DIV({"class":"autoform-remove-item-wrap"},"\n                ",l.If(function(){return Spacebars.dataMustache(t.lookup("afArrayFieldHasMoreThanMinimum"),Spacebars.kw({name:Spacebars.dot(t.lookup(".."),"atts","name"),minCount:Spacebars.dot(t.lookup(".."),"atts","minCount"),maxCount:Spacebars.dot(t.lookup(".."),"atts","maxCount")}))},function(){return["\n                ",S.BUTTON({type:"button","class":"btn btn-primary autoform-remove-item"},S.SPAN({"class":"glyphicon glyphicon-minus"})),"\n                "]}),"\n              "),"\n              ",S.DIV({"class":"autoform-array-item-body"},"\n                ",l._TemplateWith(function(){return{name:Spacebars.call(Spacebars.dot(t.lookup("."),"name")),label:Spacebars.call(!1),options:Spacebars.call(t.lookup("afOptionsFromSchema"))}},function(){return Spacebars.include(t.lookupTemplate("afQuickField"))}),"\n              "),"\n            "),"\n          "),"\n          "]})}),"\n          ",l.If(function(){return Spacebars.dataMustache(t.lookup("afArrayFieldHasLessThanMaximum"),Spacebars.kw({name:Spacebars.dot(t.lookup("."),"atts","name"),minCount:Spacebars.dot(t.lookup("."),"atts","minCount"),maxCount:Spacebars.dot(t.lookup("."),"atts","maxCount")}))},function(){return["\n          ",S.LI({"class":"list-group-item"},"\n            ",S.BUTTON({type:"button","class":"btn btn-primary autoform-add-item","data-autoform-field":function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"atts","name"))},"data-autoform-mincount":function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"atts","minCount"))},"data-autoform-maxcount":function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"atts","maxCount"))}},S.SPAN({"class":"glyphicon glyphicon-plus"})),"\n          "),"\n          "]}),"\n        "),"\n      "),"\n    "),"\n  ")})}.call(this),function(){c["afArrayField_bootstrap3-horizontal"].helpers({rightColumnClass:function(){var t=this.atts||{};return t["input-col-class"]||""},afFieldLabelAtts:function(){var t={};return u.each(this.atts,function(e,a){0===a.indexOf("label-")&&(t[a.substring(6)]=e)}),t=v.Utility.addClass(t,"control-label")}})}.call(this),function(){c.__checkName("afFormGroup_bootstrap3-horizontal"),c["afFormGroup_bootstrap3-horizontal"]=new c("Template.afFormGroup_bootstrap3-horizontal",function(){var t=this;return S.DIV({"class":function(){return["form-group ",l.If(function(){return Spacebars.dataMustache(t.lookup("afFieldIsInvalid"),Spacebars.kw({name:Spacebars.dot(t.lookup("."),"name")}))},function(){return"has-error"})]},"data-required":function(){return Spacebars.mustache(t.lookup("required"))}},"\n    ",l.If(function(){return Spacebars.call(t.lookup("skipLabel"))},function(){return["\n    \n    ",S.LABEL(S.Attrs(function(){return Spacebars.attrMustache(t.lookup("afFieldLabelAtts"))})),"\n    "]},function(){return["\n    ",S.LABEL(S.Attrs(function(){return Spacebars.attrMustache(t.lookup("afFieldLabelAtts"))}),l.If(function(){return Spacebars.call(Spacebars.dot(t.lookup("."),"labelText"))},function(){return l.View("lookup:..labelText",function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"labelText"))})},function(){return l.View("lookup:afFieldLabelText",function(){return Spacebars.mustache(t.lookup("afFieldLabelText"),Spacebars.kw({name:Spacebars.dot(t.lookup("."),"name")}))})})),"\n    "]}),"\n    ",S.DIV({"class":function(){return Spacebars.mustache(t.lookup("rightColumnClass"))}},"\n      ",l._TemplateWith(function(){return Spacebars.call(t.lookup("afFieldInputAtts"))},function(){return Spacebars.include(t.lookupTemplate("afFieldInput"))}),"\n      ",S.SPAN({"class":"help-block"},l.View("lookup:afFieldMessage",function(){return Spacebars.makeRaw(Spacebars.mustache(t.lookup("afFieldMessage"),Spacebars.kw({name:Spacebars.dot(t.lookup("."),"name")})))})),"\n    "),"\n  ")})}.call(this),function(){c["afFormGroup_bootstrap3-horizontal"].helpers({afFieldInputAtts:function(){var t=u.clone(this.afFieldInputAtts||{});return"input-col-class"in t&&delete t["input-col-class"],t.template="boolean-checkbox"===v.getInputType(this.afFieldInputAtts)?"bootstrap3-horizontal":"bootstrap3",t},afFieldLabelAtts:function(){var t=u.clone(this.afFieldLabelAtts||{});return t=v.Utility.addClass(t,"control-label")},rightColumnClass:function(){var t=this.afFieldInputAtts||{};return t["input-col-class"]||""},skipLabel:function(){var t=this,e=v.getInputType(t.afFieldInputAtts);return t.skipLabel||"boolean-checkbox"===e&&!t.afFieldInputAtts.leftLabel}})}.call(this),function(){c.__checkName("afObjectField_bootstrap3-horizontal"),c["afObjectField_bootstrap3-horizontal"]=new c("Template.afObjectField_bootstrap3-horizontal",function(){var t=this;return S.DIV({"class":function(){return["form-group ",l.If(function(){return Spacebars.dataMustache(t.lookup("afFieldIsInvalid"),Spacebars.kw({name:Spacebars.dot(t.lookup("."),"name")}))},function(){return"has-error"})]}},"\n    ",S.LABEL(S.Attrs(function(){return Spacebars.attrMustache(t.lookup("afFieldLabelAtts"))}),l.View("lookup:afFieldLabelText",function(){return Spacebars.mustache(t.lookup("afFieldLabelText"),Spacebars.kw({name:Spacebars.dot(t.lookup("."),"name")}))})),"\n    ",S.DIV({"class":function(){return Spacebars.mustache(t.lookup("rightColumnClass"))}},"\n      ",S.DIV({"class":"panel panel-default autoform-padding-fix"},"\n        ",S.DIV({"class":"panel-body"},"\n          ",l._TemplateWith(function(){return Spacebars.call(t.lookup("quickFieldsAtts"))},function(){return Spacebars.include(t.lookupTemplate("afQuickFields"))}),"\n        "),"\n      "),"\n    "),"\n  ")})}.call(this),function(){c["afObjectField_bootstrap3-horizontal"].helpers({rightColumnClass:function(){return this["input-col-class"]||""},afFieldLabelAtts:function(){var t={};return u.each(this,function(e,a){0===a.indexOf("label-")&&(t[a.substring(6)]=e)}),t=v.Utility.addClass(t,"control-label")},quickFieldsAtts:function(){var t=u.pick(this,"name","id-prefix");return t.template="bootstrap3",t}})}.call(this),function(){c.__checkName("afCheckbox_bootstrap3-horizontal"),c["afCheckbox_bootstrap3-horizontal"]=new c("Template.afCheckbox_bootstrap3-horizontal",function(){var t=this;return l.If(function(){return Spacebars.call(t.lookup("useLeftLabel"))},function(){return["\n  \n  ",S.DIV({"class":"checkbox"},"\n    ",S.INPUT(S.Attrs({type:"checkbox",value:"true"},function(){return Spacebars.attrMustache(t.lookup("attsPlusSpecialClass"))})),"\n  "),"\n  "]},function(){return["\n  ",S.DIV({"class":"checkbox"},"\n    ",S.LABEL("\n      ",S.INPUT(S.Attrs({type:"checkbox",value:"true"},function(){return Spacebars.attrMustache(t.lookup("atts"))})),"\n      ",l.View("lookup:afFieldLabelText",function(){return Spacebars.mustache(t.lookup("afFieldLabelText"),Spacebars.kw({name:Spacebars.dot(t.lookup("."),"name")}))}),"\n    "),"\n  "),"\n  "]})})}.call(this),function(){c["afCheckbox_bootstrap3-horizontal"].helpers({attsPlusSpecialClass:function(){var t=u.clone(this.atts);return t=v.Utility.addClass(t,"autoform-checkbox-margin-fix")},useLeftLabel:function(){return this.atts.leftLabel}})}.call(this),function(){c.__checkName("quickForm_bootstrap3-inline"),c["quickForm_bootstrap3-inline"]=new c("Template.quickForm_bootstrap3-inline",function(){var t=this;return l._TemplateWith(function(){return Spacebars.call(t.lookup("qfAutoFormContext"))},function(){return Spacebars.include(t.lookupTemplate("autoForm"),function(){return["\n    ",l._TemplateWith(function(){return Spacebars.call(t.lookup("quickFieldsAtts"))},function(){return Spacebars.include(t.lookupTemplate("afQuickFields"))}),"\n    ",l.If(function(){return Spacebars.call(t.lookup("qfShouldRenderButton"))},function(){return["\n    ",S.BUTTON(S.Attrs({type:"submit"},function(){return Spacebars.attrMustache(t.lookup("submitButtonAtts"))}),"\n    ",Spacebars.With(function(){return Spacebars.call(Spacebars.dot(t.lookup(".."),"atts","buttonContent"))},function(){return["\n    ",l.View("lookup:.",function(){return Spacebars.mustache(t.lookup("."))}),"\n    "]},function(){return"\n    Submit\n    "}),"\n    "),"\n    "]}),"\n  "]})})}),c.__checkName("afFormGroup_bootstrap3-inline"),c["afFormGroup_bootstrap3-inline"]=new c("Template.afFormGroup_bootstrap3-inline",function(){var t=this;return S.DIV({"class":function(){return["form-group ",l.If(function(){return Spacebars.dataMustache(t.lookup("afFieldIsInvalid"),Spacebars.kw({name:Spacebars.dot(t.lookup("."),"name")}))},function(){return"has-error"})]},"data-required":function(){return Spacebars.mustache(t.lookup("required"))}},"\n    ",l.Unless(function(){return Spacebars.call(t.lookup("skipLabel"))},function(){return["\n    ",S.LABEL(S.Attrs(function(){return Spacebars.attrMustache(t.lookup("afFieldLabelAtts"))}),l.If(function(){return Spacebars.call(Spacebars.dot(t.lookup("."),"labelText"))},function(){return l.View("lookup:..labelText",function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"labelText"))})},function(){return l.View("lookup:afFieldLabelText",function(){return Spacebars.mustache(t.lookup("afFieldLabelText"),Spacebars.kw({name:Spacebars.dot(t.lookup("."),"name")}))})})),"\n    "]}),"\n    ",l._TemplateWith(function(){return Spacebars.call(t.lookup("afFieldInputAtts"))},function(){return Spacebars.include(t.lookupTemplate("afFieldInput"))}),"\n    ",S.SPAN({"class":"help-block"},l.View("lookup:afFieldMessage",function(){return Spacebars.makeRaw(Spacebars.mustache(t.lookup("afFieldMessage"),Spacebars.kw({name:Spacebars.dot(t.lookup("."),"name")})))})),"\n  ")})}.call(this),function(){c["quickForm_bootstrap3-inline"].helpers({submitButtonAtts:function(){var t=this.atts,e={};return e["class"]="string"==typeof t.buttonClasses?t.buttonClasses:"btn btn-primary autoform-inline-align",e},qfAutoFormContext:function(){var t=u.clone(this.qfAutoFormContext||{});return t=v.Utility.addClass(t,"form-inline"),delete t["id-prefix"],delete t["label-class"],t},quickFieldsAtts:function(){return u.pick(this.atts,"id-prefix","label-class")}}),c["afFormGroup_bootstrap3-inline"].helpers({afFieldInputAtts:function(){var t=u.clone(this.afFieldInputAtts||{});return t.template="bootstrap3",t}})}.call(this),function(){c.__checkName("quickForm_plain"),c.quickForm_plain=new c("Template.quickForm_plain",function(){var t=this;return l._TemplateWith(function(){return Spacebars.call(t.lookup("qfAutoFormContext"))},function(){return Spacebars.include(t.lookupTemplate("autoForm"),function(){return["\n    ",l._TemplateWith(function(){return Spacebars.call(t.lookup("quickFieldsAtts"))},function(){return Spacebars.include(t.lookupTemplate("afQuickFields"))}),"\n    ",l.If(function(){return Spacebars.call(t.lookup("qfShouldRenderButton"))},function(){return["\n    ",S.DIV("\n      ",S.BUTTON(S.Attrs({type:"submit"},function(){return Spacebars.attrMustache(t.lookup("submitButtonAtts"))}),"\n      ",Spacebars.With(function(){return Spacebars.call(Spacebars.dot(t.lookup(".."),"atts","buttonContent"))},function(){return["\n      ",l.View("lookup:.",function(){return Spacebars.mustache(t.lookup("."))}),"\n      "]},function(){return"\n      Submit\n      "}),"\n      "),"\n    "),"\n    "]}),"\n  "]})})})}.call(this),function(){c.quickForm_plain.helpers({quickFieldsAtts:function(){return u.pick(this.atts,"id-prefix")},submitButtonAtts:function t(){var t=this.atts,e={};return"string"==typeof t.buttonClasses&&(e["class"]=t.buttonClasses),e},qfAutoFormContext:function(){var t=u.clone(this.qfAutoFormContext);return delete t["id-prefix"],t}})}.call(this),function(){c.__checkName("afArrayField_plain"),c.afArrayField_plain=new c("Template.afArrayField_plain",function(){var t=this;return S.FIELDSET("\n    ",S.LEGEND(l.View("lookup:afFieldLabelText",function(){return Spacebars.mustache(t.lookup("afFieldLabelText"),Spacebars.kw({name:Spacebars.dot(t.lookup("."),"atts","name")}))})),"\n    ",l.If(function(){return Spacebars.dataMustache(t.lookup("afFieldIsInvalid"),Spacebars.kw({name:Spacebars.dot(t.lookup("."),"atts","name")}))},function(){return["\n    ",S.DIV({"class":"autoform-array-field-error"},"\n      ",l.View("lookup:afFieldMessage",function(){return Spacebars.makeRaw(Spacebars.mustache(t.lookup("afFieldMessage"),Spacebars.kw({name:Spacebars.dot(t.lookup("."),"atts","name")})))}),"\n    "),"\n    "]}),"\n    ",l._TemplateWith(function(){return{name:Spacebars.call(Spacebars.dot(t.lookup("."),"atts","name")),minCount:Spacebars.call(Spacebars.dot(t.lookup("."),"atts","minCount")),maxCount:Spacebars.call(Spacebars.dot(t.lookup("."),"atts","maxCount"))}},function(){return Spacebars.include(t.lookupTemplate("afEachArrayItem"),function(){return["\n    ",S.DIV({"class":"autoform-array-item"},"\n      ",l._TemplateWith(function(){return{name:Spacebars.call(Spacebars.dot(t.lookup("."),"name")),label:Spacebars.call(!1)}},function(){return Spacebars.include(t.lookupTemplate("afQuickField"))}),"\n      ",l.If(function(){return Spacebars.dataMustache(t.lookup("afArrayFieldHasMoreThanMinimum"),Spacebars.kw({name:Spacebars.dot(t.lookup(".."),"atts","name"),minCount:Spacebars.dot(t.lookup(".."),"atts","minCount"),maxCount:Spacebars.dot(t.lookup(".."),"atts","maxCount")}))},function(){return["\n      ",S.BUTTON({type:"button","class":"autoform-remove-item"},"Remove"),"\n      "]}),"\n    "),"\n    "]})}),"\n    ",l.If(function(){return Spacebars.dataMustache(t.lookup("afArrayFieldHasLessThanMaximum"),Spacebars.kw({name:Spacebars.dot(t.lookup("."),"atts","name"),minCount:Spacebars.dot(t.lookup("."),"atts","minCount"),maxCount:Spacebars.dot(t.lookup("."),"atts","maxCount")}))},function(){return["\n    ",S.DIV({style:"margin-top: 20px;"},"\n      ",S.BUTTON({type:"button","class":"autoform-add-item","data-autoform-field":function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"atts","name"))},"data-autoform-mincount":function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"atts","minCount"))},"data-autoform-maxcount":function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"atts","maxCount"))}},"Add"),"\n    "),"\n    "]}),"\n  ")})}.call(this),function(){c.__checkName("afFormGroup_plain"),c.afFormGroup_plain=new c("Template.afFormGroup_plain",function(){var t=this;return S.DIV({"class":function(){return l.If(function(){return Spacebars.dataMustache(t.lookup("afFieldIsInvalid"),Spacebars.kw({name:Spacebars.dot(t.lookup("."),"name")}))},function(){return"has-error"})},"data-required":function(){return Spacebars.mustache(t.lookup("required"))}},"\n    ",l.Unless(function(){return Spacebars.call(Spacebars.dot(t.lookup("."),"skipLabel"))},function(){return["\n    ",S.LABEL(S.Attrs(function(){return Spacebars.attrMustache(Spacebars.dot(t.lookup("."),"afFieldLabelAtts"))}),l.If(function(){return Spacebars.call(Spacebars.dot(t.lookup("."),"labelText"))},function(){return l.View("lookup:..labelText",function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"labelText"))})},function(){return l.View("lookup:afFieldLabelText",function(){return Spacebars.mustache(t.lookup("afFieldLabelText"),Spacebars.kw({name:Spacebars.dot(t.lookup("."),"name")}))})})),"\n    "]}),"\n    ",l._TemplateWith(function(){return Spacebars.call(Spacebars.dot(t.lookup("."),"afFieldInputAtts"))},function(){return Spacebars.include(t.lookupTemplate("afFieldInput"))}),"\n    ",S.SPAN(l.View("lookup:afFieldMessage",function(){return Spacebars.makeRaw(Spacebars.mustache(t.lookup("afFieldMessage"),Spacebars.kw({name:Spacebars.dot(t.lookup("."),"name")})))})),"\n  ")})}.call(this),function(){c.__checkName("afObjectField_plain"),c.afObjectField_plain=new c("Template.afObjectField_plain",function(){var t=this;return S.FIELDSET("\n    ",Spacebars.With(function(){return Spacebars.dataMustache(t.lookup("afFieldLabelText"),Spacebars.kw({name:Spacebars.dot(t.lookup("."),"name")}))},function(){return["\n    ",S.LEGEND(l.View("lookup:.",function(){return Spacebars.mustache(t.lookup("."))})),"\n    "]}),"\n    ",l._TemplateWith(function(){return Spacebars.call(t.lookup("quickFieldsAtts"))},function(){return Spacebars.include(t.lookupTemplate("afQuickFields"))}),"\n  ")})}.call(this),function(){c.afObjectField_plain.helpers({quickFieldsAtts:function(){return u.pick(this,"name","id-prefix")}})}.call(this),function(){c.__checkName("quickForm_plain-fieldset"),c["quickForm_plain-fieldset"]=new c("Template.quickForm_plain-fieldset",function(){var t=this;return l._TemplateWith(function(){return Spacebars.call(t.lookup("qfAutoFormContext"))},function(){return Spacebars.include(t.lookupTemplate("autoForm"),function(){return["\n    ",S.FIELDSET("\n      ",Spacebars.With(function(){return Spacebars.call(Spacebars.dot(t.lookup(".."),"atts","legend"))},function(){return["\n      ",S.LEGEND(l.View("lookup:.",function(){return Spacebars.mustache(t.lookup("."))})),"\n      "]}),"\n      ",l._TemplateWith(function(){return Spacebars.call(t.lookup("quickFieldsAtts"))},function(){return Spacebars.include(t.lookupTemplate("afQuickFields"))}),"\n    "),"\n    ",l.If(function(){return Spacebars.call(t.lookup("qfShouldRenderButton"))},function(){return["\n    ",S.DIV("\n      ",S.BUTTON(S.Attrs({type:"submit"},function(){return Spacebars.attrMustache(t.lookup("submitButtonAtts"))}),"\n        ",Spacebars.With(function(){return Spacebars.call(Spacebars.dot(t.lookup(".."),"atts","buttonContent"))},function(){return["\n        ",l.View("lookup:.",function(){return Spacebars.mustache(t.lookup("."))}),"\n        "]},function(){return"\n        Submit\n        "}),"\n      "),"\n    "),"\n    "]}),"\n  "]})})})}.call(this),function(){c["quickForm_plain-fieldset"].helpers({quickFieldsAtts:function(){return u.pick(this.atts,"id-prefix")},submitButtonAtts:function t(){var t=this.atts,e={};return"string"==typeof t.buttonClasses&&(e["class"]=t.buttonClasses),e},qfAutoFormContext:function(){var t=u.clone(this.qfAutoFormContext);return delete t["id-prefix"],t}})}.call(this),"undefined"==typeof Package&&(Package={}),Package["aldeed:autoform"]={AutoForm:v,Utility:y}}();

!function(){var e=Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package["mquandalle:stylus"]={}}();

!function(){var e=Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package["mquandalle:jade"]={}}();

!function(){var e=Package.meteor.Meteor,t=Package.random.Random;(function(){var o="_localstorage_test_"+t.id(),a;try{window.localStorage&&(window.localStorage.setItem(o,o),a=window.localStorage.getItem(o),window.localStorage.removeItem(o))}catch(n){}o===a&&(e._localStorage={getItem:function(e){return window.localStorage.getItem(e)},setItem:function(e,t){window.localStorage.setItem(e,t)},removeItem:function(e){window.localStorage.removeItem(e)}}),e._localStorage||(e._debug("You are running a browser with no localStorage or userData support. Logging in from one tab will not cause another tab to be logged in."),e._localStorage={_data:{},setItem:function(e,t){this._data[e]=t},removeItem:function(e){delete this._data[e]},getItem:function(e){var t=this._data[e];return void 0===t?null:t}})}).call(this),"undefined"==typeof Package&&(Package={}),Package.localstorage={}}();

!function(){var e=Package.meteor.Meteor,n=Package.underscore._,a;(function(){a=function(e){var a=this;if(e=e||{},a.nextCallbackId=0,a.callbacks={},e.exceptionHandler)a.exceptionHandler=e.exceptionHandler;else if(e.debugPrintExceptions){if(!n.isString(e.debugPrintExceptions))throw new Error("Hook option debugPrintExceptions should be a string");a.exceptionHandler=e.debugPrintExceptions}},n.extend(a.prototype,{register:function(n){var a=this;n=e.bindEnvironment(n,a.exceptionHandler||function(e){throw e});var t=a.nextCallbackId++;return a.callbacks[t]=n,{stop:function(){delete a.callbacks[t]}}},each:function(a){var t=this;e._nodeCodeMustBeInFiber();for(var c=n.keys(t.callbacks),o=0;o<c.length;++o){var i=c[o];if(n.has(t.callbacks,i)){var r=t.callbacks[i];if(!a(r))break}}}})}).call(this),"undefined"==typeof Package&&(Package={}),Package["callback-hook"]={Hook:a}}();

!function(){var e=Package.meteor.Meteor,n=Package.underscore._,o=Package.tracker.Tracker,t=Package.tracker.Deps,i=Package.random.Random,r=Package["callback-hook"].Hook,a=Package.ddp.DDP,c=Package.mongo.Mongo,l,u,s,g,f,d,m,p,_,k,h,v,w,E,y,C;(function(){l={},l._options={};var o=90,t=3600;s=6e5,g=1e4,l.config=function(o){if(e.isServer?__meteor_runtime_config__.accountsConfigCalled=!0:__meteor_runtime_config__.accountsConfigCalled||e._debug("Accounts.config was called on the client but not on the server; some configuration options may not take effect."),n.has(o,"oauthSecretKey")){if(e.isClient)throw new Error("The oauthSecretKey option may only be specified on the server");if(!Package["oauth-encryption"])throw new Error("The oauth-encryption package must be loaded to set oauthSecretKey");Package["oauth-encryption"].OAuthEncryption.loadKey(o.oauthSecretKey),o=n.omit(o,"oauthSecretKey")}var t=["sendVerificationEmail","forbidClientAccountCreation","restrictCreationByEmailDomain","loginExpirationInDays"];n.each(n.keys(o),function(e){if(!n.contains(t,e))throw new Error("Accounts.config: Invalid key: "+e)}),n.each(t,function(e){if(e in o){if(e in l._options)throw new Error("Can't set `"+e+"` more than once");l._options[e]=o[e]}}),e.isServer&&maybeStopExpireTokensInterval()},e.isClient&&(l.connection=e.connection,"undefined"!=typeof __meteor_runtime_config__&&__meteor_runtime_config__.ACCOUNTS_CONNECTION_URL&&(l.connection=a.connect(__meteor_runtime_config__.ACCOUNTS_CONNECTION_URL))),e.users=new c.Collection("users",{_preventAutopublish:!0,connection:e.isClient?l.connection:e.connection}),e.startup(function(){var e=Package["service-configuration"].ServiceConfiguration;l.loginServiceConfiguration=e.configurations,l.ConfigError=e.ConfigError}),l.LoginCancelledError=function(e){this.message=e},l.LoginCancelledError.numericError=145546287,l.LoginCancelledError.prototype=new Error,l.LoginCancelledError.prototype.name="Accounts.LoginCancelledError",f=function(){return 24*(l._options.loginExpirationInDays||o)*60*60*1e3},l._tokenExpiration=function(e){return new Date(new Date(e).getTime()+f())},l._tokenExpiresSoon=function(e){var n=.1*f(),o=1e3*t;return n>o&&(n=o),new Date>new Date(e)-n},d=new r({debugPrintExceptions:"onLogin callback"}),m=new r({debugPrintExceptions:"onLoginFailure callback"}),l.onLogin=function(e){return d.register(e)},l.onLoginFailure=function(e){return m.register(e)}}).call(this),function(){p=!0;var o=["reset-password","verify-email","enroll-account"],t=function(e,t){n.each(o,function(n){var o;_=new RegExp("^\\#\\/"+n+"\\/(.*)$"),k=e.match(_),k&&(o=k[1],"reset-password"===n?l._resetPasswordToken=o:"verify-email"===n?l._verifyEmailToken=o:"enroll-account"===n&&(l._enrollAccountToken=o),t(o,n))})},i={},r=function(){l._enableAutoLogin()};t(window.location.hash,function(n,o){p=!1,window.location.hash="",e.startup(function(){i[o]&&i[o](n,r)})}),u={attemptToMatchHash:t},l.onResetPasswordLink=function(n){i["reset-password"]&&e._debug("Accounts.onResetPasswordLink was called more than once. Only one callback added will be executed."),i["reset-password"]=n},l.onEmailVerificationLink=function(n){i["verify-email"]&&e._debug("Accounts.onEmailVerificationLink was called more than once. Only one callback added will be executed."),i["verify-email"]=n},l.onEnrollmentLink=function(n){i["enroll-account"]&&e._debug("Accounts.onEnrollmentLink was called more than once. Only one callback added will be executed."),i["enroll-account"]=n}}.call(this),function(){e.userId=function(){return l.connection.userId()};var t=!1,i=new o.Dependency;l._setLoggingIn=function(e){t!==e&&(t=e,i.changed())},e.loggingIn=function(){return i.depend(),t},e.user=function(){var n=e.userId();return n?e.users.findOne(n):null},l.callLoginMethod=function(e){e=n.extend({methodName:"login",methodArguments:[{}],_suppressLoggingIn:!1},e),n.each(["validateResult","userCallback"],function(n){e[n]||(e[n]=function(){})});var o=n.once(function(n){n?m.each(function(e){e()}):d.each(function(e){e()}),e.userCallback.apply(this,arguments)}),t=!1,i=function(e,n){l.connection.onReconnect=!e&&n&&n.token?function(){t=!0;var e=y();e&&(n={token:e,tokenExpires:C()}),n.tokenExpires||(n.tokenExpires=l._tokenExpiration(new Date)),l._tokenExpiresSoon(n.tokenExpires)?h():l.callLoginMethod({methodArguments:[{resume:n.token}],_suppressLoggingIn:!0,userCallback:function(e){var t=y();e&&t&&t===n.token&&h(),o(e)}})}:null},r=function(n,i){if(!t){if(l._setLoggingIn(!1),n||!i)return n=n||new Error("No result from call to "+e.methodName),void o(n);try{e.validateResult(i)}catch(r){return void o(r)}v(i.id,i.token,i.tokenExpires),o()}};e._suppressLoggingIn||l._setLoggingIn(!0),l.connection.apply(e.methodName,e.methodArguments,{wait:!0,onResultReceived:i},r)},h=function(){E(),l.connection.setUserId(null),l.connection.onReconnect=null},v=function(e,n,o){w(e,n,o),l.connection.setUserId(e)},e.logout=function(e){l.connection.apply("logout",[],{wait:!0},function(n,o){n?e&&e(n):(h(),e&&e())})},e.logoutOtherClients=function(n){l.connection.apply("getNewToken",[],{wait:!0},function(n,o){n||w(e.userId(),o.token,o.tokenExpires)}),l.connection.apply("removeOtherTokens",[],{wait:!0},function(e){n&&n(e)})};var r=l.connection.subscribe("meteor.loginServiceConfiguration");l.loginServicesConfigured=function(){return r.ready()};var a=[],c=null;l.onPageLoadLogin=function(e){c?e(c):a.push(e)},l._pageLoadLogin=function(o){return c?void e._debug("Ignoring unexpected duplicate page load login attempt info"):(n.each(a,function(e){e(o)}),a=[],void(c=o))},Package.blaze&&(Package.blaze.Blaze.Template.registerHelper("currentUser",function(){return e.user()}),Package.blaze.Blaze.Template.registerHelper("loggingIn",function(){return e.loggingIn()}))}.call(this),function(){var n;e.loginWithToken=function(e,n){l.callLoginMethod({methodArguments:[{resume:e}],userCallback:n})},l._enableAutoLogin=function(){p=!0,g()};var o="Meteor.loginToken",t="Meteor.loginTokenExpires",r="Meteor.userId";l._isolateLoginTokenForTest=function(){o+=i.id(),r+=i.id()},w=function(i,a,c){e._localStorage.setItem(r,i),e._localStorage.setItem(o,a),c||(c=l._tokenExpiration(new Date)),e._localStorage.setItem(t,c),n=a},E=function(){e._localStorage.removeItem(r),e._localStorage.removeItem(o),e._localStorage.removeItem(t),n=null},y=l._storedLoginToken=function(){return e._localStorage.getItem(o)},C=function(){return e._localStorage.getItem(t)};var a=function(){return e._localStorage.getItem(r)},c=function(){var n=e._localStorage.getItem(t);n&&l._tokenExpiresSoon(new Date(n))&&E()};if(p){c();var u=y();if(u){var s=a();s&&l.connection.setUserId(s),e.loginWithToken(u,function(n){n&&(e._debug("Error logging in with token: "+n),h()),l._pageLoadLogin({type:"resume",allowed:!n,error:n,methodName:"login",methodArguments:[{resume:u}]})})}}n=u;var g=function(){if(p){var o=y();n!=o&&(o?e.loginWithToken(o,function(e){e&&h()}):e.logout()),n=o}};setInterval(g,3e3)}.call(this),"undefined"==typeof Package&&(Package={}),Package["accounts-base"]={Accounts:l,AccountsTest:u}}();

!function(){var r=Package.meteor.Meteor,e=Package.underscore._,o=Package["accounts-base"].Accounts,n;(function(){!function(){r.roles||(r.roles=new r.Collection("roles")),"undefined"==typeof n&&(n={});var o="Roles error: Can't mix grouped and non-grouped roles for same user";e.extend(n,{GLOBAL_GROUP:"__global_roles__",createRole:function(e){var o,n;if(e&&"string"==typeof e&&0!==e.trim().length)try{return o=r.roles.insert({name:e.trim()})}catch(t){if("MongoError"!==t.name)throw t;if(n=t.err.match(/^E11000 duplicate key error index: ([^ ]+)/),!n)throw t;if(-1!==n[1].indexOf("$name"))throw new r.Error(403,"Role already exists.");throw t}},deleteRole:function(e){if(e){var o=r.users.findOne({roles:{$in:[e]}},{fields:{_id:1}});if(o)throw new r.Error(403,"Role in use");var n=r.roles.findOne({name:e});n&&r.roles.remove({_id:n._id})}},addUsersToRoles:function(r,e,o){n._updateUserRoles(r,e,o,n._update_$addToSet_fn)},setUserRoles:function(r,e,o){n._updateUserRoles(r,e,o,n._update_$set_fn)},removeUsersFromRoles:function(n,t,s){var i;if(!n)throw new Error("Missing 'users' param");if(!t)throw new Error("Missing 'roles' param");if(s){if("string"!=typeof s)throw new Error("Roles error: Invalid parameter 'group'. Expected 'string' type");if("$"===s[0])throw new Error("Roles error: groups can not start with '$'");s=s.replace(/\./g,"_")}e.isArray(n)||(n=[n]),e.isArray(t)||(t=[t]),n=e.reduce(n,function(r,e){var o;return"string"==typeof e?r.push(e):"object"==typeof e&&(o=e._id,"string"==typeof o&&r.push(o)),r},[]),s?(i={$pullAll:{}},i.$pullAll["roles."+s]=t):i={$pullAll:{roles:t}};try{r.isClient?e.each(n,function(e){r.users.update({_id:e},i)}):r.users.update({_id:{$in:n}},i,{multi:!0})}catch(a){var l="Cannot apply $pull/$pullAll modifier to non-array";if("MongoError"===a.name&&a.err===l)throw new Error(o);throw a}},userIsInRole:function(o,t,s){var i,a,l,u,f=!1;if(e.isArray(t)||(t=[t]),!o)return!1;if(s){if("string"!=typeof s)return!1;if("$"===s[0])return!1;s=s.replace(/\./g,"_")}if("object"==typeof o){if(a=o.roles,e.isArray(a))return e.some(t,function(r){return e.contains(a,r)});if("object"==typeof a)return f=e.isArray(a[s])&&e.some(t,function(r){return e.contains(a[s],r)}),f||(f=e.isArray(a[n.GLOBAL_GROUP])&&e.some(t,function(r){return e.contains(a[n.GLOBAL_GROUP],r)})),f;i=o._id}else"string"==typeof o&&(i=o);return i?(l={_id:i,$or:[]},u={},u["roles."+n.GLOBAL_GROUP]={$in:t},l.$or.push(u),s?(u={},u["roles."+s]={$in:t},l.$or.push(u)):l.$or.push({roles:{$in:t}}),f=r.users.findOne(l,{fields:{_id:1}}),f?!0:!1):!1},getRolesForUser:function(o,t){if(!o)return[];if(t){if("string"!=typeof t)return[];if("$"===t[0])return[];t=t.replace(/\./g,"_")}if("string"==typeof o)o=r.users.findOne({_id:o},{fields:{roles:1}});else if("object"!=typeof o)return[];return o&&o.roles?t?e.union(o.roles[t]||[],o.roles[n.GLOBAL_GROUP]||[]):e.isArray(o.roles)?o.roles:o.roles[n.GLOBAL_GROUP]||[]:[]},getAllRoles:function(){return r.roles.find({},{sort:{name:1}})},getUsersInRole:function(o,t){var s,i=o,a;if(e.isArray(i)||(i=[i]),t){if("string"!=typeof t)throw new Error("Roles error: Invalid parameter 'group'. Expected 'string' type");if("$"===t[0])throw new Error("Roles error: groups can not start with '$'");t=t.replace(/\./g,"_")}return s={$or:[]},a={},a["roles."+n.GLOBAL_GROUP]={$in:i},s.$or.push(a),t?(a={},a["roles."+t]={$in:i},s.$or.push(a)):s.$or.push({roles:{$in:i}}),r.users.find(s)},getGroupsForUser:function(o,t){var s=[];if(!o)return[];if(t){if("string"!=typeof t)return[];if("$"===t[0])return[];t=t.replace(".","_")}if("string"==typeof o)o=r.users.findOne({_id:o},{fields:{roles:1}});else if("object"!=typeof o)return[];return o&&o.roles&&!e.isArray(o.roles)?t?(e.each(o.roles,function(r,o){e.contains(r,t)&&o!==n.GLOBAL_GROUP&&s.push(o)}),s):e.without(e.keys(o.roles),n.GLOBAL_GROUP):[]},_update_$set_fn:function(r,e){var o={};return e?(o.$set={},o.$set["roles."+e]=r):o.$set={roles:r},o},_update_$addToSet_fn:function(r,e){var o={};return e?(o.$addToSet={},o.$addToSet["roles."+e]={$each:r}):o.$addToSet={roles:{$each:r}},o},_updateUserRoles:function(t,s,i,a){if(!t)throw new Error("Missing 'users' param");if(!s)throw new Error("Missing 'roles' param");if(i){if("string"!=typeof i)throw new Error("Roles error: Invalid parameter 'group'. Expected 'string' type");if("$"===i[0])throw new Error("Roles error: groups can not start with '$'");i=i.replace(/\./g,"_")}var l,u,f;e.isArray(t)||(t=[t]),e.isArray(s)||(s=[s]),s=e.reduce(s,function(r,e){return e&&"string"==typeof e&&e.trim().length>0&&r.push(e.trim()),r},[]),l=e.reduce(r.roles.find({}).fetch(),function(r,e){return r[e.name]=!0,r},{}),e.each(s,function(r){l[r]||n.createRole(r)}),t=e.reduce(t,function(r,e){var o;return"string"==typeof e?r.push(e):"object"==typeof e&&(o=e._id,"string"==typeof o&&r.push(o)),r},[]),f=a(s,i);try{r.isClient?e.each(t,function(e){r.users.update({_id:e},f)}):r.users.update({_id:{$in:t}},f,{multi:!0})}catch(c){var p="Cannot apply $addToSet modifier to non-array",d="can't append to array using string field name";if("MongoError"===c.name&&(c.err===p||c.err.substring(0,45)===d))throw new Error(o);throw c}}})}()}).call(this),function(){!function(){var o;n._uiHelpers={isInRole:function(o,t){var s=r.user(),i=(o||"").indexOf(","),a;return s&&Match.test(o,String)?(a=-1!==i?e.reduce(o.split(","),function(r,e){return e&&e.trim()?(r.push(e.trim()),r):r},[]):[o],Match.test(t,String)?n.userIsInRole(s,a,t):n.userIsInRole(s,a)):!1}},Package.blaze&&Package.blaze.Blaze&&Package.blaze.Blaze.registerHelper?o=Package.blaze.Blaze.registerHelper:Package.ui&&Package.ui.UI?o=Package.ui.UI.registerHelper:Package.handlebars&&Package.handlebars.Handlebars&&(o=Package.handlebars.Handlebars.registerHelper),o?e.each(n._uiHelpers,function(r,e){o(e,r)}):console.log&&console.log("WARNING: Roles template helpers not registered. Handlebars, UI, or Blaze packages not found")}()}.call(this),"undefined"==typeof Package&&(Package={}),Package["alanning:roles"]={Roles:n}}();

!function(){var e=Package.meteor.Meteor,a=Package.underscore._,c=Package["reactive-dict"].ReactiveDict,n=Package.ejson.EJSON,i;(function(){i=new c("session")}).call(this),"undefined"==typeof Package&&(Package={}),Package.session={Session:i}}();

!function(){var e=Package.meteor.Meteor,a=Package["alanning:roles"].Roles,c=Package["reactive-var"].ReactiveVar,t=Package["accounts-base"].Accounts,n=Package.session.Session,l=Package.jquery.$,r=Package.jquery.jQuery,s;(function(){s={},s.ready=new c(!1),s.callActive=new c(!1),s.call=function(e){s.rtcc&&s.ready.get()&&s.rtcc.createCall(e,"internal","")},s.hangup=function(){s.currentCall&&s.currentCall.hangup()},s.errorCallback=function(){},t.onLogin(function(){a.userIsInRole(e.user(),["dentist","ma"])&&l.ajax({url:"https://download.rtccloud.net/js/webappid/"+e.settings["public"].sightcall.appid,dataType:"script",success:function(a,c,t){e.call("getVoipToken",function(a,c){s.rtcc=new Rtcc(e.settings["public"].sightcall.appid,c,"internal",{container:"video-container",defaultStyle:!1}),s.rtcc.onConnectionHandler=function(a,c){switch(a){case"sipOk":s.ready.set(!0);break;case"loggedasotheruser":e.call("get_voip_token",function(e,a){s.rtcc.setToken(a),s.rtcc.forceAuthenticate()})}},s.rtcc.onCallHandler=function(e,a){if("call"===a.type||"webRTCcall"===a.type)if("active"===a.status)s.currentCall=e,s.callActive.set(!0);else if("terminated"===a.status)switch(delete s.currentCall,s.callActive.set(!1),a.reason){case"remote hangup":case"noAnswer":case"busy":case"rejected":case"unavailable":case"notFound":case"canceled":case"networkError":case"userDeniedMediaAccess":case"notAllowed":case"unknown":s.errorCallback(a.reason)}},s.rtcc.initialize()})}})})}).call(this),"undefined"==typeof Package&&(Package={}),Package.sightcall={SightCall:s}}();

!function(){var e=Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package["npm-bcrypt"]={}}();

!function(){var r=Package.meteor.Meteor,n;(function(){n=function(){function r(r){function n(r,n){var t=(65535&r)+(65535&n),e=(r>>16)+(n>>16)+(t>>16);return e<<16|65535&t}function t(r,n){return r>>>n|r<<32-n}function e(r,n){return r>>>n}function o(r,n,t){return r&n^~r&t}function a(r,n,t){return r&n^r&t^n&t}function u(r){return t(r,2)^t(r,13)^t(r,22)}function f(r){return t(r,6)^t(r,11)^t(r,25)}function c(r){return t(r,7)^t(r,18)^e(r,3)}function i(r){return t(r,17)^t(r,19)^e(r,10)}function h(r,t){var e=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),h=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),g=new Array(64),C,d,v,A,l,m,S,y,k,P,w,s;r[t>>5]|=128<<24-t%32,r[(t+64>>9<<4)+15]=t;for(var k=0;k<r.length;k+=16){C=h[0],d=h[1],v=h[2],A=h[3],l=h[4],m=h[5],S=h[6],y=h[7];for(var P=0;64>P;P++)g[P]=16>P?r[P+k]:n(n(n(i(g[P-2]),g[P-7]),c(g[P-15])),g[P-16]),w=n(n(n(n(y,f(l)),o(l,m,S)),e[P]),g[P]),s=n(u(C),a(C,d,v)),y=S,S=m,m=l,l=n(A,w),A=v,v=d,d=C,C=n(w,s);h[0]=n(C,h[0]),h[1]=n(d,h[1]),h[2]=n(v,h[2]),h[3]=n(A,h[3]),h[4]=n(l,h[4]),h[5]=n(m,h[5]),h[6]=n(S,h[6]),h[7]=n(y,h[7])}return h}function g(r){for(var n=Array(),t=(1<<v)-1,e=0;e<r.length*v;e+=v)n[e>>5]|=(r.charCodeAt(e/v)&t)<<24-e%32;return n}function C(r){for(var n="",t=0;t<r.length;t++){var e=r.charCodeAt(t);128>e?n+=String.fromCharCode(e):e>127&&2048>e?(n+=String.fromCharCode(e>>6|192),n+=String.fromCharCode(63&e|128)):(n+=String.fromCharCode(e>>12|224),n+=String.fromCharCode(e>>6&63|128),n+=String.fromCharCode(63&e|128))}return n}function d(r){for(var n=A?"0123456789ABCDEF":"0123456789abcdef",t="",e=0;e<4*r.length;e++)t+=n.charAt(r[e>>2]>>8*(3-e%4)+4&15)+n.charAt(r[e>>2]>>8*(3-e%4)&15);return t}var v=8,A=0;return r=C(r),d(h(g(r),r.length*v))}return r}()}).call(this),"undefined"==typeof Package&&(Package={}),Package.sha={SHA256:n}}();

!function(){var t=Package.meteor.Meteor,i=Package.random.Random,r=Package.check.check,o=Package.check.Match,s=Package.sha.SHA256,e=Package.underscore._,h,n;(function(){n=function(){function t(t,i,r){null!=t&&("number"==typeof t?this.fromNumber(t,i,r):null==i&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,i))}function i(){return new t(null)}function r(t,i,r,o,s,e){for(;--e>=0;){var h=i*this[t++]+r[o]+s;s=Math.floor(h/67108864),r[o++]=67108863&h}return s}function o(t,i,r,o,s,e){for(var h=32767&i,n=i>>15;--e>=0;){var u=32767&this[t],f=this[t++]>>15,a=n*u+f*h;u=h*u+((32767&a)<<15)+r[o]+(1073741823&s),s=(u>>>30)+(a>>>15)+n*f+(s>>>30),r[o++]=1073741823&u}return s}function s(t,i,r,o,s,e){for(var h=16383&i,n=i>>14;--e>=0;){var u=16383&this[t],f=this[t++]>>14,a=n*u+f*h;u=h*u+((16383&a)<<14)+r[o]+s,s=(u>>28)+(a>>14)+n*f,r[o++]=268435455&u}return s}function e(t){return ii.charAt(t)}function h(t,i){var r=ri[t.charCodeAt(i)];return null==r?-1:r}function n(t){for(var i=this.t-1;i>=0;--i)t[i]=this[i];t.t=this.t,t.s=this.s}function u(t){this.t=1,this.s=0>t?-1:0,t>0?this[0]=t:-1>t?this[0]=t+DV:this.t=0}function f(t){var r=i();return r.fromInt(t),r}function a(i,r){var o;if(16==r)o=4;else if(8==r)o=3;else if(256==r)o=8;else if(2==r)o=1;else if(32==r)o=5;else{if(4!=r)return void this.fromRadix(i,r);o=2}this.t=0,this.s=0;for(var s=i.length,e=!1,n=0;--s>=0;){var u=8==o?255&i[s]:h(i,s);0>u?"-"==i.charAt(s)&&(e=!0):(e=!1,0==n?this[this.t++]=u:n+o>this.DB?(this[this.t-1]|=(u&(1<<this.DB-n)-1)<<n,this[this.t++]=u>>this.DB-n):this[this.t-1]|=u<<n,n+=o,n>=this.DB&&(n-=this.DB))}8==o&&0!=(128&i[0])&&(this.s=-1,n>0&&(this[this.t-1]|=(1<<this.DB-n)-1<<n)),this.clamp(),e&&t.ZERO.subTo(this,this)}function p(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t}function c(t){if(this.s<0)return"-"+this.negate().toString(t);var i;if(16==t)i=4;else if(8==t)i=3;else if(2==t)i=1;else if(32==t)i=5;else{if(4!=t)return this.toRadix(t);i=2}var r=(1<<i)-1,o,s=!1,h="",n=this.t,u=this.DB-n*this.DB%i;if(n-->0)for(u<this.DB&&(o=this[n]>>u)>0&&(s=!0,h=e(o));n>=0;)i>u?(o=(this[n]&(1<<u)-1)<<i-u,o|=this[--n]>>(u+=this.DB-i)):(o=this[n]>>(u-=i)&r,0>=u&&(u+=this.DB,--n)),o>0&&(s=!0),s&&(h+=e(o));return s?h:"0"}function m(){var r=i();return t.ZERO.subTo(this,r),r}function l(){return this.s<0?this.negate():this}function v(t){var i=this.s-t.s;if(0!=i)return i;var r=this.t;if(i=r-t.t,0!=i)return i;for(;--r>=0;)if(0!=(i=this[r]-t[r]))return i;return 0}function T(t){var i=1,r;return 0!=(r=t>>>16)&&(t=r,i+=16),0!=(r=t>>8)&&(t=r,i+=8),0!=(r=t>>4)&&(t=r,i+=4),0!=(r=t>>2)&&(t=r,i+=2),0!=(r=t>>1)&&(t=r,i+=1),i}function y(){return this.t<=0?0:this.DB*(this.t-1)+T(this[this.t-1]^this.s&this.DM)}function d(t,i){var r;for(r=this.t-1;r>=0;--r)i[r+t]=this[r];for(r=t-1;r>=0;--r)i[r]=0;i.t=this.t+t,i.s=this.s}function D(t,i){for(var r=t;r<this.t;++r)i[r-t]=this[r];i.t=Math.max(this.t-t,0),i.s=this.s}function g(t,i){var r=t%this.DB,o=this.DB-r,s=(1<<o)-1,e=Math.floor(t/this.DB),h=this.s<<r&this.DM,n;for(n=this.t-1;n>=0;--n)i[n+e+1]=this[n]>>o|h,h=(this[n]&s)<<r;for(n=e-1;n>=0;--n)i[n]=0;i[e]=h,i.t=this.t+e+1,i.s=this.s,i.clamp()}function B(t,i){i.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t)return void(i.t=0);var o=t%this.DB,s=this.DB-o,e=(1<<o)-1;i[0]=this[r]>>o;for(var h=r+1;h<this.t;++h)i[h-r-1]|=(this[h]&e)<<s,i[h-r]=this[h]>>o;o>0&&(i[this.t-r-1]|=(this.s&e)<<s),i.t=this.t-r,i.clamp()}function b(t,i){for(var r=0,o=0,s=Math.min(t.t,this.t);s>r;)o+=this[r]-t[r],i[r++]=o&this.DM,o>>=this.DB;if(t.t<this.t){for(o-=t.s;r<this.t;)o+=this[r],i[r++]=o&this.DM,o>>=this.DB;o+=this.s}else{for(o+=this.s;r<t.t;)o-=t[r],i[r++]=o&this.DM,o>>=this.DB;o-=t.s}i.s=0>o?-1:0,-1>o?i[r++]=this.DV+o:o>0&&(i[r++]=o),i.t=r,i.clamp()}function S(i,r){var o=this.abs(),s=i.abs(),e=o.t;for(r.t=e+s.t;--e>=0;)r[e]=0;for(e=0;e<s.t;++e)r[e+o.t]=o.am(0,s[e],r,e,0,o.t);r.s=0,r.clamp(),this.s!=i.s&&t.ZERO.subTo(r,r)}function E(t){for(var i=this.abs(),r=t.t=2*i.t;--r>=0;)t[r]=0;for(r=0;r<i.t-1;++r){var o=i.am(r,i[r],t,2*r,0,1);(t[r+i.t]+=i.am(r+1,2*i[r],t,2*r+1,o,i.t-r-1))>=i.DV&&(t[r+i.t]-=i.DV,t[r+i.t+1]=1)}t.t>0&&(t[t.t-1]+=i.am(r,i[r],t,2*r,0,1)),t.s=0,t.clamp()}function w(r,o,s){var e=r.abs();if(!(e.t<=0)){var h=this.abs();if(h.t<e.t)return null!=o&&o.fromInt(0),void(null!=s&&this.copyTo(s));null==s&&(s=i());var n=i(),u=this.s,f=r.s,a=this.DB-T(e[e.t-1]);a>0?(e.lShiftTo(a,n),h.lShiftTo(a,s)):(e.copyTo(n),h.copyTo(s));var p=n.t,c=n[p-1];if(0!=c){var m=c*(1<<this.F1)+(p>1?n[p-2]>>this.F2:0),l=this.FV/m,v=(1<<this.F1)/m,y=1<<this.F2,d=s.t,D=d-p,g=null==o?i():o;for(n.dlShiftTo(D,g),s.compareTo(g)>=0&&(s[s.t++]=1,s.subTo(g,s)),t.ONE.dlShiftTo(p,g),g.subTo(n,n);n.t<p;)n[n.t++]=0;for(;--D>=0;){var B=s[--d]==c?this.DM:Math.floor(s[d]*l+(s[d-1]+y)*v);if((s[d]+=n.am(0,B,s,D,0,p))<B)for(n.dlShiftTo(D,g),s.subTo(g,s);s[d]<--B;)s.subTo(g,s)}null!=o&&(s.drShiftTo(p,o),u!=f&&t.ZERO.subTo(o,o)),s.t=p,s.clamp(),a>0&&s.rShiftTo(a,s),0>u&&t.ZERO.subTo(s,s)}}}function M(r){var o=i();return this.abs().divRemTo(r,null,o),this.s<0&&o.compareTo(t.ZERO)>0&&r.subTo(o,o),o}function A(t){this.m=t}function R(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function O(t){return t}function C(t){t.divRemTo(this.m,null,t)}function F(t,i,r){t.multiplyTo(i,r),this.reduce(r)}function V(t,i){t.squareTo(i),this.reduce(i)}function N(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var i=3&t;return i=i*(2-(15&t)*i)&15,i=i*(2-(255&t)*i)&255,i=i*(2-((65535&t)*i&65535))&65535,i=i*(2-t*i%this.DV)%this.DV,i>0?this.DV-i:-i}function k(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function q(r){var o=i();return r.abs().dlShiftTo(this.m.t,o),o.divRemTo(this.m,null,o),r.s<0&&o.compareTo(t.ZERO)>0&&this.m.subTo(o,o),o}function P(t){var r=i();return t.copyTo(r),this.reduce(r),r}function L(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var i=0;i<this.m.t;++i){var r=32767&t[i],o=r*this.mpl+((r*this.mph+(t[i]>>15)*this.mpl&this.um)<<15)&t.DM;for(r=i+this.m.t,t[r]+=this.m.am(0,o,t,i,0,this.m.t);t[r]>=t.DV;)t[r]-=t.DV,t[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function x(t,i){t.squareTo(i),this.reduce(i)}function I(t,i,r){t.multiplyTo(i,r),this.reduce(r)}function Z(){return 0==(this.t>0?1&this[0]:this.s)}function z(r,o){if(r>4294967295||1>r)return t.ONE;var s=i(),e=i(),h=o.convert(this),n=T(r)-1;for(h.copyTo(s);--n>=0;)if(o.sqrTo(s,e),(r&1<<n)>0)o.mulTo(e,h,s);else{var u=s;s=e,e=u}return o.revert(s)}function U(t,i){var r;return r=256>t||i.isEven()?new A(i):new k(i),this.exp(t,r)}function j(){var t=i();return this.copyTo(t),t}function H(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function _(){return 0==this.t?this.s:this[0]<<24>>24}function G(){return 0==this.t?this.s:this[0]<<16>>16}function J(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function K(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function Q(t){if(null==t&&(t=10),0==this.signum()||2>t||t>36)return"0";var r=this.chunkSize(t),o=Math.pow(t,r),s=f(o),e=i(),h=i(),n="";for(this.divRemTo(s,e,h);e.signum()>0;)n=(o+h.intValue()).toString(t).substr(1)+n,e.divRemTo(s,e,h);return h.intValue().toString(t)+n}function W(i,r){this.fromInt(0),null==r&&(r=10);for(var o=this.chunkSize(r),s=Math.pow(r,o),e=!1,n=0,u=0,f=0;f<i.length;++f){var a=h(i,f);0>a?"-"==i.charAt(f)&&0==this.signum()&&(e=!0):(u=r*u+a,++n>=o&&(this.dMultiply(s),this.dAddOffset(u,0),n=0,u=0))}n>0&&(this.dMultiply(Math.pow(r,n)),this.dAddOffset(u,0)),e&&t.ZERO.subTo(this,this)}function X(i,r,o){if("number"==typeof r)if(2>i)this.fromInt(1);else for(this.fromNumber(i,o),this.testBit(i-1)||this.bitwiseTo(t.ONE.shiftLeft(i-1),et,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(r);)this.dAddOffset(2,0),this.bitLength()>i&&this.subTo(t.ONE.shiftLeft(i-1),this);else{var s=new Array,e=7&i;s.length=(i>>3)+1,r.nextBytes(s),e>0?s[0]&=(1<<e)-1:s[0]=0,this.fromString(s,256)}}function Y(){var t=this.t,i=new Array;i[0]=this.s;var r=this.DB-t*this.DB%8,o,s=0;if(t-->0)for(r<this.DB&&(o=this[t]>>r)!=(this.s&this.DM)>>r&&(i[s++]=o|this.s<<this.DB-r);t>=0;)8>r?(o=(this[t]&(1<<r)-1)<<8-r,o|=this[--t]>>(r+=this.DB-8)):(o=this[t]>>(r-=8)&255,0>=r&&(r+=this.DB,--t)),0!=(128&o)&&(o|=-256),0==s&&(128&this.s)!=(128&o)&&++s,(s>0||o!=this.s)&&(i[s++]=o);return i}function $(t){return 0==this.compareTo(t)}function tt(t){return this.compareTo(t)<0?this:t}function it(t){return this.compareTo(t)>0?this:t}function rt(t,i,r){var o,s,e=Math.min(t.t,this.t);for(o=0;e>o;++o)r[o]=i(this[o],t[o]);if(t.t<this.t){for(s=t.s&this.DM,o=e;o<this.t;++o)r[o]=i(this[o],s);r.t=this.t}else{for(s=this.s&this.DM,o=e;o<t.t;++o)r[o]=i(s,t[o]);r.t=t.t}r.s=i(this.s,t.s),r.clamp()}function ot(t,i){return t&i}function st(t){var r=i();return this.bitwiseTo(t,ot,r),r}function et(t,i){return t|i}function ht(t){var r=i();return this.bitwiseTo(t,et,r),r}function nt(t,i){return t^i}function ut(t){var r=i();return this.bitwiseTo(t,nt,r),r}function ft(t,i){return t&~i}function at(t){var r=i();return this.bitwiseTo(t,ft,r),r}function pt(){for(var t=i(),r=0;r<this.t;++r)t[r]=this.DM&~this[r];return t.t=this.t,t.s=~this.s,t}function ct(t){var r=i();return 0>t?this.rShiftTo(-t,r):this.lShiftTo(t,r),r}function mt(t){var r=i();return 0>t?this.lShiftTo(-t,r):this.rShiftTo(t,r),r}function lt(t){if(0==t)return-1;var i=0;return 0==(65535&t)&&(t>>=16,i+=16),0==(255&t)&&(t>>=8,i+=8),0==(15&t)&&(t>>=4,i+=4),0==(3&t)&&(t>>=2,i+=2),0==(1&t)&&++i,i}function vt(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+lt(this[t]);return this.s<0?this.t*this.DB:-1}function Tt(t){for(var i=0;0!=t;)t&=t-1,++i;return i}function yt(){for(var t=0,i=this.s&this.DM,r=0;r<this.t;++r)t+=Tt(this[r]^i);return t}function dt(t){var i=Math.floor(t/this.DB);return i>=this.t?0!=this.s:0!=(this[i]&1<<t%this.DB)}function Dt(i,r){var o=t.ONE.shiftLeft(i);return this.bitwiseTo(o,r,o),o}function gt(t){return this.changeBit(t,et)}function Bt(t){return this.changeBit(t,ft)}function bt(t){return this.changeBit(t,nt)}function St(t,i){for(var r=0,o=0,s=Math.min(t.t,this.t);s>r;)o+=this[r]+t[r],i[r++]=o&this.DM,o>>=this.DB;if(t.t<this.t){for(o+=t.s;r<this.t;)o+=this[r],i[r++]=o&this.DM,o>>=this.DB;o+=this.s}else{for(o+=this.s;r<t.t;)o+=t[r],i[r++]=o&this.DM,o>>=this.DB;o+=t.s}i.s=0>o?-1:0,o>0?i[r++]=o:-1>o&&(i[r++]=this.DV+o),i.t=r,i.clamp()}function Et(t){var r=i();return this.addTo(t,r),r}function wt(t){var r=i();return this.subTo(t,r),r}function Mt(t){var r=i();return this.multiplyTo(t,r),r}function At(t){var r=i();return this.divRemTo(t,r,null),r}function Rt(t){var r=i();return this.divRemTo(t,null,r),r}function Ot(t){var r=i(),o=i();return this.divRemTo(t,r,o),new Array(r,o)}function Ct(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function Ft(t,i){for(;this.t<=i;)this[this.t++]=0;for(this[i]+=t;this[i]>=this.DV;)this[i]-=this.DV,++i>=this.t&&(this[this.t++]=0),++this[i]}function Vt(){}function Nt(t){return t}function kt(t,i,r){t.multiplyTo(i,r)}function qt(t,i){t.squareTo(i)}function Pt(t){return this.exp(t,new Vt)}function Lt(t,i,r){var o=Math.min(this.t+t.t,i);for(r.s=0,r.t=o;o>0;)r[--o]=0;var s;for(s=r.t-this.t;s>o;++o)r[o+this.t]=this.am(0,t[o],r,o,0,this.t);for(s=Math.min(t.t,i);s>o;++o)this.am(0,t[o],r,o,0,i-o);r.clamp()}function xt(t,i,r){--i;var o=r.t=this.t+t.t-i;for(r.s=0;--o>=0;)r[o]=0;for(o=Math.max(i-this.t,0);o<t.t;++o)r[this.t+o-i]=this.am(i-o,t[o],r,0,0,this.t+o-i);r.clamp(),r.drShiftTo(1,r)}function It(r){this.r2=i(),this.q3=i(),t.ONE.dlShiftTo(2*r.t,this.r2),this.mu=this.r2.divide(r),this.m=r}function Zt(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var r=i();return t.copyTo(r),this.reduce(r),r}function zt(t){return t}function Ut(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}function jt(t,i){t.squareTo(i),this.reduce(i)}function Ht(t,i,r){t.multiplyTo(i,r),this.reduce(r)}function _t(t,r){var o=t.bitLength(),s,e=f(1),h;if(0>=o)return e;s=18>o?1:48>o?3:144>o?4:768>o?5:6,h=8>o?new A(r):r.isEven()?new It(r):new k(r);var n=new Array,u=3,a=s-1,p=(1<<s)-1;if(n[1]=h.convert(this),s>1){var c=i();for(h.sqrTo(n[1],c);p>=u;)n[u]=i(),h.mulTo(c,n[u-2],n[u]),u+=2}var m=t.t-1,l,v=!0,y=i(),d;for(o=T(t[m])-1;m>=0;){for(o>=a?l=t[m]>>o-a&p:(l=(t[m]&(1<<o+1)-1)<<a-o,m>0&&(l|=t[m-1]>>this.DB+o-a)),u=s;0==(1&l);)l>>=1,--u;if((o-=u)<0&&(o+=this.DB,--m),v)n[l].copyTo(e),v=!1;else{for(;u>1;)h.sqrTo(e,y),h.sqrTo(y,e),u-=2;u>0?h.sqrTo(e,y):(d=e,e=y,y=d),h.mulTo(y,n[l],e)}for(;m>=0&&0==(t[m]&1<<o);)h.sqrTo(e,y),d=e,e=y,y=d,--o<0&&(o=this.DB-1,--m)}return h.revert(e)}function Gt(t){var i=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(i.compareTo(r)<0){var o=i;i=r,r=o}var s=i.getLowestSetBit(),e=r.getLowestSetBit();if(0>e)return i;for(e>s&&(e=s),e>0&&(i.rShiftTo(e,i),r.rShiftTo(e,r));i.signum()>0;)(s=i.getLowestSetBit())>0&&i.rShiftTo(s,i),(s=r.getLowestSetBit())>0&&r.rShiftTo(s,r),i.compareTo(r)>=0?(i.subTo(r,i),i.rShiftTo(1,i)):(r.subTo(i,r),r.rShiftTo(1,r));return e>0&&r.lShiftTo(e,r),r}function Jt(t){if(0>=t)return 0;var i=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(0==i)r=this[0]%t;else for(var o=this.t-1;o>=0;--o)r=(i*r+this[o])%t;return r}function Kt(i){var r=i.isEven();if(this.isEven()&&r||0==i.signum())return t.ZERO;for(var o=i.clone(),s=this.clone(),e=f(1),h=f(0),n=f(0),u=f(1);0!=o.signum();){for(;o.isEven();)o.rShiftTo(1,o),r?(e.isEven()&&h.isEven()||(e.addTo(this,e),h.subTo(i,h)),e.rShiftTo(1,e)):h.isEven()||h.subTo(i,h),h.rShiftTo(1,h);for(;s.isEven();)s.rShiftTo(1,s),r?(n.isEven()&&u.isEven()||(n.addTo(this,n),u.subTo(i,u)),n.rShiftTo(1,n)):u.isEven()||u.subTo(i,u),u.rShiftTo(1,u);o.compareTo(s)>=0?(o.subTo(s,o),r&&e.subTo(n,e),h.subTo(u,h)):(s.subTo(o,s),r&&n.subTo(e,n),u.subTo(h,u))}return 0!=s.compareTo(t.ONE)?t.ZERO:u.compareTo(i)>=0?u.subtract(i):u.signum()<0?(u.addTo(i,u),u.signum()<0?u.add(i):u):u}function Qt(t){var i,r=this.abs();if(1==r.t&&r[0]<=ei[ei.length-1]){for(i=0;i<ei.length;++i)if(r[0]==ei[i])return!0;return!1}if(r.isEven())return!1;for(i=1;i<ei.length;){for(var o=ei[i],s=i+1;s<ei.length&&hi>o;)o*=ei[s++];for(o=r.modInt(o);s>i;)if(o%ei[i++]==0)return!1}return r.millerRabin(t)}function Wt(r){var o=this.subtract(t.ONE),s=o.getLowestSetBit();if(0>=s)return!1;var e=o.shiftRight(s);r=r+1>>1,r>ei.length&&(r=ei.length);for(var h=i(),n=0;r>n;++n){h.fromInt(ei[n]);var u=h.modPow(e,this);if(0!=u.compareTo(t.ONE)&&0!=u.compareTo(o)){for(var f=1;f++<s&&0!=u.compareTo(o);)if(u=u.modPowInt(2,this),0==u.compareTo(t.ONE))return!1;if(0!=u.compareTo(o))return!1}}return!0}var Xt,Yt=0xdeadbeefcafe,$t=15715070==(16777215&Yt);t.prototype.am=s,Xt=28,t.prototype.DB=Xt,t.prototype.DM=(1<<Xt)-1,t.prototype.DV=1<<Xt;var ti=52;t.prototype.FV=Math.pow(2,ti),t.prototype.F1=ti-Xt,t.prototype.F2=2*Xt-ti;var ii="0123456789abcdefghijklmnopqrstuvwxyz",ri=new Array,oi,si;for(oi="0".charCodeAt(0),si=0;9>=si;++si)ri[oi++]=si;for(oi="a".charCodeAt(0),si=10;36>si;++si)ri[oi++]=si;for(oi="A".charCodeAt(0),si=10;36>si;++si)ri[oi++]=si;A.prototype.convert=R,A.prototype.revert=O,A.prototype.reduce=C,A.prototype.mulTo=F,A.prototype.sqrTo=V,k.prototype.convert=q,k.prototype.revert=P,k.prototype.reduce=L,k.prototype.mulTo=I,k.prototype.sqrTo=x,t.prototype.copyTo=n,t.prototype.fromInt=u,t.prototype.fromString=a,t.prototype.clamp=p,t.prototype.dlShiftTo=d,t.prototype.drShiftTo=D,t.prototype.lShiftTo=g,t.prototype.rShiftTo=B,t.prototype.subTo=b,t.prototype.multiplyTo=S,t.prototype.squareTo=E,t.prototype.divRemTo=w,t.prototype.invDigit=N,t.prototype.isEven=Z,t.prototype.exp=z,t.prototype.toString=c,t.prototype.negate=m,t.prototype.abs=l,t.prototype.compareTo=v,t.prototype.bitLength=y,t.prototype.mod=M,t.prototype.modPowInt=U,t.ZERO=f(0),t.ONE=f(1),Vt.prototype.convert=Nt,Vt.prototype.revert=Nt,Vt.prototype.mulTo=kt,Vt.prototype.sqrTo=qt,It.prototype.convert=Zt,It.prototype.revert=zt,It.prototype.reduce=Ut,It.prototype.mulTo=Ht,It.prototype.sqrTo=jt;var ei=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],hi=(1<<26)/ei[ei.length-1];return t.prototype.chunkSize=J,t.prototype.toRadix=Q,t.prototype.fromRadix=W,t.prototype.fromNumber=X,t.prototype.bitwiseTo=rt,t.prototype.changeBit=Dt,t.prototype.addTo=St,t.prototype.dMultiply=Ct,t.prototype.dAddOffset=Ft,t.prototype.multiplyLowerTo=Lt,t.prototype.multiplyUpperTo=xt,t.prototype.modInt=Jt,t.prototype.millerRabin=Wt,t.prototype.clone=j,t.prototype.intValue=H,t.prototype.byteValue=_,t.prototype.shortValue=G,t.prototype.signum=K,t.prototype.toByteArray=Y,t.prototype.equals=$,t.prototype.min=tt,t.prototype.max=it,t.prototype.and=st,t.prototype.or=ht,t.prototype.xor=ut,t.prototype.andNot=at,t.prototype.not=pt,t.prototype.shiftLeft=ct,t.prototype.shiftRight=mt,t.prototype.getLowestSetBit=vt,t.prototype.bitCount=yt,t.prototype.testBit=dt,t.prototype.setBit=gt,t.prototype.clearBit=Bt,t.prototype.flipBit=bt,t.prototype.add=Et,t.prototype.subtract=wt,t.prototype.multiply=Mt,t.prototype.divide=At,t.prototype.remainder=Rt,t.prototype.divideAndRemainder=Ot,t.prototype.modPow=_t,t.prototype.modInverse=Kt,t.prototype.pow=Pt,t.prototype.gcd=Gt,t.prototype.isProbablePrime=Qt,t}()}).call(this),function(){h={},h.generateVerifier=function(t,o){var s=r(o),e=o&&o.salt||i.secret(),h,u=o&&o.hashedIdentityAndPassword;u||(h=o&&o.identity||i.secret(),u=s.hash(h+":"+t));var f=s.hash(e+u),a=new n(f,16),p=s.g.modPow(a,s.N);return{identity:h,salt:e,verifier:p.toString(16)}},h.matchVerifier={identity:String,salt:String,verifier:String};var t={hash:function(t){return s(t).toLowerCase()},N:new n("EEAF0AB9ADB38DD69C33F80AFA8FC5E86072618775FF3C0B9EA2314C9C256576D674DF7496EA81D3383B4813D692C6E0E0D5D8E250B98BE48E495C1D6089DAD15DC7D7B46154D6B6CE8EF4AD69B15D4982559B297BCF1885C529F566660E57EC68EDBC3C05726CC02FD4CBF4976EAA9AFD5138FE8376435B9FC61D2FC0EB06E3",16),g:new n("2")};t.k=new n(t.hash(t.N.toString(16)+t.g.toString(16)),16);var r=function(i){if(!i)return t;var r=e.extend({},t);return e.each(["N","g","k"],function(t){if(i[t])if("string"==typeof i[t])r[t]=new n(i[t],16);else{if(!(i[t]instanceof n))throw new Error("Invalid parameter: "+t);r[t]=i[t]}}),i.hash&&(r.hash=function(t){return i.hash(t).toLowerCase()}),!i.k&&(i.N||i.g||i.hash)&&(r.k=r.hash(r.N.toString(16)+r.g.toString(16))),r}}.call(this),"undefined"==typeof Package&&(Package={}),Package.srp={SRP:h}}();

!function(){var r=Package.meteor.Meteor,e=Package["accounts-base"].Accounts,o=Package.srp.SRP,s=Package.sha.SHA256,a=Package.check.check,t=Package.check.Match,n=Package.underscore._,d=Package.ddp.DDP;(function(){r.loginWithPassword=function(r,s,a){"string"==typeof r&&(r=-1===r.indexOf("@")?{username:r}:{email:r}),e.callLoginMethod({methodArguments:[{user:r,password:e._hashPassword(s)}],userCallback:function(e,t){e&&400===e.error&&"old password format"===e.reason?o({upgradeError:e,userSelector:r,plaintextPassword:s},a):e?a&&a(e):a&&a()}})},e._hashPassword=function(r){return{digest:s(r),algorithm:"sha-256"}};var o=function(o,a){var t;try{t=EJSON.parse(o.upgradeError.details)}catch(n){}t&&"srp"===t.format?e.callLoginMethod({methodArguments:[{user:o.userSelector,srp:s(t.identity+":"+o.plaintextPassword),password:e._hashPassword(o.plaintextPassword)}],userCallback:a}):a&&a(new r.Error(400,"Password is old. Please reset your password."))};e.createUser=function(o,s){if(o=n.clone(o),"string"!=typeof o.password)throw new Error("Must set options.password");return o.password?(o.password=e._hashPassword(o.password),void e.callLoginMethod({methodName:"createUser",methodArguments:[o],userCallback:s})):void s(new r.Error(400,"Password may not be empty"))},e.changePassword=function(s,t,n){return r.user()?(a(t,String),t?void e.connection.apply("changePassword",[s?e._hashPassword(s):null,e._hashPassword(t)],function(a,d){a||!d?a&&400===a.error&&"old password format"===a.reason?o({upgradeError:a,userSelector:{id:r.userId()},plaintextPassword:s},function(r){r?n&&n(r):e.changePassword(s,t,n)}):n&&n(a||new Error("No result from changePassword.")):n&&n()}):void n(new r.Error(400,"Password may not be empty"))):void(n&&n(new Error("Must be logged in to change password.")))},e.forgotPassword=function(r,o){if(!r.email)throw new Error("Must pass options.email");e.connection.call("forgotPassword",r,o)},e.resetPassword=function(o,s,t){return a(o,String),a(s,String),s?void e.callLoginMethod({methodName:"resetPassword",methodArguments:[o,e._hashPassword(s)],userCallback:t}):void t(new r.Error(400,"Password may not be empty"))},e.verifyEmail=function(r,o){if(!r)throw new Error("Need to pass token");e.callLoginMethod({methodName:"verifyEmail",methodArguments:[r],userCallback:o})}}).call(this),"undefined"==typeof Package&&(Package={}),Package["accounts-password"]={}}();

!function(){var e=Package.meteor.Meteor,n=Package.underscore._,r,a;(function(){r={};var e=function(e){return encodeURIComponent(e).replace(/[!'()]/g,escape).replace(/\*/g,"%2A")};r._encodeParams=function(r){var a=[];return n.each(r,function(n,r){a.length&&a.push("&"),a.push(e(r),"=",e(n))}),a.join("").replace(/%20/g,"+")},a=function(e,n,a,c){var t=e,o=n?n.slice(1):null;if("string"==typeof a&&(o=String(a)),c){o=o||"";var u=r._encodeParams(c);o&&u&&(o+="&"),o+=u}var i=t;return null!==o&&(i+="?"+o),i}}).call(this),function(){r._constructUrl=function(e,n,r){var c=/^(.*?)(\?.*)?$/.exec(e);return a(c[1],c[2],n,r)}}.call(this),"undefined"==typeof Package&&(Package={}),Package.url={URL:r}}();

!function(){var t=Package.meteor.Meteor,e=Package.underscore._,n=Package.url.URL,r,a,o;(function(){a=function(t,e){var n=500,r=function(t,e){return t.length>e?t.slice(0,e)+"...":t},a="failed ["+t+"]";return e&&(a+=" "+r(e.replace(/\n/g," "),n)),new Error(a)},o=function(t){var n=(t.headers["content-type"]||";").split(";")[0];if(e.include(["application/json","text/javascript"],n))try{t.data=JSON.parse(t.content)}catch(r){t.data=null}else t.data=null},r={},r.get=function(){return r.call.apply(this,["GET"].concat(e.toArray(arguments)))},r.post=function(){return r.call.apply(this,["POST"].concat(e.toArray(arguments)))},r.put=function(){return r.call.apply(this,["PUT"].concat(e.toArray(arguments)))},r.del=function(){return r.call.apply(this,["DELETE"].concat(e.toArray(arguments)))}}).call(this),function(){r.call=function(r,s,c,i){if(i||"function"!=typeof c||(i=c,c=null),c=c||{},"function"!=typeof i)throw new Error("Can't make a blocking HTTP call from the client; callback required.");r=(r||"").toUpperCase();var u={},l=c.content;c.data&&(l=JSON.stringify(c.data),u["Content-Type"]="application/json");var p,f;if(l||"GET"===r||"HEAD"===r?p=c.params:f=c.params,s=n._constructUrl(s,c.query,p),c.followRedirects===!1)throw new Error("Option followRedirects:false not supported on client.");if(e.has(c,"npmRequestOptions"))throw new Error("Option npmRequestOptions not supported on client.");var d,h;if(c.auth){var y=c.auth.indexOf(":");if(0>y)throw new Error('auth option should be of the form "username:password"');d=c.auth.substring(0,y),h=c.auth.substring(y+1)}f&&(l=n._encodeParams(f)),e.extend(u,c.headers||{}),i=function(t){return function(e,n){e&&n&&(e.response=n),t(e,n)}}(i),i=e.once(i);try{var g;if("undefined"!=typeof XMLHttpRequest)g=new XMLHttpRequest;else{if("undefined"==typeof ActiveXObject)throw new Error("Can't create XMLHttpRequest");g=new ActiveXObject("Microsoft.XMLHttp")}g.open(r,s,!0,d,h);for(var w in u)g.setRequestHeader(w,u[w]);var m=!1,v;c.timeout&&(v=t.setTimeout(function(){m=!0,g.abort()},c.timeout)),g.onreadystatechange=function(n){if(4===g.readyState)if(v&&t.clearTimeout(v),m)i(new Error("timeout"));else if(g.status){var r={};r.statusCode=g.status,r.content=g.responseText,r.headers={};var s=g.getAllResponseHeaders();""===s&&g.getResponseHeader("content-type")&&(s="content-type: "+g.getResponseHeader("content-type"));var c=s.split(/\r?\n/);e.each(c,function(t){var e=/^(.*?):(?:\s+)(.*)$/.exec(t);e&&3===e.length&&(r.headers[e[1].toLowerCase()]=e[2])}),o(r);var u=null;r.statusCode>=400&&(u=a(r.statusCode,r.content)),i(u,r)}else i(new Error("network"))},g.send(l)}catch(E){i(E)}}}.call(this),function(){t.http=r}.call(this),"undefined"==typeof Package&&(Package={}),Package.http={HTTP:r}}();

!function(){var a=Package.meteor.Meteor,t=Package.underscore._,r=Package.http.HTTP,e=Package.base64.Base64,n=Package.mongo.Mongo,o;(function(){o={};var a="https://api.truevault.com/v1",u={vaultId:null,kioskGroupId:null,dentistGroupId:null,taGroupId:null,maGroupId:null,adminKey:null};o.groups={KIOSK:"kioskGroupId",DENTIST:"dentistGroupId",TA:"taGroupId",MA:"maGroupId"},o.config=function(a){t.has(a,"vaultId")&&(u.vaultId=a.vaultId),t.has(a,"kioskGroupId")&&(u.kioskGroupId=a.kioskGroupId),t.has(a,"dentistGroupId")&&(u.dentistGroupId=a.dentistGroupId),t.has(a,"taGroupId")&&(u.taGroupId=a.taGroupId),t.has(a,"maGroupId")&&(u.maGroupId=a.maGroupId),t.has(a,"adminKey")&&(u.adminKey=a.adminKey)};var d=new n.Collection(null),s=function(t){var e;try{e=r.post(a+"/users/"+t+"/access_token",{auth:u.adminKey+":"})}catch(n){throw e=n,new Error}finally{}return e.data.user.access_token},c=function(a){var t=d.findOne({userId:a});if(!t||new Date>t.expires){t=s(a);var r=new Date;r.setHours(r.getHours()+20),d.upsert({userId:a},{$set:{expires:r,token:t}})}else t=t.token;return t};o.createDocument=function(t,n){var o,d;try{o=c(n),t=e.encode(EJSON.stringify(t)),d=r.post(a+"/vaults/"+u.vaultId+"/documents",{params:{document:t},auth:o+":"})}catch(s){throw d=s,new Error}finally{}return{docId:d.data.document_id,vaultId:u.vaultId,transId:d.data.transaction_id}},o.readDocument=function(t,n,o){var d;d=o?c(o):u.adminKey;var s;try{s=r.get(a+"/vaults/"+t+"/documents/"+n,{auth:d+":"}).content,s=EJSON.parse(String.fromCharCode.apply(null,e.decode(s)))}catch(i){throw s=i,new Error}finally{}return s},o.readTwoDocuments=function(a,n,o,d){var s;s=d?c(d):u.adminKey;var i,l,p;try{p=r.get("https://api.truevault.com/v1/vaults/"+a+"/documents/"+n+","+o,{auth:s+":"}).content,p=EJSON.parse(p)}catch(m){throw p=m,new Error}finally{}return t.each(p.documents,function(a){a.id===n&&(i=EJSON.parse(String.fromCharCode.apply(null,e.decode(a.document)))),a.id===o&&(l=EJSON.parse(String.fromCharCode.apply(null,e.decode(a.document))))}),{docOne:i,docTwo:l,transId:p.transaction_id}},o.createUser=function(t){var e;try{e=r.post(a+"/users",{params:{username:t},auth:u.adminKey+":"})}catch(n){throw e=n,new Error}finally{}return e.data.user.user_id},o.deleteTVUser=function(t){var e;try{console.log("test- "+t),e=r.call("DELETE",a+"/users",{params:{user_id:t},auth:u.adminKey+":"})}catch(n){throw e=n,new Error}finally{}},o.updateGroup=function(t,e,n){var o;try{o=r.put(a+"/groups/"+u[t],{params:{user_ids:e,operation:n?"REMOVE":"APPEND"},auth:u.adminKey+":"})}catch(d){throw o=d,new Error}finally{}}}).call(this),"undefined"==typeof Package&&(Package={}),Package.truevault={TrueVault:o}}();

!function(){var e=Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package["audit-argument-checks"]={}}();

!function(){var e=Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package["meteorhacks:aggregate"]={}}();

!function(){var e=Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package.jwt={}}();

!function(){var e=Package.meteor.Meteor,i=Package.mongo.Mongo;(function(){!function(){"use strict";function t(i,t){if(!i._name)throw new e.Error(405,"findAndModify: Must have collection name.");if(!t)throw new e.Error(405,"findAndModify: Must have args.");if(!t.query)throw new e.Error(405,"findAndModify: Must have query.");if(!t.update&&!t.remove)throw new e.Error(405,"findAndModify: Must have update or remove.")}e.isServer&&(i.Collection.prototype.findAndModify=function(i){t(this,i);var n={};n.query=i.query||{},n.sort=i.sort||{},i.update&&(n.update=i.update),n.options={},void 0!==i["new"]&&(n.options["new"]=i["new"]),void 0!==i.remove&&(n.options.remove=i.remove),void 0!==i.upsert&&(n.options.upsert=i.upsert),void 0!==i.fields&&(n.options.fields=i.fields),n.options.upsert&&(n.update=n.update||{},n.update.$setOnInsert=n.update.$setOnInsert||{},n.update.$setOnInsert._id=n.update.$setOnInsert._id||Random.id(17));var o=this.rawCollection(),r=e.wrapAsync(o.findAndModify,o);return r(n.query,n.sort,n.update,n.options)}),e.isClient&&(i.Collection.prototype.findAndModify=function(e){t(this,e);var i={};void 0!==e.sort&&(i.sort=e.sort),void 0!==e.fields&&(i.fields=e.fields),void 0!==e.skip&&(i.skip=e.skip);var n=this.findOne(e.query,i);if(e.remove)n&&this.remove({_id:n._id});else{if(e.upsert&&!n){var o=this.upsert(e.query,e.update);return o.insertedId&&e["new"]?this.findOne({_id:o.insertedId},i):i.sort?{}:null}if(n){var r=DDP._CurrentInvocation.get(),d=r&&r.isSimulation;if(d){var s={};for(var a in e.query)s[a]=e.query[a];s._id=n._id,this.update(s,e.update)}else this.update({_id:n._id},e.update);if(e["new"])return this.findOne({_id:n._id},i)}}return n})}()}).call(this),"undefined"==typeof Package&&(Package={}),Package["fongandrew:find-and-modify"]={}}();

!function(){var e=Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package.uuid={}}();

!function(){var e=Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package.coffeescript={}}();

!function(){var e=Package.meteor.Meteor,r,t,n;(function(){t={},n={}}).call(this),function(){!function(e){if("object"==typeof n)t.exports=e();else if("function"==typeof define&&define.amd)define(e);else{var r;"undefined"!=typeof window?r=window:"undefined"!=typeof global?r=global:"undefined"!=typeof self&&(r=self),r.s=e()}}(function(){var e,r,t;return function n(e,r,t){function i(o,u){if(!r[o]){if(!e[o]){var p="function"==typeof require&&require;if(!u&&p)return p(o,!0);if(a)return a(o,!0);throw new Error("Cannot find module '"+o+"'")}var c=r[o]={exports:{}};e[o][0].call(c.exports,function(r){var t=e[o][1][r];return i(t?t:r)},c,c.exports,n,e,r,t)}return r[o].exports}for(var a="function"==typeof require&&require,o=0;o<t.length;o++)i(t[o]);return i}({1:[function(e,r,t){var n=e("./trim"),i=e("./decapitalize");r.exports=function a(e,r){return e=n(e).replace(/[-_\s]+(.)?/g,function(e,r){return r?r.toUpperCase():""}),r===!0?i(e):e}},{"./decapitalize":9,"./trim":60}],2:[function(e,r,t){var n=e("./helper/makeString");r.exports=function i(e){return e=n(e),e.charAt(0).toUpperCase()+e.slice(1)}},{"./helper/makeString":19}],3:[function(e,r,t){var n=e("./helper/makeString");r.exports=function i(e){return n(e).split("")}},{"./helper/makeString":19}],4:[function(e,r,t){r.exports=function n(e,r){return null==e?[]:(e=String(e),r=~~r,r>0?e.match(new RegExp(".{1,"+r+"}","g")):[e])}},{}],5:[function(e,r,t){var n=e("./capitalize"),i=e("./camelize"),a=e("./helper/makeString");r.exports=function o(e){return e=a(e),n(i(e.replace(/[\W_]/g," ")).replace(/\s/g,""))}},{"./camelize":1,"./capitalize":2,"./helper/makeString":19}],6:[function(e,r,t){var n=e("./trim");r.exports=function i(e){return n(e).replace(/\s+/g," ")}},{"./trim":60}],7:[function(e,r,t){var n=e("./helper/makeString");r.exports=function(e,r){if(e=n(e),r=n(r),0===e.length||0===r.length)return 0;for(var t=0,i=0,a=r.length;;){if(i=e.indexOf(r,i),-1===i)break;t++,i+=a}return t}},{"./helper/makeString":19}],8:[function(e,r,t){var n=e("./trim");r.exports=function i(e){return n(e).replace(/([A-Z])/g,"-$1").replace(/[-_\s]+/g,"-").toLowerCase()}},{"./trim":60}],9:[function(e,r,t){var n=e("./helper/makeString");r.exports=function i(e){return e=n(e),e.charAt(0).toLowerCase()+e.slice(1)}},{"./helper/makeString":19}],10:[function(e,r,t){function n(e){for(var r=e.match(/^[\s\\t]*/gm),t=r[0].length,n=1;n<r.length;n++)t=Math.min(r[n].length,t);return t}var i=e("./helper/makeString");r.exports=function a(e,r){e=i(e);var t=n(e),a;return 0===t?e:(a="string"==typeof r?new RegExp("^"+r,"gm"):new RegExp("^[ \\t]{"+t+"}","gm"),e.replace(a,""))}},{"./helper/makeString":19}],11:[function(e,r,t){var n=e("./helper/makeString"),i=e("./helper/toPositive");r.exports=function a(e,r,t){return e=n(e),r=""+r,t="undefined"==typeof t?e.length-r.length:Math.min(i(t),e.length)-r.length,t>=0&&e.indexOf(r,t)===t}},{"./helper/makeString":19,"./helper/toPositive":21}],12:[function(e,r,t){var n=e("./helper/makeString"),i=e("./helper/escapeChars"),a={};for(var o in i)a[i[o]]=o;a["'"]="#39",r.exports=function u(e){return n(e).replace(/[&<>"']/g,function(e){return"&"+a[e]+";"})}},{"./helper/escapeChars":17,"./helper/makeString":19}],13:[function(e,r,t){r.exports=function(){var e={};for(var r in this)this.hasOwnProperty(r)&&!r.match(/^(?:include|contains|reverse|join)$/)&&(e[r]=this[r]);return e}},{}],14:[function(e,r,t){"use strict";function n(e){return this instanceof n?void(this._wrapped=e):new n(e)}function i(e,r){"function"==typeof r&&(n.prototype[e]=function(){var e=[this._wrapped].concat(Array.prototype.slice.call(arguments)),t=r.apply(null,e);return"string"==typeof t?new n(t):t})}function a(e){i(e,function(r){var t=Array.prototype.slice.call(arguments,1);return String.prototype[e].apply(r,t)})}n.VERSION="3.0.3",n.isBlank=e("./isBlank"),n.stripTags=e("./stripTags"),n.capitalize=e("./capitalize"),n.decapitalize=e("./decapitalize"),n.chop=e("./chop"),n.trim=e("./trim"),n.clean=e("./clean"),n.count=e("./count"),n.chars=e("./chars"),n.swapCase=e("./swapCase"),n.escapeHTML=e("./escapeHTML"),n.unescapeHTML=e("./unescapeHTML"),n.splice=e("./splice"),n.insert=e("./insert"),n.replaceAll=e("./replaceAll"),n.include=e("./include"),n.join=e("./join"),n.lines=e("./lines"),n.dedent=e("./dedent"),n.reverse=e("./reverse"),n.startsWith=e("./startsWith"),n.endsWith=e("./endsWith"),n.pred=e("./pred"),n.succ=e("./succ"),n.titleize=e("./titleize"),n.camelize=e("./camelize"),n.underscored=e("./underscored"),n.dasherize=e("./dasherize"),n.classify=e("./classify"),n.humanize=e("./humanize"),n.ltrim=e("./ltrim"),n.rtrim=e("./rtrim"),n.truncate=e("./truncate"),n.prune=e("./prune"),n.words=e("./words"),n.pad=e("./pad"),n.lpad=e("./lpad"),n.rpad=e("./rpad"),n.lrpad=e("./lrpad"),n.sprintf=e("./sprintf"),n.vsprintf=e("./vsprintf"),n.toNumber=e("./toNumber"),n.numberFormat=e("./numberFormat"),n.strRight=e("./strRight"),n.strRightBack=e("./strRightBack"),n.strLeft=e("./strLeft"),n.strLeftBack=e("./strLeftBack"),n.toSentence=e("./toSentence"),n.toSentenceSerial=e("./toSentenceSerial"),n.slugify=e("./slugify"),n.surround=e("./surround"),n.quote=e("./quote"),n.unquote=e("./unquote"),n.repeat=e("./repeat"),n.naturalCmp=e("./naturalCmp"),n.levenshtein=e("./levenshtein"),n.toBoolean=e("./toBoolean"),n.exports=e("./exports"),n.escapeRegExp=e("./helper/escapeRegExp"),n.strip=n.trim,n.lstrip=n.ltrim,n.rstrip=n.rtrim,n.center=n.lrpad,n.rjust=n.lpad,n.ljust=n.rpad,n.contains=n.include,n.q=n.quote,n.toBool=n.toBoolean,n.camelcase=n.camelize,n.prototype={value:function p(){return this._wrapped}};for(var o in n)i(o,n[o]);i("tap",function c(e,r){return r(e)});var u=["toUpperCase","toLowerCase","split","replace","slice","substring","substr","concat"];for(var o in u)a(u[o]);r.exports=n},{"./camelize":1,"./capitalize":2,"./chars":3,"./chop":4,"./classify":5,"./clean":6,"./count":7,"./dasherize":8,"./decapitalize":9,"./dedent":10,"./endsWith":11,"./escapeHTML":12,"./exports":13,"./helper/escapeRegExp":18,"./humanize":22,"./include":23,"./insert":24,"./isBlank":25,"./join":26,"./levenshtein":27,"./lines":28,"./lpad":29,"./lrpad":30,"./ltrim":31,"./naturalCmp":32,"./numberFormat":33,"./pad":34,"./pred":35,"./prune":36,"./quote":37,"./repeat":38,"./replaceAll":39,"./reverse":40,"./rpad":41,"./rtrim":42,"./slugify":43,"./splice":44,"./sprintf":45,"./startsWith":46,"./strLeft":47,"./strLeftBack":48,"./strRight":49,"./strRightBack":50,"./stripTags":51,"./succ":52,"./surround":53,"./swapCase":54,"./titleize":55,"./toBoolean":56,"./toNumber":57,"./toSentence":58,"./toSentenceSerial":59,"./trim":60,"./truncate":61,"./underscored":62,"./unescapeHTML":63,"./unquote":64,"./vsprintf":65,"./words":66}],15:[function(e,r,t){var n=e("./makeString");r.exports=function i(e,r){return e=n(e),0===e.length?"":e.slice(0,-1)+String.fromCharCode(e.charCodeAt(e.length-1)+r)}},{"./makeString":19}],16:[function(e,r,t){var n=e("./escapeRegExp");r.exports=function i(e){return null==e?"\\s":e.source?e.source:"["+n(e)+"]"}},{"./escapeRegExp":18}],17:[function(e,r,t){var n={lt:"<",gt:">",quot:'"',amp:"&",apos:"'"};r.exports=n},{}],18:[function(e,r,t){var n=e("./makeString");r.exports=function i(e){return n(e).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}},{"./makeString":19}],19:[function(e,r,t){r.exports=function n(e){return null==e?"":""+e}},{}],20:[function(e,r,t){r.exports=function n(e,r){if(1>r)return"";for(var t="";r>0;)1&r&&(t+=e),r>>=1,e+=e;return t}},{}],21:[function(e,r,t){r.exports=function n(e){return 0>e?0:+e||0}},{}],22:[function(e,r,t){var n=e("./capitalize"),i=e("./underscored"),a=e("./trim");r.exports=function o(e){return n(a(i(e).replace(/_id$/,"").replace(/_/g," ")))}},{"./capitalize":2,"./trim":60,"./underscored":62}],23:[function(e,r,t){var n=e("./helper/makeString");r.exports=function i(e,r){return""===r?!0:-1!==n(e).indexOf(r)}},{"./helper/makeString":19}],24:[function(e,r,t){var n=e("./splice");r.exports=function i(e,r,t){return n(e,r,0,t)}},{"./splice":44}],25:[function(e,r,t){var n=e("./helper/makeString");r.exports=function i(e){return/^\s*$/.test(n(e))}},{"./helper/makeString":19}],26:[function(e,r,t){var n=e("./helper/makeString"),i=[].slice;r.exports=function a(){var e=i.call(arguments),r=e.shift();return e.join(n(r))}},{"./helper/makeString":19}],27:[function(e,r,t){var n=e("./helper/makeString");r.exports=function i(e,r){e=n(e),r=n(r);for(var t=[],i,a,o=0;o<=r.length;o++)for(var u=0;u<=e.length;u++)a=o&&u?e.charAt(u-1)===r.charAt(o-1)?i:Math.min(t[u],t[u-1],i)+1:o+u,i=t[u],t[u]=a;return t.pop()}},{"./helper/makeString":19}],28:[function(e,r,t){r.exports=function n(e){return null==e?[]:String(e).split(/\r?\n/)}},{}],29:[function(e,r,t){var n=e("./pad");r.exports=function i(e,r,t){return n(e,r,t)}},{"./pad":34}],30:[function(e,r,t){var n=e("./pad");r.exports=function i(e,r,t){return n(e,r,t,"both")}},{"./pad":34}],31:[function(e,r,t){var n=e("./helper/makeString"),i=e("./helper/defaultToWhiteSpace"),a=String.prototype.trimLeft;r.exports=function o(e,r){return e=n(e),!r&&a?a.call(e):(r=i(r),e.replace(new RegExp("^"+r+"+"),""))}},{"./helper/defaultToWhiteSpace":16,"./helper/makeString":19}],32:[function(e,r,t){r.exports=function n(e,r){if(e==r)return 0;if(!e)return-1;if(!r)return 1;for(var t=/(\.\d+)|(\d+)|(\D+)/g,n=String(e).match(t),i=String(r).match(t),a=Math.min(n.length,i.length),o=0;a>o;o++){var u=n[o],p=i[o];if(u!==p){var c=+u,s=+p;return c===c&&s===s?c>s?1:-1:p>u?-1:1}}return n.length!=i.length?n.length-i.length:r>e?-1:1}},{}],33:[function(e,r,t){r.exports=function n(e,r,t,i){if(isNaN(e)||null==e)return"";e=e.toFixed(~~r),i="string"==typeof i?i:",";var a=e.split("."),o=a[0],u=a[1]?(t||".")+a[1]:"";return o.replace(/(\d)(?=(?:\d{3})+$)/g,"$1"+i)+u}},{}],34:[function(e,r,t){var n=e("./helper/makeString"),i=e("./helper/strRepeat");r.exports=function a(e,r,t,o){e=n(e),r=~~r;var u=0;switch(t?t.length>1&&(t=t.charAt(0)):t=" ",o){case"right":return u=r-e.length,e+i(t,u);case"both":return u=r-e.length,i(t,Math.ceil(u/2))+e+i(t,Math.floor(u/2));default:return u=r-e.length,i(t,u)+e}}},{"./helper/makeString":19,"./helper/strRepeat":20}],35:[function(e,r,t){var n=e("./helper/adjacent");r.exports=function i(e){return n(e,-1)}},{"./helper/adjacent":15}],36:[function(e,r,t){var n=e("./helper/makeString"),i=e("./rtrim");r.exports=function a(e,r,t){if(e=n(e),r=~~r,t=null!=t?String(t):"...",e.length<=r)return e;var a=function(e){return e.toUpperCase()!==e.toLowerCase()?"A":" "},o=e.slice(0,r+1).replace(/.(?=\W*\w*$)/g,a);return o=o.slice(o.length-2).match(/\w\w/)?o.replace(/\s*\S+$/,""):i(o.slice(0,o.length-1)),(o+t).length>e.length?e:e.slice(0,o.length)+t}},{"./helper/makeString":19,"./rtrim":42}],37:[function(e,r,t){var n=e("./surround");r.exports=function i(e,r){return n(e,r||'"')}},{"./surround":53}],38:[function(e,r,t){var n=e("./helper/makeString"),i=e("./helper/strRepeat");r.exports=function a(e,r,t){if(e=n(e),r=~~r,null==t)return i(e,r);for(var a=[];r>0;a[--r]=e);return a.join(t)}},{"./helper/makeString":19,"./helper/strRepeat":20}],39:[function(e,r,t){var n=e("./helper/makeString");r.exports=function i(e,r,t,a){var o=a===!0?"gi":"g",u=new RegExp(r,o);return n(e).replace(u,t)}},{"./helper/makeString":19}],40:[function(e,r,t){var n=e("./chars");r.exports=function i(e){return n(e).reverse().join("")}},{"./chars":3}],41:[function(e,r,t){var n=e("./pad");r.exports=function i(e,r,t){return n(e,r,t,"right")}},{"./pad":34}],42:[function(e,r,t){var n=e("./helper/makeString"),i=e("./helper/defaultToWhiteSpace"),a=String.prototype.trimRight;r.exports=function o(e,r){return e=n(e),!r&&a?a.call(e):(r=i(r),e.replace(new RegExp(r+"+$"),""))}},{"./helper/defaultToWhiteSpace":16,"./helper/makeString":19}],43:[function(e,r,t){var n=e("./helper/makeString"),i=e("./helper/defaultToWhiteSpace"),a=e("./trim"),o=e("./dasherize");r.exports=function u(e){var r="ąàáäâãåæăćčĉęèéëêĝĥìíïîĵłľńňòóöőôõðøśșšŝťțŭùúüűûñÿýçżźž",t="aaaaaaaaaccceeeeeghiiiijllnnoooooooossssttuuuuuunyyczzz",u=new RegExp(i(r),"g");return e=n(e).toLowerCase().replace(u,function(e){var n=r.indexOf(e);return t.charAt(n)||"-"}),a(o(e.replace(/[^\w\s-]/g,"-")),"-")}},{"./dasherize":8,"./helper/defaultToWhiteSpace":16,"./helper/makeString":19,"./trim":60}],44:[function(e,r,t){var n=e("./chars");r.exports=function i(e,r,t,a){var o=n(e);return o.splice(~~r,~~t,a),o.join("")}},{"./chars":3}],45:[function(e,r,t){var n=e("./helper/strRepeat"),i=Object.prototype.toString,a=function(){function e(e){return i.call(e).slice(8,-1).toLowerCase()}var r=n,t=function(){return t.cache.hasOwnProperty(arguments[0])||(t.cache[arguments[0]]=t.parse(arguments[0])),t.format.call(null,t.cache[arguments[0]],arguments)};return t.format=function(t,n){var i=1,o=t.length,u="",p,c=[],s,l,f,h,g,m;for(s=0;o>s;s++)if(u=e(t[s]),"string"===u)c.push(t[s]);else if("array"===u){if(f=t[s],f[2])for(p=n[i],l=0;l<f[2].length;l++){if(!p.hasOwnProperty(f[2][l]))throw new Error(a('[_.sprintf] property "%s" does not exist',f[2][l]));p=p[f[2][l]]}else p=f[1]?n[f[1]]:n[i++];if(/[^s]/.test(f[8])&&"number"!=e(p))throw new Error(a("[_.sprintf] expecting number but found %s",e(p)));switch(f[8]){case"b":p=p.toString(2);break;case"c":p=String.fromCharCode(p);break;case"d":p=parseInt(p,10);break;case"e":p=f[7]?p.toExponential(f[7]):p.toExponential();break;case"f":p=f[7]?parseFloat(p).toFixed(f[7]):parseFloat(p);break;case"o":p=p.toString(8);break;case"s":p=(p=String(p))&&f[7]?p.substring(0,f[7]):p;break;case"u":p=Math.abs(p);break;case"x":p=p.toString(16);break;case"X":p=p.toString(16).toUpperCase()}p=/[def]/.test(f[8])&&f[3]&&p>=0?"+"+p:p,g=f[4]?"0"==f[4]?"0":f[4].charAt(1):" ",m=f[6]-String(p).length,h=f[6]?r(g,m):"",c.push(f[5]?p+h:h+p)}return c.join("")},t.cache={},t.parse=function(e){for(var r=e,t=[],n=[],i=0;r;){if(null!==(t=/^[^\x25]+/.exec(r)))n.push(t[0]);else if(null!==(t=/^\x25{2}/.exec(r)))n.push("%");else{if(null===(t=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(r)))throw new Error("[_.sprintf] huh?");if(t[2]){i|=1;var a=[],o=t[2],u=[];if(null===(u=/^([a-z_][a-z_\d]*)/i.exec(o)))throw new Error("[_.sprintf] huh?");for(a.push(u[1]);""!==(o=o.substring(u[0].length));)if(null!==(u=/^\.([a-z_][a-z_\d]*)/i.exec(o)))a.push(u[1]);else{if(null===(u=/^\[(\d+)\]/.exec(o)))throw new Error("[_.sprintf] huh?");a.push(u[1])}t[2]=a}else i|=2;if(3===i)throw new Error("[_.sprintf] mixing positional and named placeholders is not (yet) supported");n.push(t)}r=r.substring(t[0].length)}return n},t}();r.exports=a},{"./helper/strRepeat":20}],46:[function(e,r,t){var n=e("./helper/makeString"),i=e("./helper/toPositive");r.exports=function a(e,r,t){return e=n(e),r=""+r,t=null==t?0:Math.min(i(t),e.length),e.lastIndexOf(r,t)===t}},{"./helper/makeString":19,"./helper/toPositive":21}],47:[function(e,r,t){var n=e("./helper/makeString");r.exports=function i(e,r){e=n(e),r=n(r);var t=r?e.indexOf(r):-1;return~t?e.slice(0,t):e}},{"./helper/makeString":19}],48:[function(e,r,t){var n=e("./helper/makeString");r.exports=function i(e,r){e=n(e),r=n(r);var t=e.lastIndexOf(r);return~t?e.slice(0,t):e}},{"./helper/makeString":19}],49:[function(e,r,t){var n=e("./helper/makeString");r.exports=function i(e,r){e=n(e),r=n(r);var t=r?e.indexOf(r):-1;return~t?e.slice(t+r.length,e.length):e}},{"./helper/makeString":19}],50:[function(e,r,t){var n=e("./helper/makeString");r.exports=function i(e,r){e=n(e),r=n(r);var t=r?e.lastIndexOf(r):-1;return~t?e.slice(t+r.length,e.length):e}},{"./helper/makeString":19}],51:[function(e,r,t){var n=e("./helper/makeString");r.exports=function i(e){return n(e).replace(/<\/?[^>]+>/g,"")}},{"./helper/makeString":19}],52:[function(e,r,t){var n=e("./helper/adjacent");r.exports=function i(e){return n(e,1)}},{"./helper/adjacent":15}],53:[function(e,r,t){r.exports=function n(e,r){return[r,e,r].join("")}},{}],54:[function(e,r,t){var n=e("./helper/makeString");r.exports=function i(e){return n(e).replace(/\S/g,function(e){return e===e.toUpperCase()?e.toLowerCase():e.toUpperCase()})}},{"./helper/makeString":19}],55:[function(e,r,t){var n=e("./helper/makeString");r.exports=function i(e){return n(e).toLowerCase().replace(/(?:^|\s|-)\S/g,function(e){return e.toUpperCase()})}},{"./helper/makeString":19}],56:[function(e,r,t){function n(e,r){var t,n,i=e.toLowerCase();for(r=[].concat(r),t=0;t<r.length;t+=1)if(n=r[t]){if(n.test&&n.test(e))return!0;if(n.toLowerCase()===i)return!0}}var i=e("./trim");r.exports=function a(e,r,t){return"number"==typeof e&&(e=""+e),"string"!=typeof e?!!e:(e=i(e),n(e,r||["true","1"])?!0:n(e,t||["false","0"])?!1:void 0)}},{"./trim":60}],57:[function(e,r,t){var n=e("./trim"),i=function(e){return 1*e||0};r.exports=function a(e,r){if(null==e)return 0;var t=Math.pow(10,isFinite(r)?r:0);return Math.round(e*t)/t}},{"./trim":60}],58:[function(e,r,t){var n=e("./rtrim");r.exports=function i(e,r,t,a){r=r||", ",t=t||" and ";var o=e.slice(),u=o.pop();return e.length>2&&a&&(t=n(r)+t),o.length?o.join(r)+t+u:u}},{"./rtrim":42}],59:[function(e,r,t){var n=e("./toSentence");r.exports=function i(e,r,t){return n(e,r,t,!0)}},{"./toSentence":58}],60:[function(e,r,t){var n=e("./helper/makeString"),i=e("./helper/defaultToWhiteSpace"),a=String.prototype.trim;r.exports=function o(e,r){return e=n(e),!r&&a?a.call(e):(r=i(r),e.replace(new RegExp("^"+r+"+|"+r+"+$","g"),""))}},{"./helper/defaultToWhiteSpace":16,"./helper/makeString":19}],61:[function(e,r,t){var n=e("./helper/makeString");r.exports=function i(e,r,t){return e=n(e),t=t||"...",r=~~r,e.length>r?e.slice(0,r)+t:e}},{"./helper/makeString":19}],62:[function(e,r,t){var n=e("./trim");r.exports=function i(e){return n(e).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()}},{"./trim":60}],63:[function(e,r,t){var n=e("./helper/makeString"),i=e("./helper/escapeChars");r.exports=function a(e){return n(e).replace(/\&([^;]+);/g,function(e,r){var t;return r in i?i[r]:(t=r.match(/^#x([\da-fA-F]+)$/))?String.fromCharCode(parseInt(t[1],16)):(t=r.match(/^#(\d+)$/))?String.fromCharCode(~~t[1]):e})}},{"./helper/escapeChars":17,"./helper/makeString":19}],64:[function(e,r,t){r.exports=function n(e,r){return r=r||'"',e[0]===r&&e[e.length-1]===r?e.slice(1,e.length-1):e}},{}],65:[function(e,r,t){var n=e("./sprintf");r.exports=function i(e,r){return r.unshift(e),n.apply(null,r)}},{"./sprintf":45}],66:[function(e,r,t){var n=e("./isBlank"),i=e("./trim");r.exports=function a(e,r){return n(e)?[]:i(e,r).split(r||/\s+/)}},{"./isBlank":25,"./trim":60}]},{},[14])(14)})}.call(this),function(){r=t.exports}.call(this),"undefined"==typeof Package&&(Package={}),Package["underscorestring:underscore.string"]={s:r}}();

!function(){var e=Package.meteor.Meteor,a=Package.check.check,t=Package.check.Match,r=Package.templating.Template,c=Package.underscore._,o=Package["iron:router"].Router,n=Package["iron:router"].RouteController,i=Package["underscorestring:underscore.string"].s,s=Package.blaze.Blaze,u=Package.blaze.UI,l=Package.blaze.Handlebars,g=Package["iron:core"].Iron,k=Package.htmljs.HTML,h;(function(){h="object"==typeof h?h:{};var e=h,c,n,s,u,l,g={}.hasOwnProperty;s=function(e,r){var c;return null==r&&(r=!1),c="is",r&&(c+="Not"),c=c+"Active"+i.capitalize(e),function(n){var i,s,u,g,k,h,P;if(!(n instanceof Spacebars.kw))throw new Error(""+c+" options must be key value pair such "+("as {{"+c+" regex='route/path'}}. You passed: ")+(""+JSON.stringify(n)));return g={className:t.Optional(String),regex:String},a(n.hash,g),(s=o.current())?(P=n.hash,i=P.className,k=P.regex,null==i&&(i=r?"disabled":"active"),"path"===e&&(u=!0),h=l(s,k,u),r&&(h=!h),h?i:!1):!1}},l=function(e,a,t){var r,c,o;return null==t&&(t=!1),r=t?e.location.get().path:null!=(o=e.route)?o.getName():void 0,c=new RegExp(a,"i"),c.test(r)},n={isActiveRoute:s("route"),isActivePath:s("path"),isNotActiveRoute:s("route",!0),isNotActivePath:s("path",!0)};for(u in n)g.call(n,u)&&(c=n[u],r.registerHelper(u,c))}).call(this),"undefined"==typeof Package&&(Package={}),Package["zimme:iron-router-active"]={}}();

!function(){var e=Package.meteor.Meteor,t=Package.jquery.$,n=Package.jquery.jQuery;(function(){!function(e,t,n,i){e.site=e.fn.site=function(o){var a=(new Date).getTime(),r=[],s=arguments[0],c="string"==typeof s,l=[].slice.call(arguments,1),u=e.isPlainObject(o)?e.extend(!0,{},e.site.settings,o):e.extend({},e.site.settings),d=u.namespace,m=u.error,f="."+d,g="module-"+d,p=e(n),v=p,h=this,b=v.data(g),y,x;return y={initialize:function(){y.instantiate()},instantiate:function(){y.verbose("Storing instance of site",y),b=y,v.data(g,y)},normalize:function(){y.fix.console(),y.fix.requestAnimationFrame()},fix:{console:function(){y.debug("Normalizing window.console"),(console===i||console.log===i)&&(y.verbose("Console not available, normalizing events"),y.disable.console()),("undefined"==typeof console.group||"undefined"==typeof console.groupEnd||"undefined"==typeof console.groupCollapsed)&&(y.verbose("Console group not available, normalizing events"),t.console.group=function(){},t.console.groupEnd=function(){},t.console.groupCollapsed=function(){}),"undefined"==typeof console.markTimeline&&(y.verbose("Mark timeline not available, normalizing events"),t.console.markTimeline=function(){})},consoleClear:function(){y.debug("Disabling programmatic console clearing"),t.console.clear=function(){}},requestAnimationFrame:function(){y.debug("Normalizing requestAnimationFrame"),t.requestAnimationFrame===i&&(y.debug("RequestAnimationFrame not available, normailizing event"),t.requestAnimationFrame=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)})}},moduleExists:function(t){return e.fn[t]!==i&&e.fn[t].settings!==i},enabled:{modules:function(t){var n=[];return t=t||u.modules,e.each(t,function(e,t){y.moduleExists(t)&&n.push(t)}),n}},disabled:{modules:function(t){var n=[];return t=t||u.modules,e.each(t,function(e,t){y.moduleExists(t)||n.push(t)}),n}},change:{setting:function(t,n,o,a){o="string"==typeof o?"all"===o?u.modules:[o]:o||u.modules,a=a!==i?a:!0,e.each(o,function(i,o){var r=y.moduleExists(o)?e.fn[o].settings.namespace||!1:!0,s;y.moduleExists(o)&&(y.verbose("Changing default setting",t,n,o),e.fn[o].settings[t]=n,a&&r&&(s=e(":data(module-"+r+")"),s.length>0&&(y.verbose("Modifying existing settings",s),s[o]("setting",t,n))))})},settings:function(t,n,o){n="string"==typeof n?[n]:n||u.modules,o=o!==i?o:!0,e.each(n,function(n,i){var a;y.moduleExists(i)&&(y.verbose("Changing default setting",t,i),e.extend(!0,e.fn[i].settings,t),o&&d&&(a=e(":data(module-"+d+")"),a.length>0&&(y.verbose("Modifying existing settings",a),a[i]("setting",t))))})}},enable:{console:function(){y.console(!0)},debug:function(e,t){e=e||u.modules,y.debug("Enabling debug for modules",e),y.change.setting("debug",!0,e,t)},verbose:function(e,t){e=e||u.modules,y.debug("Enabling verbose debug for modules",e),y.change.setting("verbose",!0,e,t)}},disable:{console:function(){y.console(!1)},debug:function(e,t){e=e||u.modules,y.debug("Disabling debug for modules",e),y.change.setting("debug",!1,e,t)},verbose:function(e,t){e=e||u.modules,y.debug("Disabling verbose debug for modules",e),y.change.setting("verbose",!1,e,t)}},console:function(e){if(e){if(b.cache.console===i)return void y.error(m.console);y.debug("Restoring console function"),t.console=b.cache.console}else y.debug("Disabling console function"),b.cache.console=t.console,t.console={clear:function(){},error:function(){},group:function(){},groupCollapsed:function(){},groupEnd:function(){},info:function(){},log:function(){},markTimeline:function(){},warn:function(){}}},destroy:function(){y.verbose("Destroying previous site for",v),v.removeData(g)},cache:{},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,u,t);else{if(n===i)return u[t];u[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,y,t);else{if(n===i)return y[t];y[t]=n}},debug:function(){u.debug&&(u.performance?y.performance.log(arguments):(y.debug=Function.prototype.bind.call(console.info,console,u.name+":"),y.debug.apply(console,arguments)))},verbose:function(){u.verbose&&u.debug&&(u.performance?y.performance.log(arguments):(y.verbose=Function.prototype.bind.call(console.info,console,u.name+":"),y.verbose.apply(console,arguments)))},error:function(){y.error=Function.prototype.bind.call(console.error,console,u.name+":"),y.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;u.performance&&(t=(new Date).getTime(),i=a||t,n=t-i,a=t,r.push({Element:h,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(y.performance.timer),y.performance.timer=setTimeout(y.performance.display,100)},display:function(){var t=u.name+":",n=0;a=!1,clearTimeout(y.performance.timer),e.each(r,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",(console.group!==i||console.table!==i)&&r.length>0&&(console.groupCollapsed(t),console.table?console.table(r):e.each(r,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),r=[]}},invoke:function(t,n,o){var a=b,r,s,c;return n=n||l,o=h||o,"string"==typeof t&&a!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var c=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(a[c])&&n!=r)a=a[c];else{if(a[c]!==i)return s=a[c],!1;if(!e.isPlainObject(a[o])||n==r)return a[o]!==i?(s=a[o],!1):(y.error(m.method,t),!1);a=a[o]}})),e.isFunction(s)?c=s.apply(o,n):s!==i&&(c=s),e.isArray(x)?x.push(c):x!==i?x=[x,c]:c!==i&&(x=c),s}},c?(b===i&&y.initialize(),y.invoke(s)):(b!==i&&y.destroy(),y.initialize()),x!==i?x:this},e.site.settings={name:"Site",namespace:"site",error:{console:"Console cannot be restored, most likely it was overwritten outside of module",method:"The method you called is not defined."},debug:!1,verbose:!0,performance:!0,modules:["accordion","api","checkbox","dimmer","dropdown","form","modal","nag","popup","rating","shape","sidebar","state","sticky","tab","transition","video","visit","visibility"],siteNamespace:"site",namespaceStub:{cache:{},config:{},sections:{},section:{},utilities:{}}},e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,i){return!!e.data(t,i[3])}})}(n,window,document),function(e,t,n,i){"use strict";e.fn.form=function(t,o){var a=e(this),r=e.extend(!0,{},e.fn.form.settings,o),s=e.extend({},e.fn.form.settings.defaults,t),c=r.namespace,l=r.metadata,u=r.selector,d=r.className,m=r.error,f="."+c,g="module-"+c,p=a.selector||"",v=(new Date).getTime(),h=[],b=arguments[0],y="string"==typeof b,x=[].slice.call(arguments,1),w;return a.each(function(){var t=e(this),o=e(this).find(u.field),c=e(this).find(u.group),m=e(this).find(u.message),C=e(this).find(u.prompt),T=e(this).find(u.submit),k=e(this).find(u.clear),S=e(this).find(u.reset),A=[],P=!1,E=this,F=t.data(g),R;R={initialize:function(){R.verbose("Initializing form validation",t,s,r),R.bindEvents(),R.set.defaults(),R.instantiate()},instantiate:function(){R.verbose("Storing instance of module",R),F=R,t.data(g,R)},destroy:function(){R.verbose("Destroying previous module",F),R.removeEvents(),t.removeData(g)},refresh:function(){R.verbose("Refreshing selector cache"),o=t.find(u.field)},submit:function(){R.verbose("Submitting form",t),t.submit()},attachEvents:function(t,n){n=n||"submit",e(t).on("click",function(e){R[n](),e.preventDefault()})},bindEvents:function(){r.keyboardShortcuts&&o.on("keydown"+f,R.event.field.keydown),t.on("submit"+f,R.validate.form),o.on("blur"+f,R.event.field.blur),R.attachEvents(T,"submit"),R.attachEvents(S,"reset"),R.attachEvents(k,"clear"),o.each(function(){var t=e(this).prop("type"),n=R.get.changeEvent(t);e(this).on(n+f,R.event.field.change)})},clear:function(){o.each(function(){var t=e(this),n=t.parent(),i=t.closest(c),o=i.find(u.prompt),a=t.data(l.defaultValue)||"",r=n.is(u.uiCheckbox),s=n.is(u.uiDropdown),m=i.hasClass(d.error);m&&(R.verbose("Resetting error on field",i),i.removeClass(d.error),o.remove()),s?(R.verbose("Resetting dropdown value",n,a),n.dropdown("clear")):r?n.checkbox("uncheck"):(R.verbose("Resetting field value",t,a),t.val(""))})},reset:function(){o.each(function(){var t=e(this),n=t.parent(),i=t.closest(c),o=i.find(u.prompt),a=t.data(l.defaultValue)||"",r=n.is(u.uiCheckbox),s=n.is(u.uiDropdown),m=i.hasClass(d.error);m&&(R.verbose("Resetting error on field",i),i.removeClass(d.error),o.remove()),s?(R.verbose("Resetting dropdown value",n,a),n.dropdown("restore defaults")):r?(R.verbose("Resetting checkbox value",n,a),n.checkbox(a===!0?"check":"uncheck")):(R.verbose("Resetting field value",t,a),t.val(a))})},removeEvents:function(){t.off(f),o.off(f),T.off(f),o.off(f)},event:{field:{keydown:function(t){var n=e(this),i=t.which,o={enter:13,escape:27};i==o.escape&&(R.verbose("Escape key pressed blurring field"),n.blur()),!t.ctrlKey&&i==o.enter&&n.is(u.input)&&n.not(u.checkbox).length>0&&(T.addClass(d.pressed),P||(n.one("keyup"+f,R.event.field.keyup),R.submit(),R.debug("Enter pressed on input submitting form")),P=!0)},keyup:function(){P=!1,T.removeClass(d.pressed)},blur:function(){var t=e(this),n=t.closest(c);n.hasClass(d.error)?(R.debug("Revalidating field",t,R.get.validation(t)),R.validate.field(R.get.validation(t))):("blur"==r.on||"change"==r.on)&&R.validate.field(R.get.validation(t))},change:function(){var t=e(this),n=t.closest(c);("change"==r.on||n.hasClass(d.error)&&r.revalidate)&&(clearTimeout(R.timer),R.timer=setTimeout(function(){R.debug("Revalidating field",t,R.get.validation(t)),R.validate.field(R.get.validation(t))},r.delay))}}},get:{changeEvent:function(e){return"checkbox"==e||"radio"==e||"hidden"==e?"change":R.get.inputEvent()},inputEvent:function(){return n.createElement("input").oninput!==i?"input":n.createElement("input").onpropertychange!==i?"propertychange":"keyup"},field:function(t){return R.verbose("Finding field with identifier",t),o.filter("#"+t).length>0?o.filter("#"+t):o.filter('[name="'+t+'"]').length>0?o.filter('[name="'+t+'"]'):o.filter('[name="'+t+'[]"]').length>0?o.filter('[name="'+t+'[]"]'):o.filter("[data-"+l.validate+'="'+t+'"]').length>0?o.filter("[data-"+l.validate+'="'+t+'"]'):e("<input/>")},fields:function(t){var n=e();return e.each(t,function(e,t){n=n.add(R.get.field(t))}),n},validation:function(t){var n;return e.each(s,function(e,i){R.get.field(i.identifier).get(0)==t.get(0)&&(n=i)}),n||!1},value:function(e){var t=[],n;return t.push(e),n=R.get.values.call(E,t),n[e]},values:function(t){var n=e.isArray(t)?R.get.fields(t):o,i={};return n.each(function(t,n){var o=e(n),a=o.prop("type"),r=o.prop("name"),s=o.val(),c=o.is(u.checkbox),l=o.is(u.radio),d=-1!==r.indexOf("[]"),m=c?o.is(":checked"):!1;if(r)if(d)if(r=r.replace("[]",""),i[r]||(i[r]=[]),c){if(!m)return R.debug("Omitted unchecked checkbox",o),!0;i[r].push(s)}else i[r].push(s);else if(l)m&&(i[r]=s);else if(c){if(!m)return R.debug("Omitted unchecked checkbox",o),!0;i[r]=!0}else i[r]=s}),i}},has:{field:function(e){return R.verbose("Checking for existence of a field with identifier",e),o.filter("#"+e).length>0?!0:o.filter('[name="'+e+'"]').length>0?!0:o.filter("[data-"+l.validate+'="'+e+'"]').length>0?!0:!1}},add:{prompt:function(n,o){var a=R.get.field(n),s=a.closest(c),l=s.children(u.prompt),m=0!==l.length;o="string"==typeof o?[o]:o,R.verbose("Adding field error state",n),s.addClass(d.error),r.inline&&(m||(l=r.templates.prompt(o),l.appendTo(s)),l.html(o[0]),m?R.verbose("Inline errors are disabled, no inline error added",n):r.transition&&e.fn.transition!==i&&t.transition("is supported")?(R.verbose("Displaying error with css transition",r.transition),l.transition(r.transition+" in",r.duration)):(R.verbose("Displaying error with fallback javascript animation"),l.fadeIn(r.duration)))},errors:function(e){R.debug("Adding form error messages",e),m.html(r.templates.error(e))}},remove:{prompt:function(n){var o=R.get.field(n.identifier),a=o.closest(c),s=a.children(u.prompt);a.removeClass(d.error),r.inline&&s.is(":visible")&&(R.verbose("Removing prompt for field",n),r.transition&&e.fn.transition!==i&&t.transition("is supported")?s.transition(r.transition+" out",r.duration,function(){s.remove()}):s.fadeOut(r.duration,function(){s.remove()}))}},set:{success:function(){t.removeClass(d.error).addClass(d.success)},defaults:function(){o.each(function(){var t=e(this),n=t.filter(u.checkbox).length>0,i=n?t.is(":checked"):t.val();t.data(l.defaultValue,i)})},error:function(){t.removeClass(d.success).addClass(d.error)},value:function(e,t){var n={};return n[e]=t,R.set.values.call(E,n)},values:function(t){e.isEmptyObject(t)||(e.each(t,function(t,n){var i=R.get.field(t),o=i.parent(),a=e.isArray(n),r=o.is(u.uiCheckbox),s=o.is(u.uiDropdown),c=i.is(u.radio)&&r,l=i.length>0,d;l&&(a&&r?(R.verbose("Selecting multiple",n,i),o.checkbox("uncheck"),e.each(n,function(e,t){d=i.filter('[value="'+t+'"]'),o=d.parent(),d.length>0&&o.checkbox("check")})):c?(R.verbose("Selecting radio value",n,i),i.filter('[value="'+n+'"]').parent(u.uiCheckbox).checkbox("check")):r?(R.verbose("Setting checkbox value",n,o),o.checkbox(n===!0?"check":"uncheck")):s?(R.verbose("Setting dropdown value",n,o),o.dropdown("set selected",n)):(R.verbose("Setting field value",n,i),i.val(n)))}),R.validate.form())}},validate:{form:function(n){var o=!0,a;return P?!1:(A=[],e.each(s,function(e,t){R.validate.field(t)||(o=!1)}),o?(R.debug("Form has no validation errors, submitting"),R.set.success(),r.onSuccess.call(E,n)):(R.debug("Form has errors"),R.set.error(),r.inline||R.add.errors(A),t.data("moduleApi")!==i&&n.stopImmediatePropagation(),r.onFailure.call(E,A)))},field:function(t){var n=R.get.field(t.identifier),o=!0,a=[];return n.prop("disabled")?(R.debug("Field is disabled. Skipping",t.identifier),o=!0):t.optional&&""===e.trim(n.val())?(R.debug("Field is optional and empty. Skipping",t.identifier),o=!0):t.rules!==i&&e.each(t.rules,function(e,n){R.has.field(t.identifier)&&!R.validate.rule(t,n)&&(R.debug("Field is invalid",t.identifier,n.type),a.push(n.prompt),o=!1)}),o?(R.remove.prompt(t,a),r.onValid.call(n),!0):(A=A.concat(a),R.add.prompt(t.identifier,a),r.onInvalid.call(n,a),!1)},rule:function(t,n){var o=R.get.field(t.identifier),a=n.type,s=e.trim(o.val()+""),c=/\[(.*)\]/i,l=c.exec(a),u=!0,d,m;return l!==i&&null!==l?(d=""+l[1],m=a.replace(l[0],""),u=r.rules[m].call(E,s,d)):u=r.rules[a].call(o,s),u}},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,r,t);else{if(n===i)return r[t];r[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,R,t);else{if(n===i)return R[t];R[t]=n}},debug:function(){r.debug&&(r.performance?R.performance.log(arguments):(R.debug=Function.prototype.bind.call(console.info,console,r.name+":"),R.debug.apply(console,arguments)))},verbose:function(){r.verbose&&r.debug&&(r.performance?R.performance.log(arguments):(R.verbose=Function.prototype.bind.call(console.info,console,r.name+":"),R.verbose.apply(console,arguments)))},error:function(){R.error=Function.prototype.bind.call(console.error,console,r.name+":"),R.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;r.performance&&(t=(new Date).getTime(),i=v||t,n=t-i,v=t,h.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:E,"Execution Time":n})),clearTimeout(R.performance.timer),R.performance.timer=setTimeout(R.performance.display,100)},display:function(){var t=r.name+":",n=0;v=!1,clearTimeout(R.performance.timer),e.each(h,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",p&&(t+=" '"+p+"'"),a.length>1&&(t+=" ("+a.length+")"),(console.group!==i||console.table!==i)&&h.length>0&&(console.groupCollapsed(t),console.table?console.table(h):e.each(h,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),h=[]}},invoke:function(t,n,o){var a=F,r,s,c;return n=n||x,o=E||o,"string"==typeof t&&a!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var c=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(a[c])&&n!=r)a=a[c];else{if(a[c]!==i)return s=a[c],!1;if(!e.isPlainObject(a[o])||n==r)return a[o]!==i?(s=a[o],!1):!1;a=a[o]}})),e.isFunction(s)?c=s.apply(o,n):s!==i&&(c=s),e.isArray(w)?w.push(c):w!==i?w=[w,c]:c!==i&&(w=c),s}},y?(F===i&&R.initialize(),R.invoke(b)):(F!==i&&F.invoke("destroy"),R.initialize())}),w!==i?w:this},e.fn.form.settings={name:"Form",namespace:"form",debug:!1,verbose:!0,performance:!0,keyboardShortcuts:!0,on:"submit",inline:!1,delay:200,revalidate:!0,transition:"scale",duration:200,onValid:function(){},onInvalid:function(){},onSuccess:function(){return!0},onFailure:function(){return!1},metadata:{defaultValue:"default",validate:"validate"},selector:{checkbox:'input[type="checkbox"], input[type="radio"]',clear:".clear",field:"input, textarea, select",group:".field",input:"input",message:".error.message",prompt:".prompt.label",radio:'input[type="radio"]',reset:".reset",submit:".submit",uiCheckbox:".ui.checkbox",uiDropdown:".ui.dropdown"},className:{error:"error",label:"ui prompt label",pressed:"down",success:"success"},error:{method:"The method you called is not defined."},templates:{error:function(t){var n='<ul class="list">';return e.each(t,function(e,t){n+="<li>"+t+"</li>"}),n+="</ul>",e(n)},prompt:function(t){return e("<div/>").addClass("ui red pointing prompt label").html(t[0])}},rules:{checked:function(){return e(this).filter(":checked").length>0},contains:function(e,t){return t=t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),-1!==e.search(new RegExp(t,"i"))},containsExactly:function(e,t){return t=t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),-1!==e.search(new RegExp(t))},email:function(e){var t=new RegExp("[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?","i");return t.test(e)},empty:function(e){return!(e===i||""===e)},integer:function(e,t){var n=/^\-?\d+$/,o,a,r;return t===i||""===t||".."===t||(-1==t.indexOf("..")?n.test(t)&&(o=a=t-0):(r=t.split("..",2),n.test(r[0])&&(o=r[0]-0),n.test(r[1])&&(a=r[1]-0))),n.test(e)&&(o===i||e>=o)&&(a===i||a>=e)},is:function(e,t){return t="string"==typeof t?t.toLowerCase():t,e="string"==typeof e?e.toLowerCase():e,e==t},isExactly:function(e,t){return e==t},length:function(e,t){return e!==i?e.length>=t:!1},match:function(t,n){var o=e(this),a;return o.find("#"+n).length>0?a=o.find("#"+n).val():o.find('[name="'+n+'"]').length>0?a=o.find('[name="'+n+'"]').val():o.find('[data-validate="'+n+'"]').length>0&&(a=o.find('[data-validate="'+n+'"]').val()),a!==i?t.toString()==a.toString():!1},maxLength:function(e,t){return e!==i?e.length<=t:!1},not:function(e,t){return e="string"==typeof e?e.toLowerCase():e,t="string"==typeof t?t.toLowerCase():t,e!=t},notExactly:function(e,t){return e!=t},url:function(e){var t=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;return t.test(e)}}}}(n,window,document),function(e,t,n,i){"use strict";e.fn.accordion=function(n){var o=e(this),a=(new Date).getTime(),r=[],s=arguments[0],c="string"==typeof s,l=[].slice.call(arguments,1),u=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)},d;return o.each(function(){var u=e.isPlainObject(n)?e.extend(!0,{},e.fn.accordion.settings,n):e.extend({},e.fn.accordion.settings),m=u.className,f=u.namespace,g=u.selector,p=u.error,v="."+f,h="module-"+f,b=o.selector||"",y=e(this),x=y.find(g.title),w=y.find(g.content),C=this,T=y.data(h),k,S;S={initialize:function(){S.debug("Initializing",y),S.bind.events(),S.observeChanges(),S.instantiate()},instantiate:function(){T=S,y.data(h,S)},destroy:function(){S.debug("Destroying previous instance",y),y.off(v).removeData(h)},refresh:function(){x=y.find(g.title),w=y.find(g.content)},observeChanges:function(){"MutationObserver"in t&&(k=new MutationObserver(function(e){S.debug("DOM tree modified, updating selector cache"),S.refresh()}),k.observe(C,{childList:!0,subtree:!0}),S.debug("Setting up mutation observer",k))},bind:{events:function(){S.debug("Binding delegated events"),y.on("click"+v,g.trigger,S.event.click)}},event:{click:function(){S.toggle.call(this)}},toggle:function(t){var n=t!==i?"number"==typeof t?x.eq(t):e(t).closest(g.title):e(this).closest(g.title),o=n.next(w),a=o.hasClass(m.animating),r=o.hasClass(m.active),s=r&&!a,c=!r&&a;S.debug("Toggling visibility of content",n),s||c?u.collapsible?S.close.call(n):S.debug("Cannot close accordion content collapsing is disabled"):S.open.call(n)},open:function(t){var n=t!==i?"number"==typeof t?x.eq(t):e(t).closest(g.title):e(this).closest(g.title),o=n.next(w),a=o.hasClass(m.animating),r=o.hasClass(m.active),s=!r&&!a;s&&(S.debug("Opening accordion content",n),u.exclusive&&S.closeOthers.call(n),n.addClass(m.active),o.addClass(m.animating),u.animateChildren&&(e.fn.transition!==i&&y.transition("is supported")?o.children().transition({animation:"fade in",queue:!1,useFailSafe:!0,debug:u.debug,verbose:u.verbose,duration:u.duration}):o.children().stop(!0).animate({opacity:1},u.duration,S.resetOpacity)),o.stop(!0).slideDown(u.duration,u.easing,function(){o.removeClass(m.animating).addClass(m.active),S.reset.display.call(this),u.onOpen.call(this),u.onChange.call(this)}))},close:function(t){var n=t!==i?"number"==typeof t?x.eq(t):e(t).closest(g.title):e(this).closest(g.title),o=n.next(w),a=o.hasClass(m.animating),r=o.hasClass(m.active),s=!r&&a,c=r&&a;!r&&!s||c||(S.debug("Closing accordion content",o),n.removeClass(m.active),o.addClass(m.animating),u.animateChildren&&(e.fn.transition!==i&&y.transition("is supported")?o.children().transition({animation:"fade out",queue:!1,useFailSafe:!0,debug:u.debug,verbose:u.verbose,duration:u.duration}):o.children().stop(!0).animate({opacity:0},u.duration,S.resetOpacity)),o.stop(!0).slideUp(u.duration,u.easing,function(){o.removeClass(m.animating).removeClass(m.active),S.reset.display.call(this),u.onClose.call(this),u.onChange.call(this)}))},closeOthers:function(t){var n=t!==i?x.eq(t):e(this).closest(g.title),o=n.parents(g.content).prev(g.title),a=n.closest(g.accordion),r=g.title+"."+m.active+":visible",s=g.content+"."+m.active+":visible",c,l,d;u.closeNested?(c=a.find(r).not(o),d=c.next(w)):(c=a.find(r).not(o),l=a.find(s).find(r).not(o),c=c.not(l),d=c.next(w)),c.length>0&&(S.debug("Exclusive enabled, closing other content",c),c.removeClass(m.active),u.animateChildren&&(e.fn.transition!==i&&y.transition("is supported")?d.children().transition({animation:"fade out",useFailSafe:!0,debug:u.debug,verbose:u.verbose,duration:u.duration}):d.children().stop().animate({opacity:0},u.duration,S.resetOpacity)),d.stop().slideUp(u.duration,u.easing,function(){e(this).removeClass(m.active),S.reset.display.call(this)}))},reset:{display:function(){S.verbose("Removing inline display from element",this),e(this).css("display",""),""===e(this).attr("style")&&e(this).attr("style","").removeAttr("style")},opacity:function(){S.verbose("Removing inline opacity from element",this),e(this).css("opacity",""),""===e(this).attr("style")&&e(this).attr("style","").removeAttr("style")}},setting:function(t,n){if(S.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,u,t);else{if(n===i)return u[t];u[t]=n}},internal:function(t,n){return S.debug("Changing internal",t,n),n===i?S[t]:void(e.isPlainObject(t)?e.extend(!0,S,t):S[t]=n)},debug:function(){u.debug&&(u.performance?S.performance.log(arguments):(S.debug=Function.prototype.bind.call(console.info,console,u.name+":"),S.debug.apply(console,arguments)))},verbose:function(){u.verbose&&u.debug&&(u.performance?S.performance.log(arguments):(S.verbose=Function.prototype.bind.call(console.info,console,u.name+":"),S.verbose.apply(console,arguments)))},error:function(){S.error=Function.prototype.bind.call(console.error,console,u.name+":"),S.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;u.performance&&(t=(new Date).getTime(),i=a||t,n=t-i,a=t,r.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:C,"Execution Time":n})),clearTimeout(S.performance.timer),S.performance.timer=setTimeout(S.performance.display,100)},display:function(){var t=u.name+":",n=0;a=!1,clearTimeout(S.performance.timer),e.each(r,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",b&&(t+=" '"+b+"'"),(console.group!==i||console.table!==i)&&r.length>0&&(console.groupCollapsed(t),console.table?console.table(r):e.each(r,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),r=[]}},invoke:function(t,n,o){var a=T,r,s,c;return n=n||l,o=C||o,"string"==typeof t&&a!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var c=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(a[c])&&n!=r)a=a[c];else{if(a[c]!==i)return s=a[c],!1;if(!e.isPlainObject(a[o])||n==r)return a[o]!==i?(s=a[o],!1):(S.error(p.method,t),!1);a=a[o]}})),e.isFunction(s)?c=s.apply(o,n):s!==i&&(c=s),e.isArray(d)?d.push(c):d!==i?d=[d,c]:c!==i&&(d=c),s}},c?(T===i&&S.initialize(),S.invoke(s)):(T!==i&&T.invoke("destroy"),S.initialize())}),d!==i?d:this},e.fn.accordion.settings={name:"Accordion",namespace:"accordion",debug:!1,verbose:!0,performance:!0,exclusive:!0,collapsible:!0,closeNested:!1,animateChildren:!0,duration:350,easing:"easeOutQuad",onOpen:function(){},onClose:function(){},onChange:function(){},error:{method:"The method you called is not defined"},className:{active:"active",animating:"animating"},selector:{accordion:".accordion",title:".title",trigger:".title",content:".content"}},e.extend(e.easing,{easeOutQuad:function(e,t,n,i,o){return-i*(t/=o)*(t-2)+n}})}(n,window,document),function(e,t,n,i){"use strict";e.fn.checkbox=function(n){var o=e(this),a=o.selector||"",r=(new Date).getTime(),s=[],c=arguments[0],l="string"==typeof c,u=[].slice.call(arguments,1),d;return o.each(function(){var o=e.extend(!0,{},e.fn.checkbox.settings,n),m=o.className,f=o.namespace,g=o.selector,p=o.error,v="."+f,h="module-"+f,b=e(this),y=e(this).find(g.label).first(),x=e(this).find(g.input),w=b.data(h),C,T=this,k;k={initialize:function(){k.verbose("Initializing checkbox",o),k.create.label(),k.add.events(),k.is.checked()?(k.set.checked(),o.fireOnInit&&o.onChecked.call(x.get())):(k.remove.checked(),o.fireOnInit&&o.onUnchecked.call(x.get())),k.observeChanges(),k.instantiate()},instantiate:function(){k.verbose("Storing instance of module",k),w=k,b.data(h,k)},destroy:function(){k.verbose("Destroying module"),k.remove.events(),b.removeData(h)},refresh:function(){b=e(T),y=e(T).find(g.label).first(),x=e(T).find(g.input)},observeChanges:function(){"MutationObserver"in t&&(C=new MutationObserver(function(e){k.debug("DOM tree modified, updating selector cache"),k.refresh()}),C.observe(T,{childList:!0,subtree:!0}),k.debug("Setting up mutation observer",C))},attachEvents:function(t,n){var i=e(t);n=e.isFunction(k[n])?k[n]:k.toggle,i.length>0?(k.debug("Attaching checkbox events to element",t,n),i.on("click"+v,n)):k.error(p.notFound)},event:{keydown:function(e){var t=e.which,n={enter:13,space:32,escape:27};t==n.escape&&(k.verbose("Escape key pressed blurring field"),b.blur()),e.ctrlKey||t!=n.enter&&t!=n.space||(k.verbose("Enter key pressed, toggling checkbox"),k.toggle.call(this),e.preventDefault())}},is:{radio:function(){return b.hasClass(m.radio)},checked:function(){return x.prop("checked")!==i&&x.prop("checked")},unchecked:function(){return!k.is.checked()}},can:{change:function(){return!(b.hasClass(m.disabled)||b.hasClass(m.readOnly)||x.prop("disabled"))},uncheck:function(){return"boolean"==typeof o.uncheckable?o.uncheckable:!k.is.radio()}},set:{checked:function(){b.addClass(m.checked)},tab:function(){x.attr("tabindex")===i&&x.attr("tabindex",0)}},create:{label:function(){x.prevAll(g.label).length>0?(x.prev(g.label).detach().insertAfter(x),k.debug("Moving existing label",y)):k.has.label()||(y=e("<label>").insertAfter(x),k.debug("Creating label",y))}},has:{label:function(){return y.length>0}},add:{events:function(){k.verbose("Attaching checkbox events"),b.on("click"+v,k.toggle).on("keydown"+v,g.input,k.event.keydown)}},remove:{checked:function(){b.removeClass(m.checked)},events:function(){k.debug("Removing events"),b.off(v).removeData(h),x.off(v,k.event.keydown),y.off(v)}},enable:function(){k.debug("Enabling checkbox functionality"),b.removeClass(m.disabled),x.prop("disabled",!1),o.onEnabled.call(x.get())},disable:function(){k.debug("Disabling checkbox functionality"),b.addClass(m.disabled),x.prop("disabled","disabled"),o.onDisabled.call(x.get())},check:function(){k.debug("Enabling checkbox",x),x.prop("checked",!0).trigger("change"),k.set.checked(),x.trigger("blur"),o.onChange.call(x.get()),o.onChecked.call(x.get())},uncheck:function(){k.debug("Disabling checkbox"),x.prop("checked",!1).trigger("change"),k.remove.checked(),x.trigger("blur"),o.onChange.call(x.get()),o.onUnchecked.call(x.get())},toggle:function(e){return k.can.change()?(k.verbose("Determining new checkbox state"),void(k.is.unchecked()?k.check():k.is.checked()&&k.can.uncheck()&&k.uncheck())):(console.log(k.can.change()),void k.debug("Checkbox is read-only or disabled, ignoring toggle"))},setting:function(t,n){if(k.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,o,t);else{if(n===i)return o[t];o[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,k,t);else{if(n===i)return k[t];k[t]=n}},debug:function(){o.debug&&(o.performance?k.performance.log(arguments):(k.debug=Function.prototype.bind.call(console.info,console,o.name+":"),k.debug.apply(console,arguments)))},verbose:function(){o.verbose&&o.debug&&(o.performance?k.performance.log(arguments):(k.verbose=Function.prototype.bind.call(console.info,console,o.name+":"),k.verbose.apply(console,arguments)))},error:function(){k.error=Function.prototype.bind.call(console.error,console,o.name+":"),k.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;o.performance&&(t=(new Date).getTime(),i=r||t,n=t-i,r=t,s.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:T,"Execution Time":n})),clearTimeout(k.performance.timer),k.performance.timer=setTimeout(k.performance.display,100)},display:function(){var t=o.name+":",n=0;r=!1,clearTimeout(k.performance.timer),e.each(s,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",a&&(t+=" '"+a+"'"),(console.group!==i||console.table!==i)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(t,n,o){var a=w,r,s,c;return n=n||u,o=T||o,"string"==typeof t&&a!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var c=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(a[c])&&n!=r)a=a[c];else{if(a[c]!==i)return s=a[c],!1;if(!e.isPlainObject(a[o])||n==r)return a[o]!==i?(s=a[o],!1):(k.error(p.method,t),!1);a=a[o]}})),e.isFunction(s)?c=s.apply(o,n):s!==i&&(c=s),e.isArray(d)?d.push(c):d!==i?d=[d,c]:c!==i&&(d=c),s}},l?(w===i&&k.initialize(),k.invoke(c)):(w!==i&&w.invoke("destroy"),k.initialize())}),d!==i?d:this},e.fn.checkbox.settings={name:"Checkbox",namespace:"checkbox",debug:!1,verbose:!0,performance:!0,uncheckable:"auto",fireOnInit:!0,onChange:function(){},onChecked:function(){},onUnchecked:function(){},onEnabled:function(){},onDisabled:function(){},className:{checked:"checked",disabled:"disabled",radio:"radio",readOnly:"read-only"},error:{method:"The method you called is not defined"},selector:{input:'input[type="checkbox"], input[type="radio"]',label:"label"}}}(n,window,document),function(e,t,n,i){"use strict";e.fn.dimmer=function(t){var o=e(this),a=(new Date).getTime(),r=[],s=arguments[0],c="string"==typeof s,l=[].slice.call(arguments,1),u;return o.each(function(){var d=e.isPlainObject(t)?e.extend(!0,{},e.fn.dimmer.settings,t):e.extend({},e.fn.dimmer.settings),m=d.selector,f=d.namespace,g=d.className,p=d.error,v="."+f,h="module-"+f,b=o.selector||"",y="ontouchstart"in n.documentElement?"touchstart":"click",x=e(this),w,C,T=this,k=x.data(h),S;S={preinitialize:function(){S.is.dimmer()?(C=x.parent(),w=x):(C=x,w=S.has.dimmer()?d.dimmerName?C.children(m.dimmer).filter("."+d.dimmerName):C.children(m.dimmer):S.create());

},initialize:function(){S.debug("Initializing dimmer",d),"hover"==d.on?C.on("mouseenter"+v,S.show).on("mouseleave"+v,S.hide):"click"==d.on&&C.on(y+v,S.toggle),S.is.page()&&(S.debug("Setting as a page dimmer",C),S.set.pageDimmer()),S.is.closable()&&(S.verbose("Adding dimmer close event",w),w.on(y+v,S.event.click)),S.set.dimmable(),S.instantiate()},instantiate:function(){S.verbose("Storing instance of module",S),k=S,x.data(h,k)},destroy:function(){S.verbose("Destroying previous module",w),x.removeData(h),C.off(v),w.off(v)},event:{click:function(t){S.verbose("Determining if event occured on dimmer",t),(0===w.find(t.target).length||e(t.target).is(m.content))&&(S.hide(),t.stopImmediatePropagation())}},addContent:function(t){var n=e(t);S.debug("Add content to dimmer",n),n.parent()[0]!==w[0]&&n.detach().appendTo(w)},create:function(){var t=e(d.template.dimmer());return d.variation&&(S.debug("Creating dimmer with variation",d.variation),t.addClass(d.variation)),d.dimmerName&&(S.debug("Creating named dimmer",d.dimmerName),t.addClass(d.dimmerName)),t.appendTo(C),t},show:function(t){t=e.isFunction(t)?t:function(){},S.debug("Showing dimmer",w,d),S.is.dimmed()&&!S.is.animating()||!S.is.enabled()?S.debug("Dimmer is already shown or disabled"):(S.animate.show(t),d.onShow.call(T),d.onChange.call(T))},hide:function(t){t=e.isFunction(t)?t:function(){},S.is.dimmed()||S.is.animating()?(S.debug("Hiding dimmer",w),S.animate.hide(t),d.onHide.call(T),d.onChange.call(T)):S.debug("Dimmer is not visible")},toggle:function(){S.verbose("Toggling dimmer visibility",w),S.is.dimmed()?S.hide():S.show()},animate:{show:function(t){t=e.isFunction(t)?t:function(){},d.useCSS&&e.fn.transition!==i&&w.transition("is supported")?("auto"!==d.opacity&&S.set.opacity(),w.transition({animation:d.transition+" in",queue:!1,duration:S.get.duration(),useFailSafe:!0,onStart:function(){S.set.dimmed()},onComplete:function(){S.set.active(),t()}})):(S.verbose("Showing dimmer animation with javascript"),S.set.dimmed(),"auto"==d.opacity&&(d.opacity=.8),w.stop().css({opacity:0,width:"100%",height:"100%"}).fadeTo(S.get.duration(),d.opacity,function(){w.removeAttr("style"),S.set.active(),t()}))},hide:function(t){t=e.isFunction(t)?t:function(){},d.useCSS&&e.fn.transition!==i&&w.transition("is supported")?(S.verbose("Hiding dimmer with css"),w.transition({animation:d.transition+" out",queue:!1,duration:S.get.duration(),useFailSafe:!0,onStart:function(){S.remove.dimmed()},onComplete:function(){S.remove.active(),t()}})):(S.verbose("Hiding dimmer with javascript"),S.remove.dimmed(),w.stop().fadeOut(S.get.duration(),function(){S.remove.active(),w.removeAttr("style"),t()}))}},get:{dimmer:function(){return w},duration:function(){return"object"==typeof d.duration?S.is.active()?d.duration.hide:d.duration.show:d.duration}},has:{dimmer:function(){return d.dimmerName?x.children(m.dimmer).filter("."+d.dimmerName).length>0:x.children(m.dimmer).length>0}},is:{active:function(){return w.hasClass(g.active)},animating:function(){return w.is(":animated")||w.hasClass(g.animating)},closable:function(){return"auto"==d.closable?"hover"==d.on?!1:!0:d.closable},dimmer:function(){return x.is(m.dimmer)},dimmable:function(){return x.is(m.dimmable)},dimmed:function(){return C.hasClass(g.dimmed)},disabled:function(){return C.hasClass(g.disabled)},enabled:function(){return!S.is.disabled()},page:function(){return C.is("body")},pageDimmer:function(){return w.hasClass(g.pageDimmer)}},can:{show:function(){return!w.hasClass(g.disabled)}},set:{opacity:function(e){var e=d.opacity||e,t=w.css("background-color"),n=t.split(","),i=n&&4==n.length;i?(n[3]=e+")",t=n.join(",")):t="rgba(0, 0, 0, "+e+")",S.debug("Setting opacity to",e),w.css("background-color",t)},active:function(){w.addClass(g.active)},dimmable:function(){C.addClass(g.dimmable)},dimmed:function(){C.addClass(g.dimmed)},pageDimmer:function(){w.addClass(g.pageDimmer)},disabled:function(){w.addClass(g.disabled)}},remove:{active:function(){w.removeClass(g.active)},dimmed:function(){C.removeClass(g.dimmed)},disabled:function(){w.removeClass(g.disabled)}},setting:function(t,n){if(S.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,d,t);else{if(n===i)return d[t];d[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,S,t);else{if(n===i)return S[t];S[t]=n}},debug:function(){d.debug&&(d.performance?S.performance.log(arguments):(S.debug=Function.prototype.bind.call(console.info,console,d.name+":"),S.debug.apply(console,arguments)))},verbose:function(){d.verbose&&d.debug&&(d.performance?S.performance.log(arguments):(S.verbose=Function.prototype.bind.call(console.info,console,d.name+":"),S.verbose.apply(console,arguments)))},error:function(){S.error=Function.prototype.bind.call(console.error,console,d.name+":"),S.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;d.performance&&(t=(new Date).getTime(),i=a||t,n=t-i,a=t,r.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:T,"Execution Time":n})),clearTimeout(S.performance.timer),S.performance.timer=setTimeout(S.performance.display,100)},display:function(){var t=d.name+":",n=0;a=!1,clearTimeout(S.performance.timer),e.each(r,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",b&&(t+=" '"+b+"'"),o.length>1&&(t+=" ("+o.length+")"),(console.group!==i||console.table!==i)&&r.length>0&&(console.groupCollapsed(t),console.table?console.table(r):e.each(r,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),r=[]}},invoke:function(t,n,o){var a=k,r,s,c;return n=n||l,o=T||o,"string"==typeof t&&a!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var c=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(a[c])&&n!=r)a=a[c];else{if(a[c]!==i)return s=a[c],!1;if(!e.isPlainObject(a[o])||n==r)return a[o]!==i?(s=a[o],!1):(S.error(p.method,t),!1);a=a[o]}})),e.isFunction(s)?c=s.apply(o,n):s!==i&&(c=s),e.isArray(u)?u.push(c):u!==i?u=[u,c]:c!==i&&(u=c),s}},S.preinitialize(),c?(k===i&&S.initialize(),S.invoke(s)):(k!==i&&k.invoke("destroy"),S.initialize())}),u!==i?u:this},e.fn.dimmer.settings={name:"Dimmer",namespace:"dimmer",debug:!1,verbose:!0,performance:!0,dimmerName:!1,variation:!1,closable:"auto",useCSS:!0,transition:"fade",on:!1,opacity:"auto",duration:{show:500,hide:500},onChange:function(){},onShow:function(){},onHide:function(){},error:{method:"The method you called is not defined."},selector:{dimmable:".dimmable",dimmer:".ui.dimmer",content:".ui.dimmer > .content, .ui.dimmer > .content > .center"},template:{dimmer:function(){return e("<div />").attr("class","ui dimmer")}},className:{active:"active",animating:"animating",dimmable:"dimmable",dimmed:"dimmed",disabled:"disabled",hide:"hide",pageDimmer:"page",show:"show"}}}(n,window,document),function(e,t,n,i){"use strict";e.fn.dropdown=function(o){var a=e(this),r=e(n),s=a.selector||"",c="ontouchstart"in n.documentElement,l=(new Date).getTime(),u=[],d=arguments[0],m="string"==typeof d,f=[].slice.call(arguments,1),g;return a.each(function(){var p=e.isPlainObject(o)?e.extend(!0,{},e.fn.dropdown.settings,o):e.extend({},e.fn.dropdown.settings),v=p.className,h=p.metadata,b=p.namespace,y=p.selector,x=p.error,w="."+b,C="module-"+b,T=e(this),k=T.find(y.text),S=T.find(y.search),A=T.find(y.input),P=T.prev().find(y.text).length>0?T.prev().find(y.text):T.prev(),E=T.children(y.menu),F=E.find(y.item),R=!1,O=!1,D=this,z=T.data(C),q,j,N,I;I={initialize:function(){I.debug("Initializing dropdown",p),I.is.alreadySetup()?I.setup.reference():(I.setup.layout(),I.save.defaults(),I.set.selected(),I.create.id(),c&&I.bind.touchEvents(),I.bind.mouseEvents(),I.bind.keyboardEvents(),I.observeChanges(),I.instantiate())},instantiate:function(){I.verbose("Storing instance of dropdown",I),z=I,T.data(C,I)},destroy:function(){I.verbose("Destroying previous dropdown for",T),I.remove.tabbable(),T.off(w).removeData(C),E.off(w),r.off(q)},observeChanges:function(){"MutationObserver"in t&&(N=new MutationObserver(function(e){I.is.selectMutation(e)?(I.debug("<select> modified, recreating menu"),I.setup.select()):(I.debug("DOM tree modified, updating selector cache"),I.refresh())}),N.observe(D,{childList:!0,subtree:!0}),I.debug("Setting up mutation observer",N))},create:{id:function(){j=(Math.random().toString(16)+"000000000").substr(2,8),q="."+j,I.verbose("Creating unique id for element",j)}},search:function(){var e;e=S.val(),I.verbose("Searching for query",e),I.filter(e),I.is.searchSelection()&&I.can.show()&&I.show()},setup:{layout:function(){T.is("select")&&I.setup.select(),I.is.search()&&!I.is.searchable()&&(S=e("<input />").addClass(v.search).insertBefore(k)),p.allowTab&&I.set.tabbable()},select:function(){var t=I.get.selectValues();I.debug("Dropdown initialized on a select",t),T.is("select")&&(A=T),A.parent(y.dropdown).length>0?(I.debug("UI dropdown already exists. Creating dropdown menu only"),T=A.closest(y.dropdown),E=T.children(y.menu),0===E.length&&(E=e("<div />").addClass(v.menu).appendTo(T)),E.html(p.templates.menu(t))):(I.debug("Creating entire dropdown from select"),T=e("<div />").attr("class",A.attr("class")).addClass(v.selection).addClass(v.dropdown).html(p.templates.dropdown(t)).insertBefore(A),A.removeAttr("class").prependTo(T)),I.refresh()},reference:function(){var e=a.index(T),t,n;I.debug("Dropdown behavior was called on select, replacing with closest dropdown"),T=T.parent(y.dropdown),I.refresh(),t=a.slice(0,e),n=a.slice(e+1),a=t.add(T).add(n),m&&(z=I,I.invoke(d))}},refresh:function(){I.verbose("Refreshing selector cache"),k=T.find(y.text),S=T.find(y.search),A=T.find(y.input),P=T.prev().find(y.text).length>0?T.prev().find(y.text):T.prev(),E=T.children(y.menu),F=E.find(y.item)},toggle:function(){I.verbose("Toggling menu visibility"),I.is.active()?I.hide():I.show()},show:function(t){t=e.isFunction(t)?t:function(){},I.is.searchSelection()&&I.is.allFiltered()||I.can.show()&&!I.is.active()&&(I.debug("Showing dropdown"),I.animate.show(function(){I.can.click()&&I.bind.intent(),I.set.visible(),t.call(D)}),p.onShow.call(D))},hide:function(t){t=e.isFunction(t)?t:function(){},I.is.active()&&(I.debug("Hiding dropdown"),I.animate.hide(function(){I.remove.visible(),t.call(D)}),p.onHide.call(D))},hideOthers:function(){I.verbose("Finding other dropdowns to hide"),a.not(T).has(y.menu+":visible:not(."+v.animating+")").dropdown("hide")},hideSubMenus:function(){var e=E.find(y.menu);e.transition("hide")},bind:{keyboardEvents:function(){I.debug("Binding keyboard events"),T.on("keydown"+w,I.event.keydown),I.is.searchable()&&T.on(I.get.inputEvent(),y.search,I.event.input)},touchEvents:function(){I.debug("Touch device detected binding additional touch events"),I.is.searchSelection()||T.on("touchstart"+w,I.event.test.toggle),E.on("touchstart"+w,y.item,I.event.item.mouseenter)},mouseEvents:function(){I.verbose("Mouse detected binding mouse events"),I.is.searchSelection()?T.on("mousedown"+w,y.menu,I.event.menu.activate).on("mouseup"+w,y.menu,I.event.menu.deactivate).on("click"+w,y.search,I.show).on("focus"+w,y.search,I.event.searchFocus).on("blur"+w,y.search,I.event.searchBlur).on("click"+w,y.text,I.event.searchTextFocus):("click"==p.on?T.on("click"+w,I.event.test.toggle):"hover"==p.on?T.on("mouseenter"+w,I.delay.show).on("mouseleave"+w,I.delay.hide):T.on(p.on+w,I.toggle),T.on("mousedown"+w,I.event.mousedown).on("mouseup"+w,I.event.mouseup).on("focus"+w,I.event.focus).on("blur"+w,I.event.blur)),E.on("mouseenter"+w,y.item,I.event.item.mouseenter).on("mouseleave"+w,y.item,I.event.item.mouseleave).on("click"+w,y.item,I.event.item.click)},intent:function(){I.verbose("Binding hide intent event to document"),c&&r.on("touchstart"+q,I.event.test.touch).on("touchmove"+q,I.event.test.touch),r.on("click"+q,I.event.test.hide)}},unbind:{intent:function(){I.verbose("Removing hide intent event from document"),c&&r.off("touchstart"+q).off("touchmove"+q),r.off("click"+q)}},filter:function(t){var n=e(),i=I.escape.regExp(t),o=new RegExp("^"+i,"igm"),a=new RegExp(i,"ig"),r;I.verbose("Searching for matching values"),F.each(function(){var t=e(this),i=String(I.get.choiceText(t,!1)),r=String(I.get.choiceValue(t,i));i.match(o)||r.match(o)?n=n.add(t):p.fullTextSearch&&(i.match(a)||r.match(a))&&(n=n.add(t))}),I.debug("Setting filter",t),I.remove.filteredItem(),F.not(n).addClass(v.filtered),I.verbose("Selecting first non-filtered element"),I.remove.selectedItem(),F.not("."+v.filtered).eq(0).addClass(v.selected),I.is.allFiltered()&&(I.debug("All items filtered, hiding dropdown",t),I.is.searchSelection()&&I.hide(),p.onNoResults.call(D,t))},focusSearch:function(){I.is.search()&&S.focus()},forceSelection:function(){var e=F.not(v.filtered).filter("."+v.selected).eq(0),t=F.filter("."+v.active).eq(0),n=e.length>0?e:t,i=n.size()>0;i?(I.event.item.click.call(n),I.remove.filteredItem()):I.hide()},event:{mousedown:function(){R=!0},mouseup:function(){R=!1},focus:function(){!R&&I.is.hidden()&&I.show()},blur:function(e){var t=n.activeElement===this;R||t||I.hide()},searchFocus:function(){R=!0,I.show()},searchBlur:function(e){var t=n.activeElement===this;O||t||(p.forceSelection?I.forceSelection():I.hide())},searchTextFocus:function(e){R=!0,S.focus()},input:function(e){I.is.searchSelection()&&I.set.filtered(),clearTimeout(I.timer),I.timer=setTimeout(I.search,p.delay.search)},keydown:function(e){var t=F.not(v.filtered).filter("."+v.selected).eq(0),n=E.children("."+v.active).eq(0),i=t.length>0?t:n,o=i.length>0?i.siblings(":not(."+v.filtered+")").andSelf():E.children(":not(."+v.filtered+")"),a=i.children(y.menu),r=i.closest(y.menu),s=r[0]!==E[0],c=r.is(":visible"),l=e.which,u={enter:13,escape:27,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40},d=a.length>0,m=i.length>0,f=o.size()-1,g,h;if(I.is.visible()){if(l==u.enter&&m&&(d&&!p.allowCategorySelection?(I.verbose("Pressed enter on unselectable category, opening sub menu"),l=u.rightArrow):(I.verbose("Enter key pressed, choosing selected item"),I.event.item.click.call(i,e))),l==u.leftArrow&&s&&(I.verbose("Left key pressed, closing sub-menu"),I.animate.hide(!1,r),i.removeClass(v.selected),r.closest(y.item).addClass(v.selected),e.preventDefault()),l==u.rightArrow&&d&&(I.verbose("Right key pressed, opening sub-menu"),I.animate.show(!1,a),i.removeClass(v.selected),a.find(y.item).eq(0).addClass(v.selected),e.preventDefault()),l==u.upArrow){if(g=m&&c?i.prevAll(y.item+":not(."+v.filtered+")").eq(0):F.eq(0),o.index(g)<0)return void I.verbose("Up key pressed but reached top of current menu");I.verbose("Up key pressed, changing active item"),i.removeClass(v.selected),g.addClass(v.selected),I.set.scrollPosition(g),e.preventDefault()}if(l==u.downArrow){if(g=m&&c?g=i.nextAll(y.item+":not(."+v.filtered+")").eq(0):F.eq(0),0===g.length)return void I.verbose("Down key pressed but reached bottom of current menu");I.verbose("Down key pressed, changing active item"),F.removeClass(v.selected),g.addClass(v.selected),I.set.scrollPosition(g),e.preventDefault()}}else l==u.enter&&(I.verbose("Enter key pressed, showing dropdown"),I.show()),l==u.escape&&(I.verbose("Escape key pressed, closing dropdown"),I.hide()),l==u.downArrow&&(I.verbose("Down key pressed, showing dropdown"),I.show())},test:{toggle:function(e){I.determine.eventInMenu(e,I.toggle)&&e.preventDefault()},touch:function(e){I.determine.eventInMenu(e,function(){"touchstart"==e.type?I.timer=setTimeout(I.hide,p.delay.touch):"touchmove"==e.type&&clearTimeout(I.timer)}),e.stopPropagation()},hide:function(e){I.determine.eventInModule(e,I.hide)}},menu:{activate:function(){O=!0},deactivate:function(){O=!1}},item:{mouseenter:function(t){var n=e(this).children(y.menu),i=e(this).siblings(y.item).children(y.menu);n.length>0&&(clearTimeout(I.itemTimer),I.itemTimer=setTimeout(function(){I.verbose("Showing sub-menu",n),e.each(i,function(){I.animate.hide(!1,e(this))}),I.animate.show(!1,n)},p.delay.show),t.preventDefault())},mouseleave:function(t){var n=e(this).children(y.menu);n.length>0&&(clearTimeout(I.itemTimer),I.itemTimer=setTimeout(function(){I.verbose("Hiding sub-menu",n),I.animate.hide(!1,n)},p.delay.hide))},click:function(t){var n=e(this),i=e(t?t.target:""),o=n.find(y.menu),a=I.get.choiceText(n),r=I.get.choiceValue(n,a),s=function(){I.remove.searchTerm(),I.determine.selectAction(a,r)},c=o.length>0,l=o.find(i).length>0;l||c&&!p.allowCategorySelection||s()}},resetStyle:function(){e(this).removeAttr("style")}},determine:{selectAction:function(t,n){I.verbose("Determining action",p.action),e.isFunction(I.action[p.action])?(I.verbose("Triggering preset action",p.action,t,n),I.action[p.action](t,n)):e.isFunction(p.action)?(I.verbose("Triggering user action",p.action,t,n),p.action(t,n)):I.error(x.action,p.action)},eventInModule:function(t,n){return n=e.isFunction(n)?n:function(){},0===e(t.target).closest(T).length?(I.verbose("Triggering event",n),n(),!0):(I.verbose("Event occurred in dropdown, canceling callback"),!1)},eventInMenu:function(t,n){return n=e.isFunction(n)?n:function(){},0===e(t.target).closest(E).length?(I.verbose("Triggering event",n),n(),!0):(I.verbose("Event occurred in dropdown menu, canceling callback"),!1)}},action:{nothing:function(){},activate:function(e,t){t=t!==i?t:e,I.set.selected(t),I.hide(function(){I.remove.filteredItem()})},select:function(e,t){t=t!==i?t:e,I.set.selected(t),I.hide(function(){I.remove.filteredItem()})},combo:function(e,t){t=t!==i?t:e,I.set.selected(t),I.hide(function(){I.remove.filteredItem()})},hide:function(){I.hide(function(){I.remove.filteredItem()})}},get:{id:function(){return j},text:function(){return k.text()},value:function(){return A.length>0?A.val():T.data(h.value)},choiceText:function(e,t){return t=t!==i?t:p.preserveHTML,e!==i?(e.find(y.menu).length>0&&(I.verbose("Retreiving text of element with sub-menu"),e=e.clone(),e.find(y.menu).remove(),e.find(y.menuIcon).remove()),e.data(h.text)!==i?e.data(h.text):t?e.html().trim():e.text().trim()):void 0},choiceValue:function(e,t){return t=t||I.get.choiceText(e),e.data(h.value)!==i?e.data(h.value):"string"==typeof t?t.toLowerCase().trim():t.trim()},inputEvent:function(){var e=S[0];return e?e.oninput!==i?"input":e.onpropertychange!==i?"propertychange":"keyup":!1},selectValues:function(){var t={};return t.values=p.sortSelect?{}:[],T.find("option").each(function(){var n=e(this).html(),o=e(this).attr("value")!==i?e(this).attr("value"):n;""===o?t.placeholder=n:p.sortSelect?t.values[o]={name:n,value:o}:t.values.push({name:n,value:o})}),p.sortSelect?I.debug("Retrieved and sorted values from select",t):I.debug("Retreived values from select",t),t},activeItem:function(){return F.filter("."+v.active)},item:function(t,n){var o=!1;return t=t!==i?t:I.get.value()!==i?I.get.value():I.get.text(),n=""===t||0===t?!0:n||!1,t!==i?F.each(function(){var i=e(this),a=I.get.choiceText(i),r=I.get.choiceValue(i,a);if(n){if(I.verbose("Ambiguous dropdown value using strict type check",i,t),r===t)return o=e(this),!0;if(!o&&a===t)return o=e(this),!0}else{if(r==t)return I.verbose("Found select item by value",r,t),o=e(this),!0;if(!o&&a==t)return I.verbose("Found select item by text",a,t),o=e(this),!0}}):t=I.get.text(),o||!1}},restore:{defaults:function(){I.restore.defaultText(),I.restore.defaultValue()},defaultText:function(){var e=T.data(h.defaultText);I.debug("Restoring default text",e),I.set.text(e),k.addClass(v.placeholder)},defaultValue:function(){var e=T.data(h.defaultValue);e!==i&&(I.debug("Restoring default value",e),e.length?I.set.selected(e):(I.remove.activeItem(),I.remove.selectedItem()))}},save:{defaults:function(){I.save.defaultText(),I.save.placeholderText(),I.save.defaultValue()},defaultValue:function(){T.data(h.defaultValue,I.get.value())},defaultText:function(){T.data(h.defaultText,k.text())},placeholderText:function(){k.hasClass(v.placeholder)&&T.data(h.placeholderText,k.text())}},clear:function(){var e=T.data(h.placeholderText);I.set.text(e),I.set.value(""),I.remove.activeItem(),I.remove.selectedItem(),k.addClass(v.placeholder)},set:{filtered:function(){var e=S.val(),t="string"==typeof e&&e.length>0;t?k.addClass(v.filtered):k.removeClass(v.filtered)},tabbable:function(){I.is.searchable()?(I.debug("Searchable dropdown initialized"),S.val("").attr("tabindex",0),E.attr("tabindex","-1")):(I.debug("Simple selection dropdown initialized"),T.attr("tabindex")||(T.attr("tabindex",0),E.attr("tabindex","-1")))},scrollPosition:function(e,t){var n=5,o,a,r,s,c,l,u,d,m;e=e||I.get.activeItem(),o=e&&e.length>0,t=t!==i?t:!1,e&&o&&(E.hasClass(v.visible)||E.addClass(v.loading),u=E.height(),r=e.height(),l=E.scrollTop(),c=E.offset().top,s=e.offset().top,a=l-c+s,m=a+n>l+u,d=l>a-n,I.debug("Scrolling to active item",a),(d||m||t)&&E.scrollTop(a).removeClass(v.loading))},text:function(e){"combo"==p.action?(I.debug("Changing combo button text",e,P),p.preserveHTML?P.html(e):P.text(e)):"select"!==p.action&&(I.debug("Changing text",e,k),k.removeClass(v.filtered).removeClass(v.placeholder),p.preserveHTML?k.html(e):k.text(e))},value:function(e){I.debug("Adding selected value to hidden input",e,A),A.length>0?A.val(e).trigger("change"):T.data(h.value,e)},active:function(){T.addClass(v.active)},visible:function(){T.addClass(v.visible)},selected:function(e){var t=I.get.item(e),n,i;t&&!t.hasClass(v.active)&&(I.debug("Setting selected menu item to",t),I.remove.activeItem(),I.remove.selectedItem(),t.addClass(v.active).addClass(v.selected),n=I.get.choiceText(t),i=I.get.choiceValue(t,n),I.set.text(n),I.set.value(i),p.onChange.call(D,e,n,t))}},remove:{active:function(){T.removeClass(v.active)},visible:function(){T.removeClass(v.visible)},activeItem:function(){F.removeClass(v.active)},filteredItem:function(){F.removeClass(v.filtered)},searchTerm:function(){S.val("")},selectedItem:function(){F.removeClass(v.selected)},tabbable:function(){I.is.searchable()?(I.debug("Searchable dropdown initialized"),S.attr("tabindex","-1"),E.attr("tabindex","-1")):(I.debug("Simple selection dropdown initialized"),T.attr("tabindex","-1"),E.attr("tabindex","-1"))}},is:{active:function(){return T.hasClass(v.active)},alreadySetup:function(){return T.is("select")&&T.parent(y.dropdown).length>0},animating:function(e){return e?e.is(":animated")||e.transition&&e.transition("is animating"):E.is(":animated")||E.transition&&E.transition("is animating")},allFiltered:function(){return F.filter("."+v.filtered).length===F.length},hidden:function(e){return e?e.is(":hidden"):E.is(":hidden")},selectMutation:function(t){var n=!1;return e.each(t,function(t,i){return i.target&&e(i.target).is("select")?(n=!0,!0):void 0}),n},search:function(){return T.hasClass(v.search)},searchable:function(){return S.length>0},searchSelection:function(){return I.is.searchable()&&S.parent().is(T)},selection:function(){return T.hasClass(v.selection)},upward:function(){return T.hasClass(v.upward)},visible:function(e){return e?e.is(":visible"):E.is(":visible")}},can:{click:function(){return c||"click"==p.on},show:function(){return!T.hasClass(v.disabled)}},animate:{show:function(t,n){var o=n||E,a=n?function(){}:function(){I.hideSubMenus(),I.hideOthers(),I.set.active()};t=e.isFunction(t)?t:function(){},I.set.scrollPosition(I.get.activeItem(),!0),I.verbose("Doing menu show animation",o),(I.is.hidden(o)||I.is.animating(o))&&("auto"==p.transition&&(p.transition=I.is.upward()?"slide up":"slide down",I.verbose("Automatically determining animation based on animation direction",p.transition)),"none"==p.transition?t.call(D):e.fn.transition!==i&&T.transition("is supported")?o.transition({animation:p.transition+" in",debug:p.debug,verbose:p.verbose,duration:p.duration,queue:!0,onStart:a,onComplete:function(){t.call(D)}}):"slide down"==p.transition?(a(),o.hide().clearQueue().children().clearQueue().css("opacity",0).delay(50).animate({opacity:1},p.duration,"easeOutQuad",I.event.resetStyle).end().slideDown(100,"easeOutQuad",function(){I.event.resetStyle.call(this),t.call(D)})):"fade"==p.transition?(a(),o.hide().clearQueue().fadeIn(p.duration,function(){I.event.resetStyle.call(this),t.call(D)})):I.error(x.transition,p.transition))},hide:function(t,n){var o=n||E,a=n?.9*p.duration:p.duration,r=n?function(){}:function(){I.can.click()&&I.unbind.intent(),I.focusSearch(),I.remove.active()};t=e.isFunction(t)?t:function(){},(I.is.visible(o)||I.is.animating(o))&&(I.verbose("Doing menu hide animation",o),"auto"==p.transition&&(p.transition=I.is.upward()?"slide up":"slide down"),A.trigger("blur"),"none"==p.transition?t.call(D):e.fn.transition!==i&&T.transition("is supported")?o.transition({animation:p.transition+" out",duration:p.duration,debug:p.debug,verbose:p.verbose,queue:!0,onStart:r,onComplete:function(){t.call(D)}}):"slide down"==p.transition?(r(),o.show().clearQueue().children().clearQueue().css("opacity",1).animate({opacity:0},100,"easeOutQuad",I.event.resetStyle).end().delay(50).slideUp(100,"easeOutQuad",function(){I.event.resetStyle.call(this),t.call(D)})):"fade"==p.transition?(r(),o.show().clearQueue().fadeOut(150,function(){I.event.resetStyle.call(this),t.call(D)})):I.error(x.transition))}},delay:{show:function(){I.verbose("Delaying show event to ensure user intent"),clearTimeout(I.timer),I.timer=setTimeout(I.show,p.delay.show)},hide:function(){I.verbose("Delaying hide event to ensure user intent"),clearTimeout(I.timer),I.timer=setTimeout(I.hide,p.delay.hide)}},escape:{regExp:function(e){return e=String(e),e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}},setting:function(t,n){if(I.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,p,t);else{if(n===i)return p[t];p[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,I,t);else{if(n===i)return I[t];I[t]=n}},debug:function(){p.debug&&(p.performance?I.performance.log(arguments):(I.debug=Function.prototype.bind.call(console.info,console,p.name+":"),I.debug.apply(console,arguments)))},verbose:function(){p.verbose&&p.debug&&(p.performance?I.performance.log(arguments):(I.verbose=Function.prototype.bind.call(console.info,console,p.name+":"),I.verbose.apply(console,arguments)))},error:function(){I.error=Function.prototype.bind.call(console.error,console,p.name+":"),I.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;p.performance&&(t=(new Date).getTime(),i=l||t,n=t-i,l=t,u.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:D,"Execution Time":n})),clearTimeout(I.performance.timer),I.performance.timer=setTimeout(I.performance.display,500)},display:function(){var t=p.name+":",n=0;l=!1,clearTimeout(I.performance.timer),e.each(u,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",s&&(t+=" '"+s+"'"),(console.group!==i||console.table!==i)&&u.length>0&&(console.groupCollapsed(t),console.table?console.table(u):e.each(u,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),u=[]}},invoke:function(t,n,o){var a=z,r,s,c;return n=n||f,o=D||o,"string"==typeof t&&a!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var c=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(a[c])&&n!=r)a=a[c];else{if(a[c]!==i)return s=a[c],!1;if(!e.isPlainObject(a[o])||n==r)return a[o]!==i?(s=a[o],!1):(I.error(x.method,t),!1);a=a[o]}})),e.isFunction(s)?c=s.apply(o,n):s!==i&&(c=s),e.isArray(g)?g.push(c):g!==i?g=[g,c]:c!==i&&(g=c),s}},m?(z===i&&I.initialize(),I.invoke(d)):(z!==i&&z.invoke("destroy"),I.initialize())}),g!==i?g:a},e.fn.dropdown.settings={debug:!1,verbose:!0,performance:!0,on:"click",action:"activate",allowTab:!0,fullTextSearch:!1,preserveHTML:!0,sortSelect:!1,allowCategorySelection:!1,delay:{hide:300,show:200,search:50,touch:50},forceSelection:!0,transition:"auto",duration:250,onNoResults:function(e){},onChange:function(e,t){},onShow:function(){},onHide:function(){},name:"Dropdown",namespace:"dropdown",error:{action:"You called a dropdown action that was not defined",alreadySetup:"Once a select has been initialized behaviors must be called on the created ui dropdown",method:"The method you called is not defined.",transition:"The requested transition was not found"},metadata:{defaultText:"defaultText",defaultValue:"defaultValue",placeholderText:"placeholderText",text:"text",value:"value"},selector:{dropdown:".ui.dropdown",input:'> input[type="hidden"], > select',item:".item",menu:".menu",menuIcon:".dropdown.icon",search:"> input.search, .menu > .search > input, .menu > input.search",text:"> .text:not(.icon)"},className:{active:"active",animating:"animating",disabled:"disabled",dropdown:"ui dropdown",filtered:"filtered",loading:"loading",menu:"menu",placeholder:"default",search:"search",selected:"selected",selection:"selection",upward:"upward",visible:"visible"}},e.fn.dropdown.settings.templates={menu:function(t){var n=t.placeholder||!1,i=t.values||{},o="";return e.each(t.values,function(e,t){o+='<div class="item" data-value="'+t.value+'">'+t.name+"</div>"}),o},dropdown:function(t){var n=t.placeholder||!1,i=t.values||{},o="";return o+='<i class="dropdown icon"></i>',o+=t.placeholder?'<div class="default text">'+n+"</div>":'<div class="text"></div>',o+='<div class="menu">',e.each(t.values,function(e,t){o+='<div class="item" data-value="'+t.value+'">'+t.name+"</div>"}),o+="</div>"}},e.extend(e.easing,{easeOutQuad:function(e,t,n,i,o){return-i*(t/=o)*(t-2)+n}})}(n,window,document),function(e,t,n,i){"use strict";e.fn.modal=function(o){var a=e(this),r=e(t),s=e(n),c=e("body"),l=a.selector||"",u=(new Date).getTime(),d=[],m=arguments[0],f="string"==typeof m,g=[].slice.call(arguments,1),p=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)},v;return a.each(function(){var a=e.isPlainObject(o)?e.extend(!0,{},e.fn.modal.settings,o):e.extend({},e.fn.modal.settings),h=a.selector,b=a.className,y=a.namespace,x=a.error,w="."+y,C="module-"+y,T=e(this),k=e(a.context),S=T.find(h.close),A,P,E,F,R,O=this,D=T.data(C),z,q,j,N;N={initialize:function(){N.verbose("Initializing dimmer",k),N.create.id(),N.create.dimmer(),N.refreshModals(),N.verbose("Attaching close events",S),N.bind.events(),N.observeChanges(),N.instantiate()},instantiate:function(){N.verbose("Storing instance of modal"),D=N,T.data(C,D)},create:{dimmer:function(){var t={debug:a.debug,dimmerName:"modals",duration:{show:a.duration,hide:a.duration}},n=e.extend(!0,t,a.dimmerSettings);return e.fn.dimmer===i?void N.error(x.dimmer):(N.debug("Creating dimmer with settings",n),F=k.dimmer(n),a.detachable&&(N.verbose("Modal is detachable, moving content into dimmer"),F.dimmer("add content",T)),void(R=F.dimmer("get dimmer")))},id:function(){q=(Math.random().toString(16)+"000000000").substr(2,8),z="."+q,N.verbose("Creating unique id for element",q)}},destroy:function(){N.verbose("Destroying previous modal"),T.removeData(C).off(w),r.off(z),S.off(w),k.dimmer("destroy")},observeChanges:function(){"MutationObserver"in t&&(j=new MutationObserver(function(e){N.debug("DOM tree modified, refreshing"),N.refresh()}),j.observe(O,{childList:!0,subtree:!0}),N.debug("Setting up mutation observer",j))},refresh:function(){N.remove.scrolling(),N.cacheSizes(),N.set.screenHeight(),N.set.type(),N.set.position()},refreshModals:function(){P=T.siblings(h.modal),A=P.add(T)},attachEvents:function(t,n){var i=e(t);n=e.isFunction(N[n])?N[n]:N.toggle,i.length>0?(N.debug("Attaching modal events to element",t,n),i.off(w).on("click"+w,n)):N.error(x.notFound,t)},bind:{events:function(){S.on("click"+w,N.event.close),r.on("resize"+z,N.event.resize)}},get:{id:function(){return(Math.random().toString(16)+"000000000").substr(2,8)}},event:{close:function(){N.verbose("Closing element pressed"),e(this).is(h.approve)?a.onApprove.call(O)!==!1?N.hide():N.verbose("Approve callback returned false cancelling hide"):e(this).is(h.deny)?a.onDeny.call(O)!==!1?N.hide():N.verbose("Deny callback returned false cancelling hide"):N.hide()},click:function(t){0===e(t.target).closest(T).length&&(N.debug("Dimmer clicked, hiding all modals"),N.is.active()&&(N.remove.clickaway(),a.allowMultiple?N.hide():N.hideAll()))},debounce:function(e,t){clearTimeout(N.timer),N.timer=setTimeout(e,t)},keyboard:function(e){var t=e.which,n=27;t==n&&(a.closable?(N.debug("Escape key pressed hiding modal"),
N.hide()):N.debug("Escape key pressed, but closable is set to false"),e.preventDefault())},resize:function(){F.dimmer("is active")&&p(N.refresh)}},toggle:function(){N.is.active()||N.is.animating()?N.hide():N.show()},show:function(t){t=e.isFunction(t)?t:function(){},N.refreshModals(),N.showModal(t)},hide:function(t){t=e.isFunction(t)?t:function(){},N.refreshModals(),N.hideModal(t)},showModal:function(t){t=e.isFunction(t)?t:function(){},N.is.animating()||!N.is.active()?(N.showDimmer(),N.cacheSizes(),N.set.position(),N.set.screenHeight(),N.set.type(),N.set.clickaway(),!a.allowMultiple&&P.filter("."+b.active).length>0?(N.debug("Other modals visible, queueing show animation"),N.hideOthers(N.showModal)):(a.onShow.call(O),a.transition&&e.fn.transition!==i&&T.transition("is supported")?(N.debug("Showing modal with css animations"),T.transition({debug:a.debug,animation:a.transition+" in",queue:a.queue,duration:a.duration,useFailSafe:!0,onComplete:function(){a.onVisible.apply(O),N.add.keyboardShortcuts(),N.save.focus(),N.set.active(),N.set.autofocus(),t()}})):(N.debug("Showing modal with javascript"),T.fadeIn(a.duration,a.easing,function(){a.onVisible.apply(O),N.add.keyboardShortcuts(),N.save.focus(),N.set.active(),t()})))):N.debug("Modal is already visible")},hideModal:function(t,n){t=e.isFunction(t)?t:function(){},N.debug("Hiding modal"),a.onHide.call(O),(N.is.animating()||N.is.active())&&(a.transition&&e.fn.transition!==i&&T.transition("is supported")?(N.remove.active(),T.transition({debug:a.debug,animation:a.transition+" out",queue:a.queue,duration:a.duration,useFailSafe:!0,onStart:function(){N.othersActive()||n||N.hideDimmer(),N.remove.keyboardShortcuts()},onComplete:function(){a.onHidden.call(O),N.restore.focus(),t()}})):(N.remove.active(),N.othersActive()||N.hideDimmer(),N.remove.keyboardShortcuts(),T.fadeOut(a.duration,a.easing,function(){a.onHidden.call(O),N.restore.focus(),t()})))},showDimmer:function(){F.dimmer("is animating")||!F.dimmer("is active")?(N.debug("Showing dimmer"),F.dimmer("show")):N.debug("Dimmer already visible")},hideDimmer:function(){return F.dimmer("is animating")||F.dimmer("is active")?void F.dimmer("hide",function(){a.transition&&e.fn.transition!==i&&T.transition("is supported")&&(N.remove.clickaway(),N.remove.screenHeight())}):void N.debug("Dimmer is not visible cannot hide")},hideAll:function(t){var n=A.filter(":visible");t=e.isFunction(t)?t:function(){},n.length>0&&(N.debug("Hiding all visible modals"),N.hideDimmer(),n.modal("hide modal",t))},hideOthers:function(t){var n=P.filter(":visible");t=e.isFunction(t)?t:function(){},n.length>0&&(N.debug("Hiding other modals",P),n.modal("hide modal",t,!0))},othersActive:function(){return P.filter("."+b.active).length>0},add:{keyboardShortcuts:function(){N.verbose("Adding keyboard shortcuts"),s.on("keyup"+w,N.event.keyboard)}},save:{focus:function(){E=e(n.activeElement).blur()}},restore:{focus:function(){E&&E.length>0&&E.focus()}},remove:{active:function(){T.removeClass(b.active)},clickaway:function(){a.closable&&R.off("click"+z)},screenHeight:function(){N.cache.height>N.cache.pageHeight&&(N.debug("Removing page height"),c.css("height",""))},keyboardShortcuts:function(){N.verbose("Removing keyboard shortcuts"),s.off("keyup"+w)},scrolling:function(){F.removeClass(b.scrolling),T.removeClass(b.scrolling)}},cacheSizes:function(){var o=T.outerHeight();(N.cache===i||0!==o)&&(N.cache={pageHeight:e(n).outerHeight(),height:o+a.offset,contextHeight:"body"==a.context?e(t).height():F.height()}),N.debug("Caching modal and container sizes",N.cache)},can:{fit:function(){return N.cache.height+2*a.padding<N.cache.contextHeight}},is:{active:function(){return T.hasClass(b.active)},animating:function(){return T.transition("is supported")?T.transition("is animating"):T.is(":visible")},scrolling:function(){return F.hasClass(b.scrolling)},modernBrowser:function(){return!(t.ActiveXObject||"ActiveXObject"in t)}},set:{autofocus:function(){if(a.autofocus){var e=T.find(":input:visible"),t=e.filter("[autofocus]"),n=t.length>0?t:e;n.first().focus()}},clickaway:function(){a.closable&&R.on("click"+z,N.event.click)},screenHeight:function(){N.can.fit()?c.css("height",""):(N.debug("Modal is taller than page content, resizing page height"),c.css("height",N.cache.height+a.padding/2))},active:function(){T.addClass(b.active)},scrolling:function(){F.addClass(b.scrolling),T.addClass(b.scrolling)},type:function(){N.can.fit()?(N.verbose("Modal fits on screen"),N.othersActive||N.remove.scrolling()):(N.verbose("Modal cannot fit on screen setting to scrolling"),N.set.scrolling())},position:function(){N.verbose("Centering modal on page",N.cache),T.css(N.can.fit()?{top:"",marginTop:-(N.cache.height/2)}:{marginTop:"",top:s.scrollTop()})}},setting:function(t,n){if(N.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,a,t);else{if(n===i)return a[t];a[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,N,t);else{if(n===i)return N[t];N[t]=n}},debug:function(){a.debug&&(a.performance?N.performance.log(arguments):(N.debug=Function.prototype.bind.call(console.info,console,a.name+":"),N.debug.apply(console,arguments)))},verbose:function(){a.verbose&&a.debug&&(a.performance?N.performance.log(arguments):(N.verbose=Function.prototype.bind.call(console.info,console,a.name+":"),N.verbose.apply(console,arguments)))},error:function(){N.error=Function.prototype.bind.call(console.error,console,a.name+":"),N.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;a.performance&&(t=(new Date).getTime(),i=u||t,n=t-i,u=t,d.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:O,"Execution Time":n})),clearTimeout(N.performance.timer),N.performance.timer=setTimeout(N.performance.display,100)},display:function(){var t=a.name+":",n=0;u=!1,clearTimeout(N.performance.timer),e.each(d,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",l&&(t+=" '"+l+"'"),(console.group!==i||console.table!==i)&&d.length>0&&(console.groupCollapsed(t),console.table?console.table(d):e.each(d,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),d=[]}},invoke:function(t,n,o){var a=D,r,s,c;return n=n||g,o=O||o,"string"==typeof t&&a!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var c=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(a[c])&&n!=r)a=a[c];else{if(a[c]!==i)return s=a[c],!1;if(!e.isPlainObject(a[o])||n==r)return a[o]!==i?(s=a[o],!1):!1;a=a[o]}})),e.isFunction(s)?c=s.apply(o,n):s!==i&&(c=s),e.isArray(v)?v.push(c):v!==i?v=[v,c]:c!==i&&(v=c),s}},f?(D===i&&N.initialize(),N.invoke(m)):(D!==i&&D.invoke("destroy"),N.initialize())}),v!==i?v:this},e.fn.modal.settings={name:"Modal",namespace:"modal",debug:!1,verbose:!0,performance:!0,allowMultiple:!1,detachable:!0,closable:!0,autofocus:!0,dimmerSettings:{closable:!1,useCSS:!0},context:"body",queue:!1,duration:500,easing:"easeOutExpo",offset:0,transition:"scale",padding:50,onShow:function(){},onHide:function(){},onVisible:function(){},onHidden:function(){},onApprove:function(){return!0},onDeny:function(){return!0},selector:{close:".close, .actions .button",approve:".actions .positive, .actions .approve, .actions .ok",deny:".actions .negative, .actions .deny, .actions .cancel",modal:".ui.modal"},error:{dimmer:"UI Dimmer, a required component is not included in this page",method:"The method you called is not defined.",notFound:"The element you specified could not be found"},className:{active:"active",animating:"animating",scrolling:"scrolling"}}}(n,window,document),function(e,t,n,i){"use strict";e.fn.nag=function(n){var o=e(this),a=o.selector||"",r=(new Date).getTime(),s=[],c=arguments[0],l="string"==typeof c,u=[].slice.call(arguments,1),d;return o.each(function(){var o=e.isPlainObject(n)?e.extend(!0,{},e.fn.nag.settings,n):e.extend({},e.fn.nag.settings),m=o.className,f=o.selector,g=o.error,p=o.namespace,v="."+p,h=p+"-module",b=e(this),y=b.find(f.close),x=e(o.context?o.context:"body"),w=this,C=b.data(h),T,k,S,A,P,E,F,R,O,D=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)};O={initialize:function(){O.verbose("Initializing element"),b.data(h,O),y.on("click"+v,O.dismiss),o.detachable&&b.parent()[0]!==x[0]&&b.detach().prependTo(x),o.displayTime>0&&setTimeout(O.hide,o.displayTime),O.show()},destroy:function(){O.verbose("Destroying instance"),b.removeData(h).off(v)},show:function(){O.should.show()&&!b.is(":visible")&&(O.debug("Showing nag",o.animation.show),"fade"==o.animation.show?b.fadeIn(o.duration,o.easing):b.slideDown(o.duration,o.easing))},hide:function(){O.debug("Showing nag",o.animation.hide),"fade"==o.animation.show?b.fadeIn(o.duration,o.easing):b.slideUp(o.duration,o.easing)},onHide:function(){O.debug("Removing nag",o.animation.hide),b.remove(),o.onHide&&o.onHide()},dismiss:function(e){o.storageMethod&&O.storage.set(o.key,o.value),O.hide(),e.stopImmediatePropagation(),e.preventDefault()},should:{show:function(){return o.persist?(O.debug("Persistent nag is set, can show nag"),!0):O.storage.get(o.key)!=o.value.toString()?(O.debug("Stored value is not set, can show nag",O.storage.get(o.key)),!0):(O.debug("Stored value is set, cannot show nag",O.storage.get(o.key)),!1)}},get:{storageOptions:function(){var e={};return o.expires&&(e.expires=o.expires),o.domain&&(e.domain=o.domain),o.path&&(e.path=o.path),e}},clear:function(){O.storage.remove(o.key)},storage:{set:function(n,a){var r=O.get.storageOptions();if("localstorage"==o.storageMethod&&t.localStorage!==i)t.localStorage.setItem(n,a),O.debug("Value stored using local storage",n,a);else{if(e.cookie===i)return void O.error(g.noCookieStorage);e.cookie(n,a,r),O.debug("Value stored using cookie",n,a,r)}},get:function(n,a){var r;return"localstorage"==o.storageMethod&&t.localStorage!==i?r=t.localStorage.getItem(n):e.cookie!==i?r=e.cookie(n):O.error(g.noCookieStorage),("undefined"==r||"null"==r||r===i||null===r)&&(r=i),r},remove:function(n){var a=O.get.storageOptions();"local"==o.storageMethod&&t.store!==i?t.localStorage.removeItem(n):e.cookie!==i?e.removeCookie(n,a):O.error(g.noStorage)}},setting:function(t,n){if(O.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,o,t);else{if(n===i)return o[t];o[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,O,t);else{if(n===i)return O[t];O[t]=n}},debug:function(){o.debug&&(o.performance?O.performance.log(arguments):(O.debug=Function.prototype.bind.call(console.info,console,o.name+":"),O.debug.apply(console,arguments)))},verbose:function(){o.verbose&&o.debug&&(o.performance?O.performance.log(arguments):(O.verbose=Function.prototype.bind.call(console.info,console,o.name+":"),O.verbose.apply(console,arguments)))},error:function(){O.error=Function.prototype.bind.call(console.error,console,o.name+":"),O.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;o.performance&&(t=(new Date).getTime(),i=r||t,n=t-i,r=t,s.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:w,"Execution Time":n})),clearTimeout(O.performance.timer),O.performance.timer=setTimeout(O.performance.display,100)},display:function(){var t=o.name+":",n=0;r=!1,clearTimeout(O.performance.timer),e.each(s,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",a&&(t+=" '"+a+"'"),(console.group!==i||console.table!==i)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(t,n,o){var a=C,r,s,c;return n=n||u,o=w||o,"string"==typeof t&&a!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var c=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(a[c])&&n!=r)a=a[c];else{if(a[c]!==i)return s=a[c],!1;if(!e.isPlainObject(a[o])||n==r)return a[o]!==i?(s=a[o],!1):(O.error(g.method,t),!1);a=a[o]}})),e.isFunction(s)?c=s.apply(o,n):s!==i&&(c=s),e.isArray(d)?d.push(c):d!==i?d=[d,c]:c!==i&&(d=c),s}},l?(C===i&&O.initialize(),O.invoke(c)):(C!==i&&C.invoke("destroy"),O.initialize())}),d!==i?d:this},e.fn.nag.settings={name:"Nag",debug:!1,verbose:!0,performance:!0,namespace:"Nag",persist:!1,displayTime:0,animation:{show:"slide",hide:"slide"},context:!1,detachable:!1,expires:30,domain:!1,path:"/",storageMethod:"cookie",key:"nag",value:"dismiss",error:{noStorage:"Neither $.cookie or store is defined. A storage solution is required for storing state",method:"The method you called is not defined."},className:{bottom:"bottom",fixed:"fixed"},selector:{close:".close.icon"},speed:500,easing:"easeOutQuad",onHide:function(){}}}(n,window,document),function(e,t,n,i){"use strict";e.fn.popup=function(o){var a=e(this),r=e(n),s=a.selector||"",c="ontouchstart"in n.documentElement,l=(new Date).getTime(),u=[],d=arguments[0],m="string"==typeof d,f=[].slice.call(arguments,1),g;return a.each(function(){var n=e.isPlainObject(o)?e.extend(!0,{},e.fn.popup.settings,o):e.extend({},e.fn.popup.settings),a=n.selector,p=n.className,v=n.error,h=n.metadata,b=n.namespace,y="."+n.namespace,x="module-"+b,w=e(this),C=e(n.context),T=n.target?e(n.target):w,k=e(t),S=e("body"),A,P,E=0,F=!1,R=this,O=w.data(x),D,z,q;q={initialize:function(){q.debug("Initializing",w),q.createID(),q.bind.events(),!q.exists()&&n.preserve&&q.create(),q.instantiate()},instantiate:function(){q.verbose("Storing instance",q),O=q,w.data(x,O)},refresh:function(){n.popup?A=e(n.popup).eq(0):n.inline&&(A=T.next(a.popup).eq(0)),n.popup?(A.addClass(p.loading),P=q.get.offsetParent(),A.removeClass(p.loading),n.movePopup&&q.has.popup()&&q.get.offsetParent(A)[0]!==P[0]&&(q.debug("Moving popup to the same offset parent as activating element"),A.detach().appendTo(P))):P=n.inline?q.get.offsetParent(T):q.has.popup()?q.get.offsetParent(A):S,P.is("html")&&(q.debug("Setting page as offset parent"),P=S)},reposition:function(){q.refresh(),q.set.position()},destroy:function(){q.debug("Destroying previous module"),A&&!n.preserve&&q.removePopup(),clearTimeout(q.hideTimer),clearTimeout(q.showTimer),k.off(D),w.off(y).removeData(x)},event:{start:function(t){var i=e.isPlainObject(n.delay)?n.delay.show:n.delay;clearTimeout(q.hideTimer),q.showTimer=setTimeout(function(){!q.is.hidden()||q.is.active()&&q.is.dropdown()||q.show()},i)},end:function(){var t=e.isPlainObject(n.delay)?n.delay.hide:n.delay;clearTimeout(q.showTimer),q.hideTimer=setTimeout(function(){q.is.visible()&&q.hide()},t)},resize:function(){q.is.visible()&&q.set.position()}},create:function(){var t=w.data(h.html)||n.html,i=w.data(h.variation)||n.variation,o=w.data(h.title)||n.title,r=w.data(h.content)||w.attr("title")||n.content;t||r||o?(q.debug("Creating pop-up html"),t||(t=n.templates.popup({title:o,content:r})),A=e("<div/>").addClass(p.popup).addClass(i).data(h.activator,w).html(t),i&&A.addClass(i),n.inline?(q.verbose("Inserting popup element inline",A),A.insertAfter(w)):(q.verbose("Appending popup element to body",A),A.appendTo(C)),q.refresh(),n.hoverable&&q.bind.popup(),n.onCreate.call(A,R)):0!==T.next(a.popup).length?(q.verbose("Pre-existing popup found"),n.inline=!0,n.popup=T.next(a.popup).data(h.activator,w),q.refresh(),n.hoverable&&q.bind.popup()):n.popup?(n.popup.data(h.activator,w),q.verbose("Used popup specified in settings"),q.refresh(),n.hoverable&&q.bind.popup()):q.debug("No content specified skipping display",R)},createID:function(){z=(Math.random().toString(16)+"000000000").substr(2,8),D="."+z,q.verbose("Creating unique id for element",z)},toggle:function(){q.debug("Toggling pop-up"),q.is.hidden()?(q.debug("Popup is hidden, showing pop-up"),q.unbind.close(),q.show()):(q.debug("Popup is visible, hiding pop-up"),q.hide())},show:function(t){t=e.isFunction(t)?t:function(){},q.debug("Showing pop-up",n.transition),q.exists()?n.preserve||n.popup||q.refresh():q.create(),A&&q.set.position()&&(q.save.conditions(),n.exclusive&&q.hideAll(),q.animate.show(t))},hide:function(t){t=e.isFunction(t)?t:function(){},q.remove.visible(),q.unbind.close(),q.is.visible()&&(q.restore.conditions(),q.animate.hide(t))},hideAll:function(){e(a.popup).filter("."+p.visible).each(function(){e(this).data(h.activator).popup("hide")})},hideGracefully:function(t){t&&0===e(t.target).closest(a.popup).length?(q.debug("Click occurred outside popup hiding popup"),q.hide()):q.debug("Click was inside popup, keeping popup open")},exists:function(){return A?n.inline||n.popup?q.has.popup():A.closest(C).length>=1?!0:!1:!1},removePopup:function(){q.debug("Removing popup",A),q.has.popup()&&!n.popup&&(A.remove(),A=i),n.onRemove.call(A,R)},save:{conditions:function(){q.cache={title:w.attr("title")},q.cache.title&&w.removeAttr("title"),q.verbose("Saving original attributes",q.cache.title)}},restore:{conditions:function(){return q.cache&&q.cache.title&&(w.attr("title",q.cache.title),q.verbose("Restoring original attributes",q.cache.title)),!0}},animate:{show:function(t){t=e.isFunction(t)?t:function(){},n.transition&&e.fn.transition!==i&&w.transition("is supported")?(q.set.visible(),A.transition({animation:n.transition+" in",queue:!1,debug:n.debug,verbose:n.verbose,duration:n.duration,onComplete:function(){q.bind.close(),t.call(A,R),n.onVisible.call(A,R)}})):(q.set.visible(),A.stop().fadeIn(n.duration,n.easing,function(){q.bind.close(),t.call(A,R),n.onVisible.call(A,R)})),n.onShow.call(A,R)},hide:function(t){t=e.isFunction(t)?t:function(){},q.debug("Hiding pop-up"),n.transition&&e.fn.transition!==i&&w.transition("is supported")?A.transition({animation:n.transition+" out",queue:!1,duration:n.duration,debug:n.debug,verbose:n.verbose,onComplete:function(){q.reset(),t.call(A,R),n.onHidden.call(A,R)}}):A.stop().fadeOut(n.duration,n.easing,function(){q.reset(),t.call(A,R),n.onHidden.call(A,R)}),n.onHide.call(A,R)}},get:{id:function(){return z},startEvent:function(){return"hover"==n.on?c?"touchstart mouseenter":"mouseenter":"focus"==n.on?"focus":!1},scrollEvent:function(){return c?"touchmove scroll":"scroll"},endEvent:function(){return"hover"==n.on?"mouseleave":"focus"==n.on?"blur":!1},offsetParent:function(t){var n=t!==i?t[0]:w[0],o=n.parentNode,a=e(o);if(o)for(var r="none"===a.css("transform"),s="static"===a.css("position"),c=a.is("html");o&&!c&&s&&r;)o=o.parentNode,a=e(o),r="none"===a.css("transform"),s="static"===a.css("position"),c=a.is("html");return a&&a.length>0?a:e()},offstagePosition:function(n){var i={top:e(t).scrollTop(),bottom:e(t).scrollTop()+e(t).height(),left:0,right:e(t).width()},o={width:A.width(),height:A.height(),offset:A.offset()},a={},r=[];return n=n||!1,o.offset&&n&&(q.verbose("Checking if outside viewable area",o.offset),a={top:o.offset.top<i.top,bottom:o.offset.top+o.height>i.bottom,right:o.offset.left+o.width>i.right,left:o.offset.left<i.left}),e.each(a,function(e,t){t&&r.push(e)}),r.length>0?r.join(" "):!1},positions:function(){return{"top left":!1,"top center":!1,"top right":!1,"bottom left":!1,"bottom center":!1,"bottom right":!1,"left center":!1,"right center":!1}},nextPosition:function(e){var t=e.split(" "),i=t[0],o=t[1],a={top:"bottom",bottom:"top",left:"right",right:"left"},r={left:"center",center:"right",right:"left"},s={"top left":"top center","top center":"top right","top right":"right center","right center":"bottom right","bottom right":"bottom center","bottom center":"bottom left","bottom left":"left center","left center":"top left"},c="top"==i||"bottom"==i,l=!1,u=!1,d=!1;return F||(q.verbose("All available positions available"),F=q.get.positions()),q.debug("Recording last position tried",e),F[e]=!0,"opposite"===n.prefer&&(d=[a[i],o],d=d.join(" "),l=F[d]===!0,q.debug("Trying opposite strategy",d)),"adjacent"===n.prefer&&c&&(d=[i,r[o]],d=d.join(" "),u=F[d]===!0,q.debug("Trying adjacent strategy",d)),(u||l)&&(q.debug("Using backup position",d),d=s[e]),d}},set:{position:function(o,a){var r=e(t).width(),s=e(t).height(),c=T.outerWidth(),l=T.outerHeight(),u=A.outerWidth(),d=A.outerHeight(),m=P.outerWidth(),f=P.outerHeight(),g=n.distanceAway,b=T[0],y=n.inline?parseInt(t.getComputedStyle(b).getPropertyValue("margin-top"),10):0,x=n.inline?parseInt(t.getComputedStyle(b).getPropertyValue(q.is.rtl()?"margin-right":"margin-left"),10):0,C=n.inline||n.popup?T.position():T.offset(),k,S,F;switch(o=o||w.data(h.position)||n.position,a=a||w.data(h.offset)||n.offset,E==n.maxSearchDepth&&n.lastResort&&(q.debug("Using last resort position to display",n.lastResort),o=n.lastResort),n.inline&&(q.debug("Adding targets margin to calculation"),"left center"==o||"right center"==o?(a+=y,g+=-x):"top left"==o||"top center"==o||"top right"==o?(a+=x,g-=y):(a+=x,g+=y)),q.debug("Calculating popup positioning",o),k=o,q.is.rtl()&&(k=k.replace(/left|right/g,function(e){return"left"==e?"right":"left"}),q.debug("RTL: Popup positioning updated",k)),k){case"top left":S={top:"auto",bottom:f-C.top+g,left:C.left+a,right:"auto"};break;case"top center":S={bottom:f-C.top+g,left:C.left+c/2-u/2+a,top:"auto",right:"auto"};break;case"top right":S={bottom:f-C.top+g,right:m-C.left-c-a,top:"auto",left:"auto"};break;case"left center":S={top:C.top+l/2-d/2+a,right:m-C.left+g,left:"auto",bottom:"auto"};break;case"right center":S={top:C.top+l/2-d/2+a,left:C.left+c+g,bottom:"auto",right:"auto"};break;case"bottom left":S={top:C.top+l+g,left:C.left+a,bottom:"auto",right:"auto"};break;case"bottom center":S={top:C.top+l+g,left:C.left+c/2-u/2+a,bottom:"auto",right:"auto"};break;case"bottom right":S={top:C.top+l+g,right:m-C.left-c-a,left:"auto",bottom:"auto"}}if(S===i&&q.error(v.invalidPosition,o),q.debug("Calculated popup positioning values",S),A.css(S).removeClass(p.position).addClass(o).addClass(p.loading),F=q.get.offstagePosition(o)){if(q.debug("Popup cant fit into viewport",F),E<n.maxSearchDepth)return E++,o=q.get.nextPosition(o),q.debug("Trying new position",o),A?q.set.position(o):!1;if(!n.lastResort)return q.debug("Popup could not find a position in view",A),q.remove.attempts(),q.remove.loading(),q.reset(),!1}return q.debug("Position is on stage",o),q.remove.attempts(),q.set.fluidWidth(),q.remove.loading(),!0},fluidWidth:function(){n.setFluidWidth&&A.hasClass(p.fluid)&&A.css("width",P.width())},visible:function(){w.addClass(p.visible)}},remove:{loading:function(){A.removeClass(p.loading)},visible:function(){w.removeClass(p.visible)},attempts:function(){q.verbose("Resetting all searched positions"),E=0,F=!1}},bind:{events:function(){q.debug("Binding popup events to module"),"click"==n.on?w.on("click"+y,q.toggle):q.get.startEvent()&&w.on(q.get.startEvent()+y,q.event.start).on(q.get.endEvent()+y,q.event.end),n.target&&q.debug("Target set to element",T),k.on("resize"+D,q.event.resize)},popup:function(){q.verbose("Allowing hover events on popup to prevent closing"),A&&q.has.popup()&&A.on("mouseenter"+y,q.event.start).on("mouseleave"+y,q.event.end)},close:function(){(n.hideOnScroll===!0||"auto"==n.hideOnScroll&&"click"!=n.on)&&(r.one(q.get.scrollEvent()+D,q.hideGracefully),C.one(q.get.scrollEvent()+D,q.hideGracefully)),"click"==n.on&&n.closable&&(q.verbose("Binding popup close event to document"),r.on("click"+D,function(e){q.verbose("Pop-up clickaway intent detected"),q.hideGracefully.call(R,e)}))}},unbind:{close:function(){(n.hideOnScroll===!0||"auto"==n.hideOnScroll&&"click"!=n.on)&&(r.off("scroll"+D,q.hide),C.off("scroll"+D,q.hide)),"click"==n.on&&n.closable&&(q.verbose("Removing close event from document"),r.off("click"+D))}},has:{popup:function(){return A&&A.length>0}},is:{active:function(){return w.hasClass(p.active)},animating:function(){return A&&A.is(":animated")||A.hasClass(p.animating)},visible:function(){return A&&A.is(":visible")},dropdown:function(){return w.hasClass(p.dropdown)},hidden:function(){return!q.is.visible()},rtl:function(){return"rtl"==w.css("direction")}},reset:function(){q.remove.visible(),n.preserve?e.fn.transition!==i&&A.transition("remove transition"):q.removePopup()},setting:function(t,o){if(e.isPlainObject(t))e.extend(!0,n,t);else{if(o===i)return n[t];n[t]=o}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,q,t);else{if(n===i)return q[t];q[t]=n}},debug:function(){n.debug&&(n.performance?q.performance.log(arguments):(q.debug=Function.prototype.bind.call(console.info,console,n.name+":"),q.debug.apply(console,arguments)))},verbose:function(){n.verbose&&n.debug&&(n.performance?q.performance.log(arguments):(q.verbose=Function.prototype.bind.call(console.info,console,n.name+":"),q.verbose.apply(console,arguments)))},error:function(){q.error=Function.prototype.bind.call(console.error,console,n.name+":"),q.error.apply(console,arguments)},performance:{log:function(e){var t,i,o;n.performance&&(t=(new Date).getTime(),o=l||t,i=t-o,l=t,u.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:R,"Execution Time":i})),clearTimeout(q.performance.timer),q.performance.timer=setTimeout(q.performance.display,100)},display:function(){var t=n.name+":",o=0;l=!1,clearTimeout(q.performance.timer),e.each(u,function(e,t){o+=t["Execution Time"]}),t+=" "+o+"ms",s&&(t+=" '"+s+"'"),(console.group!==i||console.table!==i)&&u.length>0&&(console.groupCollapsed(t),console.table?console.table(u):e.each(u,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),u=[]}},invoke:function(t,n,o){var a=O,r,s,c;return n=n||f,o=R||o,"string"==typeof t&&a!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var c=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(a[c])&&n!=r)a=a[c];else{if(a[c]!==i)return s=a[c],!1;if(!e.isPlainObject(a[o])||n==r)return a[o]!==i?(s=a[o],!1):!1;a=a[o]}})),e.isFunction(s)?c=s.apply(o,n):s!==i&&(c=s),e.isArray(g)?g.push(c):g!==i?g=[g,c]:c!==i&&(g=c),s}},m?(O===i&&q.initialize(),q.invoke(d)):(O!==i&&O.invoke("destroy"),q.initialize())}),g!==i?g:this},e.fn.popup.settings={name:"Popup",debug:!1,verbose:!0,performance:!0,namespace:"popup",onCreate:function(){},onRemove:function(){},onShow:function(){},onVisible:function(){},onHide:function(){},onHidden:function(){},variation:"",content:!1,html:!1,title:!1,on:"hover",closable:!0,hideOnScroll:"auto",exclusive:!0,context:"body",position:"top left",prefer:"opposite",lastResort:!1,delay:{show:30,hide:0},setFluidWidth:!0,movePopup:!0,target:!1,popup:!1,inline:!1,preserve:!1,hoverable:!1,duration:200,easing:"easeOutQuint",transition:"scale",distanceAway:0,offset:0,maxSearchDepth:20,error:{invalidPosition:"The position you specified is not a valid position",cannotPlace:"No visible position could be found for the popup",method:"The method you called is not defined."},metadata:{activator:"activator",content:"content",html:"html",offset:"offset",position:"position",title:"title",variation:"variation"},className:{active:"active",animating:"animating",dropdown:"dropdown",fluid:"fluid",loading:"loading",popup:"ui popup",position:"top left center bottom right",visible:"visible"},selector:{popup:".ui.popup"},templates:{escape:function(e){var t=/[&<>"'`]/g,n=/[&<>"'`]/,i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},o=function(e){return i[e]};return n.test(e)?e.replace(t,o):e},popup:function(t){var n="",o=e.fn.popup.settings.templates.escape;return typeof t!==i&&(typeof t.title!==i&&t.title&&(t.title=o(t.title),n+='<div class="header">'+t.title+"</div>"),typeof t.content!==i&&t.content&&(t.content=o(t.content),n+='<div class="content">'+t.content+"</div>")),n}}},e.extend(e.easing,{easeOutQuad:function(e,t,n,i,o){return-i*(t/=o)*(t-2)+n}})}(n,window,document),function(e,t,n,i){"use strict";e.fn.progress=function(t){var o=e(this),a=o.selector||"",r=(new Date).getTime(),s=[],c=arguments[0],l="string"==typeof c,u=[].slice.call(arguments,1),d;return o.each(function(){var o=e.isPlainObject(t)?e.extend(!0,{},e.fn.progress.settings,t):e.extend({},e.fn.progress.settings),m=o.className,f=o.metadata,g=o.namespace,p=o.selector,v=o.error,h="."+g,b="module-"+g,y=e(this),x=e(this).find(p.bar),w=e(this).find(p.progress),C=e(this).find(p.label),T=this,k=y.data(b),S=!1,A,P;P={initialize:function(){P.debug("Initializing progress bar",o),A=P.get.transitionEnd(),P.read.metadata(),P.set.duration(),P.set.initials(),P.instantiate()},instantiate:function(){P.verbose("Storing instance of progress",P),k=P,y.data(b,P)},destroy:function(){P.verbose("Destroying previous progress for",y),clearInterval(k.interval),P.remove.state(),y.removeData(b),k=i},reset:function(){P.set.percent(0)},complete:function(){(P.percent===i||P.percent<100)&&P.set.percent(100)},read:{metadata:function(){y.data(f.percent)&&(P.verbose("Current percent value set from metadata"),P.percent=y.data(f.percent)),y.data(f.total)&&(P.verbose("Total value set from metadata"),P.total=y.data(f.total)),y.data(f.value)&&(P.verbose("Current value set from metadata"),P.value=y.data(f.value))},currentValue:function(){return P.value!==i?P.value:!1}},increment:function(e){var t=P.total||!1,n,i,o;t?(i=P.value||0,e=e||1,o=i+e,n=P.total,P.debug("Incrementing value by",e,i,n),o>n&&(P.debug("Value cannot increment above total",n),o=n),P.set.progress(o)):(i=P.percent||0,e=e||P.get.randomValue(),o=i+e,n=100,P.debug("Incrementing percentage by",e,i),o>n&&(P.debug("Value cannot increment above 100 percent"),o=n),P.set.progress(o))},decrement:function(e){var t=P.total||!1,n=0,i,o;t?(i=P.value||0,e=e||1,o=i-e,P.debug("Decrementing value by",e,i)):(i=P.percent||0,e=e||P.get.randomValue(),o=i-e,P.debug("Decrementing percentage by",e,i)),n>o&&(P.debug("Value cannot decrement below 0"),o=0),P.set.progress(o)},get:{text:function(e){var t=P.value||0,n=P.total||0,i=P.is.visible()&&S?P.get.displayPercent():P.percent||0,o=P.total>0?n-t:100-i;return e=e||"",e=e.replace("{value}",t).replace("{total}",n).replace("{left}",o).replace("{percent}",i),P.debug("Adding variables to progress bar text",e),e},randomValue:function(){return P.debug("Generating random increment percentage"),Math.floor(Math.random()*o.random.max+o.random.min)},transitionEnd:function(){var e=n.createElement("element"),t={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"},o;for(o in t)if(e.style[o]!==i)return t[o]},displayPercent:function(){var e=x.width(),t=y.width(),n=parseInt(x.css("min-width"),10),i=e>n?e/t*100:P.percent;return 0===o.precision?Math.round(i):Math.round(10*i*o.precision)/(10*o.precision)},percent:function(){return P.percent||0},value:function(){return P.value||!1},total:function(){return P.total||!1}},is:{success:function(){return y.hasClass(m.success)},warning:function(){return y.hasClass(m.warning)},error:function(){return y.hasClass(m.error)},active:function(){return y.hasClass(m.active)},visible:function(){return y.is(":visible")}},remove:{state:function(){P.verbose("Removing stored state"),delete P.total,delete P.percent,delete P.value},active:function(){P.verbose("Removing active state"),y.removeClass(m.active)},success:function(){P.verbose("Removing success state"),y.removeClass(m.success)},warning:function(){P.verbose("Removing warning state"),y.removeClass(m.warning)},error:function(){P.verbose("Removing error state"),y.removeClass(m.error)}},set:{barWidth:function(e){e>100?P.error(v.tooHigh,e):0>e?P.error(v.tooLow,e):(x.css("width",e+"%"),y.attr("data-percent",parseInt(e,10)))},duration:function(e){e=e||o.duration,e="number"==typeof e?e+"ms":e,P.verbose("Setting progress bar transition duration",e),x.css({"-webkit-transition-duration":e,"-moz-transition-duration":e,"-ms-transition-duration":e,"-o-transition-duration":e,"transition-duration":e})},initials:function(){o.total!==!1&&(P.verbose("Current total set in settings",o.total),P.total=o.total),o.value!==!1&&(P.verbose("Current value set in settings",o.value),P.value=o.value),o.percent!==!1&&(P.verbose("Current percent set in settings",o.percent),P.percent=o.percent),P.percent!==i?P.set.percent(P.percent):P.value!==i&&P.set.progress(P.value)},percent:function(e){e="string"==typeof e?+e.replace("%",""):e,e>0&&1>e&&(P.verbose("Module percentage passed as decimal, converting"),e=100*e),e=0===o.precision?Math.round(e):Math.round(10*e*o.precision)/(10*o.precision),P.percent=e,P.total?P.value=Math.round(e/100*P.total*10*o.precision)/(10*o.precision):o.limitValues&&(P.value=P.value>100?100:P.value<0?0:P.value),
P.set.barWidth(e),P.is.visible()&&P.set.labelInterval(),P.set.labels(),o.onChange.call(T,e,P.value,P.total)},labelInterval:function(){var e=function(){P.verbose("Bar finished animating, removing continuous label updates"),clearInterval(P.interval),S=!1,P.set.labels()};clearInterval(P.interval),x.one(A+h,e),P.timer=setTimeout(e,o.duration+100),S=!0,P.interval=setInterval(P.set.labels,o.framerate)},labels:function(){P.verbose("Setting both bar progress and outer label text"),P.set.barLabel(),P.set.state()},label:function(e){e=e||"",e&&(e=P.get.text(e),P.debug("Setting label to text",e),C.text(e))},state:function(e){e=e!==i?e:P.percent,100===e?!o.autoSuccess||P.is.warning()||P.is.error()?(P.verbose("Reached 100% removing active state"),P.remove.active()):(P.set.success(),P.debug("Automatically triggering success at 100%")):e>0?(P.verbose("Adjusting active progress bar label",e),P.set.active()):(P.remove.active(),P.set.label(o.text.active))},barLabel:function(e){e!==i?w.text(P.get.text(e)):"ratio"==o.label&&P.total?(P.debug("Adding ratio to bar label"),w.text(P.get.text(o.text.ratio))):"percent"==o.label&&(P.debug("Adding percentage to bar label"),w.text(P.get.text(o.text.percent)))},active:function(e){e=e||o.text.active,P.debug("Setting active state"),o.showActivity&&!P.is.active()&&y.addClass(m.active),P.remove.warning(),P.remove.error(),P.remove.success(),e&&P.set.label(e),o.onActive.call(T,P.value,P.total)},success:function(e){e=e||o.text.success,P.debug("Setting success state"),y.addClass(m.success),P.remove.active(),P.remove.warning(),P.remove.error(),P.complete(),e&&P.set.label(e),o.onSuccess.call(T,P.total)},warning:function(e){e=e||o.text.warning,P.debug("Setting warning state"),y.addClass(m.warning),P.remove.active(),P.remove.success(),P.remove.error(),P.complete(),e&&P.set.label(e),o.onWarning.call(T,P.value,P.total)},error:function(e){e=e||o.text.error,P.debug("Setting error state"),y.addClass(m.error),P.remove.active(),P.remove.success(),P.remove.warning(),P.complete(),e&&P.set.label(e),o.onError.call(T,P.value,P.total)},total:function(e){P.total=e},progress:function(e){var t="string"==typeof e?""!==e.replace(/[^\d.]/g,"")?+e.replace(/[^\d.]/g,""):!1:e,n;t===!1&&P.error(v.nonNumeric,e),P.total?(P.value=t,n=t/P.total*100,P.debug("Calculating percent complete from total",n),P.set.percent(n)):(n=t,P.debug("Setting value to exact percentage value",n),P.set.percent(n))}},setting:function(t,n){if(P.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,o,t);else{if(n===i)return o[t];o[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,P,t);else{if(n===i)return P[t];P[t]=n}},debug:function(){o.debug&&(o.performance?P.performance.log(arguments):(P.debug=Function.prototype.bind.call(console.info,console,o.name+":"),P.debug.apply(console,arguments)))},verbose:function(){o.verbose&&o.debug&&(o.performance?P.performance.log(arguments):(P.verbose=Function.prototype.bind.call(console.info,console,o.name+":"),P.verbose.apply(console,arguments)))},error:function(){P.error=Function.prototype.bind.call(console.error,console,o.name+":"),P.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;o.performance&&(t=(new Date).getTime(),i=r||t,n=t-i,r=t,s.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:T,"Execution Time":n})),clearTimeout(P.performance.timer),P.performance.timer=setTimeout(P.performance.display,100)},display:function(){var t=o.name+":",n=0;r=!1,clearTimeout(P.performance.timer),e.each(s,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",a&&(t+=" '"+a+"'"),(console.group!==i||console.table!==i)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(t,n,o){var a=k,r,s,c;return n=n||u,o=T||o,"string"==typeof t&&a!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var c=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(a[c])&&n!=r)a=a[c];else{if(a[c]!==i)return s=a[c],!1;if(!e.isPlainObject(a[o])||n==r)return a[o]!==i?(s=a[o],!1):(P.error(v.method,t),!1);a=a[o]}})),e.isFunction(s)?c=s.apply(o,n):s!==i&&(c=s),e.isArray(d)?d.push(c):d!==i?d=[d,c]:c!==i&&(d=c),s}},l?(k===i&&P.initialize(),P.invoke(c)):(k!==i&&k.invoke("destroy"),P.initialize())}),d!==i?d:this},e.fn.progress.settings={name:"Progress",namespace:"progress",debug:!1,verbose:!0,performance:!0,random:{min:2,max:5},duration:300,autoSuccess:!0,showActivity:!0,limitValues:!0,label:"percent",precision:1,framerate:1e3/30,percent:!1,total:!1,value:!1,onChange:function(e,t,n){},onSuccess:function(e){},onActive:function(e,t){},onError:function(e,t){},onWarning:function(e,t){},error:{method:"The method you called is not defined.",nonNumeric:"Progress value is non numeric",tooHigh:"Value specified is above 100%",tooLow:"Value specified is below 0%"},regExp:{variable:/\{\$*[A-z0-9]+\}/g},metadata:{percent:"percent",total:"total",value:"value"},selector:{bar:"> .bar",label:"> .label",progress:".bar > .progress"},text:{active:!1,error:!1,success:!1,warning:!1,percent:"{percent}%",ratio:"{value} of {total}"},className:{active:"active",error:"error",success:"success",warning:"warning"}}}(n,window,document),function(e,t,n,i){"use strict";e.fn.rating=function(t){var n=e(this),o=n.selector||"",a=(new Date).getTime(),r=[],s=arguments[0],c="string"==typeof s,l=[].slice.call(arguments,1),u;return n.each(function(){var d=e.isPlainObject(t)?e.extend(!0,{},e.fn.rating.settings,t):e.extend({},e.fn.rating.settings),m=d.namespace,f=d.className,g=d.metadata,p=d.selector,v=d.error,h="."+m,b="module-"+m,y=this,x=e(this).data(b),w=e(this),C=w.find(p.icon),T;T={initialize:function(){T.verbose("Initializing rating module",d),0===C.length&&T.setup.layout(),d.interactive?T.enable():T.disable(),d.initialRating&&(T.debug("Setting initial rating"),T.setRating(d.initialRating)),w.data(g.rating)&&(T.debug("Rating found in metadata"),T.setRating(w.data(g.rating))),T.instantiate()},instantiate:function(){T.verbose("Instantiating module",d),x=T,w.data(b,T)},destroy:function(){T.verbose("Destroying previous instance",x),w.removeData(b),C.off(h)},refresh:function(){C=w.find(p.icon)},setup:{layout:function(){var t=w.data(g.maxRating)||d.maxRating;T.debug("Generating icon html dynamically"),w.html(e.fn.rating.settings.templates.icon(t)),T.refresh()}},event:{mouseenter:function(){var t=e(this);t.nextAll().removeClass(f.selected),w.addClass(f.selected),t.addClass(f.selected).prevAll().addClass(f.selected)},mouseleave:function(){w.removeClass(f.selected),C.removeClass(f.selected)},click:function(){var t=e(this),n=T.getRating(),i=C.index(t)+1,o="auto"==d.clearable?1===C.length:d.clearable;o&&n==i?T.clearRating():T.setRating(i)}},clearRating:function(){T.debug("Clearing current rating"),T.setRating(0)},getRating:function(){var e=C.filter("."+f.active).length;return T.verbose("Current rating retrieved",e),e},enable:function(){T.debug("Setting rating to interactive mode"),C.on("mouseenter"+h,T.event.mouseenter).on("mouseleave"+h,T.event.mouseleave).on("click"+h,T.event.click),w.removeClass(f.disabled)},disable:function(){T.debug("Setting rating to read-only mode"),C.off(h),w.addClass(f.disabled)},setRating:function(e){var t=e-1>=0?e-1:0,n=C.eq(t);w.removeClass(f.selected),C.removeClass(f.selected).removeClass(f.active),e>0&&(T.verbose("Setting current rating to",e),n.prevAll().andSelf().addClass(f.active)),d.onRate.call(y,e)},setting:function(t,n){if(T.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,d,t);else{if(n===i)return d[t];d[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,T,t);else{if(n===i)return T[t];T[t]=n}},debug:function(){d.debug&&(d.performance?T.performance.log(arguments):(T.debug=Function.prototype.bind.call(console.info,console,d.name+":"),T.debug.apply(console,arguments)))},verbose:function(){d.verbose&&d.debug&&(d.performance?T.performance.log(arguments):(T.verbose=Function.prototype.bind.call(console.info,console,d.name+":"),T.verbose.apply(console,arguments)))},error:function(){T.error=Function.prototype.bind.call(console.error,console,d.name+":"),T.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;d.performance&&(t=(new Date).getTime(),i=a||t,n=t-i,a=t,r.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:y,"Execution Time":n})),clearTimeout(T.performance.timer),T.performance.timer=setTimeout(T.performance.display,100)},display:function(){var t=d.name+":",s=0;a=!1,clearTimeout(T.performance.timer),e.each(r,function(e,t){s+=t["Execution Time"]}),t+=" "+s+"ms",o&&(t+=" '"+o+"'"),n.length>1&&(t+=" ("+n.length+")"),(console.group!==i||console.table!==i)&&r.length>0&&(console.groupCollapsed(t),console.table?console.table(r):e.each(r,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),r=[]}},invoke:function(t,n,o){var a=x,r,s,c;return n=n||l,o=y||o,"string"==typeof t&&a!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var c=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(a[c])&&n!=r)a=a[c];else{if(a[c]!==i)return s=a[c],!1;if(!e.isPlainObject(a[o])||n==r)return a[o]!==i?(s=a[o],!1):!1;a=a[o]}})),e.isFunction(s)?c=s.apply(o,n):s!==i&&(c=s),e.isArray(u)?u.push(c):u!==i?u=[u,c]:c!==i&&(u=c),s}},c?(x===i&&T.initialize(),T.invoke(s)):(x!==i&&x.invoke("destroy"),T.initialize())}),u!==i?u:this},e.fn.rating.settings={name:"Rating",namespace:"rating",debug:!1,verbose:!0,performance:!0,initialRating:0,interactive:!0,maxRating:4,clearable:"auto",onRate:function(e){},error:{method:"The method you called is not defined",noMaximum:"No maximum rating specified. Cannot generate HTML automatically"},metadata:{rating:"rating",maxRating:"maxRating"},className:{active:"active",disabled:"disabled",selected:"selected",loading:"loading"},selector:{icon:".icon"},templates:{icon:function(e){for(var t=1,n="";e>=t;)n+='<i class="icon"></i>',t++;return n}}}}(n,window,document),function(e,t,n,i){"use strict";e.fn.search=function(o){var a=e(this),r=a.selector||"",s=(new Date).getTime(),c=[],l=arguments[0],u="string"==typeof l,d=[].slice.call(arguments,1),m;return e(this).each(function(){var f=e.extend(!0,{},e.fn.search.settings,o),g=f.className,p=f.metadata,v=f.regExp,h=f.selector,b=f.error,y=f.namespace,x="."+y,w=y+"-module",C=e(this),T=C.find(h.prompt),k=C.find(h.searchButton),S=C.find(h.results),A=C.find(h.result),P=C.find(h.category),E=this,F=C.data(w),R;R={initialize:function(){R.verbose("Initializing module");var e=T[0],t=e!==i&&e.oninput!==i?"input":e!==i&&e.onpropertychange!==i?"propertychange":"keyup";f.automatic&&T.on(t+x,R.throttle).attr("autocomplete","off"),T.on("focus"+x,R.event.focus).on("blur"+x,R.event.blur).on("keydown"+x,R.handleKeyboard),k.on("click"+x,R.query),S.on("mousedown"+x,R.event.result.mousedown).on("mouseup"+x,R.event.result.mouseup).on("click"+x,h.result,R.event.result.click),R.instantiate()},instantiate:function(){R.verbose("Storing instance of module",R),F=R,C.data(w,R)},destroy:function(){R.verbose("Destroying instance"),C.removeData(w),T.off(x),k.off(x),S.off(x)},event:{focus:function(){R.set.focus(),clearTimeout(R.timer),R.throttle(),R.has.minimumCharacters()&&R.showResults()},blur:function(e){var t=n.activeElement===this;t||R.resultsClicked||(R.cancel.query(),R.remove.focus(),R.timer=setTimeout(R.hideResults,f.hideDelay))},result:{mousedown:function(){R.resultsClicked=!0},mouseup:function(){R.resultsClicked=!1},click:function(n){R.debug("Search result selected");var i=e(this),o=i.find(h.title).eq(0),a=i.find("a[href]").eq(0),r=a.attr("href")||!1,s=a.attr("target")||!1,c=o.html(),l=o.length>0?o.text():!1,u=R.get.results(),d=R.get.result(l,u),m;return e.isFunction(f.onSelect)&&f.onSelect.call(E,d,u)===!1?void R.debug("Custom onSelect callback cancelled default select action"):(R.hideResults(),l&&R.set.value(l),void(r&&(R.verbose("Opening search link found in result",a),"_blank"==s||n.ctrlKey?t.open(r):t.location.href=r)))}}},handleKeyboard:function(e){var t=C.find(h.result),n=C.find(h.category),i=t.index(t.filter("."+g.active)),o=t.length,a=e.which,r={backspace:8,enter:13,escape:27,upArrow:38,downArrow:40},s;if(a==r.escape&&(R.verbose("Escape key pressed, blurring search field"),T.trigger("blur")),R.is.visible())if(a==r.enter){if(R.verbose("Enter key pressed, selecting active result"),t.filter("."+g.active).length>0)return R.event.result.click.call(t.filter("."+g.active),e),e.preventDefault(),!1}else a==r.upArrow?(R.verbose("Up key pressed, changing active result"),s=0>i-1?i:i-1,n.removeClass(g.active),t.removeClass(g.active).eq(s).addClass(g.active).closest(n).addClass(g.active),e.preventDefault()):a==r.downArrow&&(R.verbose("Down key pressed, changing active result"),s=i+1>=o?i:i+1,n.removeClass(g.active),t.removeClass(g.active).eq(s).addClass(g.active).closest(n).addClass(g.active),e.preventDefault());else a==r.enter&&(R.verbose("Enter key pressed, executing query"),R.query(),R.set.buttonPressed(),T.one("keyup",R.remove.buttonFocus))},setup:{api:function(){var e={on:!1,action:"search",onFailure:R.error},t;R.verbose("First request, initializing API"),C.api(e)}},can:{useAPI:function(){return e.fn.api!==i},transition:function(){return f.transition&&e.fn.transition!==i&&C.transition("is supported")}},is:{empty:function(){return""===S.html()},visible:function(){return S.filter(":visible").length>0},focused:function(){return T.filter(":focus").length>0}},get:{value:function(){return T.val()},results:function(){var e=C.data(p.results);return e},result:function(t,n){var i=!1;return t=t||R.get.value(),n=n||R.get.results(),"category"===f.type?(R.debug("Finding result that matches",t),e.each(n,function(n,o){return e.isArray(o.results)&&(i=R.search.object(t,o.results)[0],i&&i.length>0)?!0:void 0})):(R.debug("Finding result in results object",t),i=R.search.object(t,n)[0]),i}},set:{focus:function(){C.addClass(g.focus)},loading:function(){C.addClass(g.loading)},value:function(e){R.verbose("Setting search input value",e),T.val(e),R.query()},buttonPressed:function(){k.addClass(g.pressed)}},remove:{loading:function(){C.removeClass(g.loading)},focus:function(){C.removeClass(g.focus)},buttonPressed:function(){k.removeClass(g.pressed)}},query:function(){var t=R.get.value(),n=R.read.cache(t);n?(R.debug("Reading result for "+t+" from cache"),R.save.results(n.results),R.addResults(n.html)):(R.debug("Querying for "+t),e.isPlainObject(f.source)||e.isArray(f.source)?R.search.local(t):R.can.useAPI()?f.apiSettings?(R.debug("Searching with specified API settings",f.apiSettings),R.search.remote(t)):e.api.settings.api.search!==i?(R.debug("Searching with default search API endpoint"),R.search.remote(t)):R.error(b.noEndpoint):R.error(b.source),f.onSearchQuery.call(E,t))},search:{local:function(e){var t=R.search.object(e,f.content),n;R.set.loading(),R.save.results(t),R.debug("Returned local search results",t),n=R.generateResults({results:t}),R.remove.loading(),R.write.cache(e,{html:n,results:t}),R.addResults(n)},remote:function(t){var n={onSuccess:function(e){R.parse.response.call(E,e,t)},urlData:{query:t}};C.api("get request")||R.setup.api(),e.extend(!0,n,f.apiSettings),R.debug("Executing search",n),R.cancel.query(),C.api("setting",n).api("query")},object:function(t,n){var o=[],a=[],r=e.isArray(f.searchFields)?f.searchFields:[f.searchFields],s=t.replace(v.escape,"\\$&"),c=new RegExp(v.exact+s,"i");return n=n||f.source,n===i?(R.error(b.source),[]):(e.each(r,function(i,r){e.each(n,function(n,i){var s="string"==typeof i[r],l=-1==e.inArray(i,o)&&-1==e.inArray(i,a);s&&l&&(i[r].match(c)?o.push(i):f.searchFullText&&R.fuzzySearch(t,i[r])&&a.push(i))})}),e.merge(o,a))}},fuzzySearch:function(e,t){var n=t.length,i=e.length;if(e=e.toLowerCase(),t=t.toLowerCase(),i>n)return!1;if(i===n)return e===t;e:for(var o=0,a=0;i>o;o++){for(var r=e.charCodeAt(o);n>a;)if(t.charCodeAt(a++)===r)continue e;return!1}return!0},parse:{response:function(e,t){var n=R.generateResults(e);R.verbose("Parsing server response",e),e!==i&&t!==i&&e.results!==i&&(R.write.cache(t,{html:n,results:e.results}),R.save.results(e.results),R.addResults(n))}},throttle:function(){clearTimeout(R.timer),R.has.minimumCharacters()?R.timer=setTimeout(R.query,f.searchDelay):R.hideResults()},cancel:{query:function(){R.can.useAPI()&&C.api("abort")}},has:{minimumCharacters:function(){var e=R.get.value(),t=e.length;return t>=f.minCharacters}},read:{cache:function(e){var t=C.data(p.cache);return f.cache?(R.verbose("Checking cache for generated html for query",e),"object"==typeof t&&t[e]!==i?t[e]:!1):!1}},save:{results:function(e){R.verbose("Saving current search results to metadata",e),C.data(p.results,e)}},write:{cache:function(e,t){var n=C.data(p.cache)!==i?C.data(p.cache):{};f.cache&&(R.verbose("Writing generated html to cache",e,t),n[e]=t,C.data(p.cache,n))}},addResults:function(t){return e.isFunction(f.onResultsAdd)&&f.onResultsAdd.call(S,t)===!1?(R.debug("onResultsAdd callback cancelled default action"),!1):(S.html(t),void R.showResults())},showResults:function(){R.is.visible()||!R.is.focused()||R.is.empty()||(R.can.transition()?(R.debug("Showing results with css animations"),S.transition({animation:f.transition+" in",duration:f.duration,queue:!0})):(R.debug("Showing results with javascript"),S.stop().fadeIn(f.duration,f.easing)),f.onResultsOpen.call(S))},hideResults:function(){R.is.visible()&&(R.can.transition()?(R.debug("Hiding results with css animations"),S.transition({animation:f.transition+" out",duration:f.duration,queue:!0})):(R.debug("Hiding results with javascript"),S.stop().fadeOut(f.duration,f.easing)),f.onResultsClose.call(S))},generateResults:function(t){R.debug("Generating html from response",t);var n=f.templates[f.type],i=e.isPlainObject(t.results)&&!e.isEmptyObject(t.results),o=e.isArray(t.results)&&t.results.length>0,a="";return i||o?(f.maxResults>0&&(i?"standard"==f.type&&R.error(b.maxResults):t.results=t.results.slice(0,f.maxResults)),e.isFunction(n)?a=n(t):R.error(b.noTemplate,!1)):a=R.displayMessage(b.noResults,"empty"),f.onResults.call(E,t),a},displayMessage:function(e,t){return t=t||"standard",R.debug("Displaying message",e,t),R.addResults(f.templates.message(e,t)),f.templates.message(e,t)},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,f,t);else{if(n===i)return f[t];f[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,R,t);else{if(n===i)return R[t];R[t]=n}},debug:function(){f.debug&&(f.performance?R.performance.log(arguments):(R.debug=Function.prototype.bind.call(console.info,console,f.name+":"),R.debug.apply(console,arguments)))},verbose:function(){f.verbose&&f.debug&&(f.performance?R.performance.log(arguments):(R.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),R.verbose.apply(console,arguments)))},error:function(){R.error=Function.prototype.bind.call(console.error,console,f.name+":"),R.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;f.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,c.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:E,"Execution Time":n})),clearTimeout(R.performance.timer),R.performance.timer=setTimeout(R.performance.display,100)},display:function(){var t=f.name+":",n=0;s=!1,clearTimeout(R.performance.timer),e.each(c,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",r&&(t+=" '"+r+"'"),a.length>1&&(t+=" ("+a.length+")"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(t,n,o){var a=F,r,s,c;return n=n||d,o=E||o,"string"==typeof t&&a!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var c=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(a[c])&&n!=r)a=a[c];else{if(a[c]!==i)return s=a[c],!1;if(!e.isPlainObject(a[o])||n==r)return a[o]!==i?(s=a[o],!1):!1;a=a[o]}})),e.isFunction(s)?c=s.apply(o,n):s!==i&&(c=s),e.isArray(m)?m.push(c):m!==i?m=[m,c]:c!==i&&(m=c),s}},u?(F===i&&R.initialize(),R.invoke(l)):(F!==i&&F.invoke("destroy"),R.initialize())}),m!==i?m:this},e.fn.search.settings={name:"Search Module",namespace:"search",debug:!1,verbose:!0,performance:!0,type:"standard",minCharacters:1,apiSettings:!1,source:!1,searchFields:["title","description"],searchFullText:!0,automatic:"true",hideDelay:0,searchDelay:100,maxResults:7,cache:!0,transition:"scale",duration:300,easing:"easeOutExpo",onSelect:!1,onResultsAdd:!1,onSearchQuery:function(){},onResults:function(e){},onResultsOpen:function(){},onResultsClose:function(){},className:{active:"active",empty:"empty",focus:"focus",loading:"loading",pressed:"down"},error:{source:"Cannot search. No source used, and Semantic API module was not included",noResults:"Your search returned no results",logging:"Error in debug logging, exiting.",noEndpoint:"No search endpoint was specified",noTemplate:"A valid template name was not specified.",serverError:"There was an issue with querying the server.",maxResults:"Results must be an array to use maxResults setting",method:"The method you called is not defined."},metadata:{cache:"cache",results:"results"},regExp:{escape:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,exact:"(?:s|^)"},selector:{prompt:".prompt",searchButton:".search.button",results:".results",category:".category",result:".result",title:".title, .name"},templates:{escape:function(e){var t=/[&<>"'`]/g,n=/[&<>"'`]/,i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},o=function(e){return i[e]};return n.test(e)?e.replace(t,o):e},message:function(e,t){var n="";return e!==i&&t!==i&&(n+='<div class="message '+t+'">',n+="empty"==t?'<div class="header">No Results</div class="header"><div class="description">'+e+'</div class="description">':' <div class="description">'+e+"</div>",n+="</div>"),n},category:function(t){var n="",o=e.fn.search.settings.templates.escape;return t.results!==i?(e.each(t.results,function(t,a){a.results!==i&&a.results.length>0&&(n+='<div class="category"><div class="name">'+a.name+"</div>",e.each(a.results,function(e,t){n+='<div class="result">',t.url&&(n+='<a href="'+t.url+'"></a>'),t.image!==i&&(t.image=o(t.image),n+='<div class="image"> <img src="'+t.image+'" alt=""></div>'),n+='<div class="content">',t.price!==i&&(t.price=o(t.price),n+='<div class="price">'+t.price+"</div>"),t.title!==i&&(t.title=o(t.title),n+='<div class="title">'+t.title+"</div>"),t.description!==i&&(n+='<div class="description">'+t.description+"</div>"),n+="</div></div>"}),n+="</div>")}),t.action&&(n+='<a href="'+t.action.url+'" class="action">'+t.action.text+"</a>"),n):!1},standard:function(t){var n="";return t.results!==i?(e.each(t.results,function(e,t){n+=t.url?'<a class="result" href="'+t.url+'">':'<a class="result">',t.image!==i&&(n+='<div class="image"> <img src="'+t.image+'"></div>'),n+='<div class="content">',t.price!==i&&(n+='<div class="price">'+t.price+"</div>"),t.title!==i&&(n+='<div class="title">'+t.title+"</div>"),t.description!==i&&(n+='<div class="description">'+t.description+"</div>"),n+="</div>",n+="</a>"}),t.action&&(n+='<a href="'+t.action.url+'" class="action">'+t.action.text+"</a>"),n):!1}}}}(n,window,document),function(e,t,n,i){"use strict";e.fn.shape=function(o){var a=e(this),r=e("body"),s=(new Date).getTime(),c=[],l=arguments[0],u="string"==typeof l,d=[].slice.call(arguments,1),m=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)},f;return a.each(function(){var t=a.selector||"",r=e.extend(!0,{},e.fn.shape.settings,o),g=r.namespace,p=r.selector,v=r.error,h=r.className,b="."+g,y="module-"+g,x=e(this),w=x.find(p.sides),C=x.find(p.side),T=!1,k,S,A=this,P=x.data(y),E;E={initialize:function(){E.verbose("Initializing module for",A),E.set.defaultSide(),E.instantiate()},instantiate:function(){E.verbose("Storing instance of module",E),P=E,x.data(y,P)},destroy:function(){E.verbose("Destroying previous module for",A),x.removeData(y).off(b)},refresh:function(){E.verbose("Refreshing selector cache for",A),x=e(A),w=e(this).find(p.shape),C=e(this).find(p.side)},repaint:function(){E.verbose("Forcing repaint event");var e=w.get(0)||n.createElement("div"),t=e.offsetWidth},animate:function(e,t){E.verbose("Animating box with properties",e),t=t||function(e){E.verbose("Executing animation callback"),e!==i&&e.stopPropagation(),E.reset(),E.set.active()},r.beforeChange.call(S.get()),E.get.transitionEvent()?(E.verbose("Starting CSS animation"),x.addClass(h.animating),w.css(e).one(E.get.transitionEvent(),t),E.set.duration(r.duration),m(function(){x.addClass(h.animating),k.addClass(h.hidden)})):t()},queue:function(e){E.debug("Queueing animation of",e),w.one(E.get.transitionEvent(),function(){E.debug("Executing queued animation"),setTimeout(function(){x.shape(e)},0)})},reset:function(){E.verbose("Animating states reset"),x.removeClass(h.animating).attr("style","").removeAttr("style"),w.attr("style","").removeAttr("style"),C.attr("style","").removeAttr("style").removeClass(h.hidden),S.removeClass(h.animating).attr("style","").removeAttr("style")},is:{complete:function(){return C.filter("."+h.active)[0]==S[0]},animating:function(){return x.hasClass(h.animating)}},set:{defaultSide:function(){k=x.find("."+r.className.active),S=k.next(p.side).length>0?k.next(p.side):x.find(p.side).first(),T=!1,E.verbose("Active side set to",k),E.verbose("Next side set to",S)},duration:function(e){e=e||r.duration,e="number"==typeof e?e+"ms":e,E.verbose("Setting animation duration",e),w.add(C).css({"-webkit-transition-duration":e,"-moz-transition-duration":e,"-ms-transition-duration":e,"-o-transition-duration":e,"transition-duration":e})},stageSize:function(){var e=x.clone().addClass(h.loading),t=e.find("."+r.className.active),n=T?e.find(p.side).eq(T):t.next(p.side).length>0?t.next(p.side):e.find(p.side).first(),i={};t.removeClass(h.active),n.addClass(h.active),e.insertAfter(x),i={width:n.outerWidth(),height:n.outerHeight()},e.remove(),x.css(i),E.verbose("Resizing stage to fit new content",i)},nextSide:function(e){T=e,S=C.filter(e),T=C.index(S),0===S.length&&(E.set.defaultSide(),E.error(v.side)),E.verbose("Next side manually set to",S)},active:function(){E.verbose("Setting new side to active",S),C.removeClass(h.active),S.addClass(h.active),r.onChange.call(S.get()),E.set.defaultSide()}},flip:{up:function(){return!E.is.complete()||E.is.animating()||r.allowRepeats?void(E.is.animating()?E.queue("flip up"):(E.debug("Flipping up",S),E.set.stageSize(),E.stage.above(),E.animate(E.get.transform.up()))):void E.debug("Side already visible",S)},down:function(){return!E.is.complete()||E.is.animating()||r.allowRepeats?void(E.is.animating()?E.queue("flip down"):(E.debug("Flipping down",S),E.set.stageSize(),E.stage.below(),E.animate(E.get.transform.down()))):void E.debug("Side already visible",S)},left:function(){return!E.is.complete()||E.is.animating()||r.allowRepeats?void(E.is.animating()?E.queue("flip left"):(E.debug("Flipping left",S),E.set.stageSize(),E.stage.left(),E.animate(E.get.transform.left()))):void E.debug("Side already visible",S)},right:function(){return!E.is.complete()||E.is.animating()||r.allowRepeats?void(E.is.animating()?E.queue("flip right"):(E.debug("Flipping right",S),E.set.stageSize(),E.stage.right(),E.animate(E.get.transform.right()))):void E.debug("Side already visible",S)},over:function(){return!E.is.complete()||E.is.animating()||r.allowRepeats?void(E.is.animating()?E.queue("flip over"):(E.debug("Flipping over",S),E.set.stageSize(),E.stage.behind(),E.animate(E.get.transform.over()))):void E.debug("Side already visible",S)},back:function(){return!E.is.complete()||E.is.animating()||r.allowRepeats?void(E.is.animating()?E.queue("flip back"):(E.debug("Flipping back",S),E.set.stageSize(),E.stage.behind(),E.animate(E.get.transform.back()))):void E.debug("Side already visible",S)}},get:{transform:{up:function(){var e={y:-((k.outerHeight()-S.outerHeight())/2),z:-(k.outerHeight()/2)};return{transform:"translateY("+e.y+"px) translateZ("+e.z+"px) rotateX(-90deg)"}},down:function(){var e={y:-((k.outerHeight()-S.outerHeight())/2),z:-(k.outerHeight()/2)};return{transform:"translateY("+e.y+"px) translateZ("+e.z+"px) rotateX(90deg)"}},left:function(){var e={x:-((k.outerWidth()-S.outerWidth())/2),z:-(k.outerWidth()/2)};return{transform:"translateX("+e.x+"px) translateZ("+e.z+"px) rotateY(90deg)"}},right:function(){var e={x:-((k.outerWidth()-S.outerWidth())/2),z:-(k.outerWidth()/2)};return{transform:"translateX("+e.x+"px) translateZ("+e.z+"px) rotateY(-90deg)"}},over:function(){var e={x:-((k.outerWidth()-S.outerWidth())/2)};return{transform:"translateX("+e.x+"px) rotateY(180deg)"}},back:function(){var e={x:-((k.outerWidth()-S.outerWidth())/2)};return{transform:"translateX("+e.x+"px) rotateY(-180deg)"}}},transitionEvent:function(){var e=n.createElement("element"),t={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"},o;for(o in t)if(e.style[o]!==i)return t[o]},nextSide:function(){return k.next(p.side).length>0?k.next(p.side):x.find(p.side).first()}},stage:{above:function(){var e={origin:(k.outerHeight()-S.outerHeight())/2,depth:{active:S.outerHeight()/2,next:k.outerHeight()/2}};E.verbose("Setting the initial animation position as above",S,e),k.css({transform:"rotateY(0deg) translateZ("+e.depth.active+"px)"}),S.addClass(h.animating).css({display:"block",top:e.origin+"px",transform:"rotateX(90deg) translateZ("+e.depth.next+"px)"})},below:function(){var e={origin:(k.outerHeight()-S.outerHeight())/2,depth:{active:S.outerHeight()/2,next:k.outerHeight()/2}};E.verbose("Setting the initial animation position as below",S,e),k.css({transform:"rotateY(0deg) translateZ("+e.depth.active+"px)"}),S.addClass(h.animating).css({display:"block",top:e.origin+"px",transform:"rotateX(-90deg) translateZ("+e.depth.next+"px)"})},left:function(){var e={origin:(k.outerWidth()-S.outerWidth())/2,depth:{active:S.outerWidth()/2,next:k.outerWidth()/2}};E.verbose("Setting the initial animation position as left",S,e),k.css({transform:"rotateY(0deg) translateZ("+e.depth.active+"px)"}),S.addClass(h.animating).css({display:"block",left:e.origin+"px",transform:"rotateY(-90deg) translateZ("+e.depth.next+"px)"})},right:function(){var e={origin:(k.outerWidth()-S.outerWidth())/2,depth:{active:S.outerWidth()/2,next:k.outerWidth()/2}};E.verbose("Setting the initial animation position as left",S,e),k.css({transform:"rotateY(0deg) translateZ("+e.depth.active+"px)"}),S.addClass(h.animating).css({display:"block",left:e.origin+"px",transform:"rotateY(90deg) translateZ("+e.depth.next+"px)"})},behind:function(){var e={origin:(k.outerWidth()-S.outerWidth())/2,depth:{active:S.outerWidth()/2,next:k.outerWidth()/2}};E.verbose("Setting the initial animation position as behind",S,e),k.css({transform:"rotateY(0deg)"}),S.addClass(h.animating).css({display:"block",left:e.origin+"px",transform:"rotateY(-180deg)"})}},setting:function(t,n){if(E.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,r,t);else{if(n===i)return r[t];r[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,E,t);else{if(n===i)return E[t];E[t]=n}},debug:function(){r.debug&&(r.performance?E.performance.log(arguments):(E.debug=Function.prototype.bind.call(console.info,console,r.name+":"),E.debug.apply(console,arguments)))},verbose:function(){r.verbose&&r.debug&&(r.performance?E.performance.log(arguments):(E.verbose=Function.prototype.bind.call(console.info,console,r.name+":"),E.verbose.apply(console,arguments)))},error:function(){E.error=Function.prototype.bind.call(console.error,console,r.name+":"),E.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;r.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,c.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:A,"Execution Time":n})),clearTimeout(E.performance.timer),E.performance.timer=setTimeout(E.performance.display,100);

},display:function(){var n=r.name+":",o=0;s=!1,clearTimeout(E.performance.timer),e.each(c,function(e,t){o+=t["Execution Time"]}),n+=" "+o+"ms",t&&(n+=" '"+t+"'"),a.length>1&&(n+=" ("+a.length+")"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(n),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(t,n,o){var a=P,r,s,c;return n=n||d,o=A||o,"string"==typeof t&&a!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var c=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(a[c])&&n!=r)a=a[c];else{if(a[c]!==i)return s=a[c],!1;if(!e.isPlainObject(a[o])||n==r)return a[o]!==i?(s=a[o],!1):!1;a=a[o]}})),e.isFunction(s)?c=s.apply(o,n):s!==i&&(c=s),e.isArray(f)?f.push(c):f!==i?f=[f,c]:c!==i&&(f=c),s}},u?(P===i&&E.initialize(),E.invoke(l)):(P!==i&&P.invoke("destroy"),E.initialize())}),f!==i?f:this},e.fn.shape.settings={name:"Shape",debug:!1,verbose:!0,performance:!0,namespace:"shape",beforeChange:function(){},onChange:function(){},allowRepeats:!1,duration:700,error:{side:"You tried to switch to a side that does not exist.",method:"The method you called is not defined"},className:{animating:"animating",hidden:"hidden",loading:"loading",active:"active"},selector:{sides:".sides",side:".side"}}}(n,window,document),function(e,t,n,i){"use strict";e.fn.sidebar=function(o){var a=e(this),r=e(t),s=e(n),c=e("html"),l=e("head"),u=a.selector||"",d=(new Date).getTime(),m=[],f=arguments[0],g="string"==typeof f,p=[].slice.call(arguments,1),v=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)},h;return a.each(function(){var a=e.isPlainObject(o)?e.extend(!0,{},e.fn.sidebar.settings,o):e.extend({},e.fn.sidebar.settings),b=a.selector,y=a.className,x=a.namespace,w=a.regExp,C=a.error,T="."+x,k="module-"+x,S=e(this),A=e(a.context),P=S.children(b.sidebar),E=A.children(b.fixed),F=A.children(b.pusher),R,O=this,D=S.data(k),z,q,j,N,I;I={initialize:function(){I.debug("Initializing sidebar",o),I.create.id(),N=I.get.transitionEvent(),("auto"==a.useLegacy&&I.is.legacy()||a.useLegacy===!0)&&(a.transition="overlay",a.useLegacy=!0),I.is.ios()&&I.set.ios(),a.delaySetup?v(I.setup.layout):I.setup.layout(),I.instantiate()},instantiate:function(){I.verbose("Storing instance of module",I),D=I,S.data(k,I)},create:{id:function(){q=(Math.random().toString(16)+"000000000").substr(2,8),z="."+q,I.verbose("Creating unique id for element",q)}},destroy:function(){I.verbose("Destroying previous module for",S),I.remove.direction(),S.off(T).removeData(k),A.off(z),r.off(z),s.off(z)},event:{clickaway:function(e){var t=F.find(e.target).length>0||F.is(e.target),n=A.is(e.target);t&&(I.verbose("User clicked on dimmed page"),I.hide()),n&&(I.verbose("User clicked on dimmable context (scaled out page)"),I.hide())},touch:function(e){},containScroll:function(e){O.scrollTop<=0&&(O.scrollTop=1),O.scrollTop+O.offsetHeight>=O.scrollHeight&&(O.scrollTop=O.scrollHeight-O.offsetHeight-1)},scroll:function(t){0===e(t.target).closest(b.sidebar).length&&t.preventDefault()}},bind:{clickaway:function(){I.verbose("Adding clickaway events to context",A),a.closable&&A.on("click"+z,I.event.clickaway).on("touchend"+z,I.event.clickaway)},scrollLock:function(){a.scrollLock&&(I.debug("Disabling page scroll"),r.on("DOMMouseScroll"+z,I.event.scroll)),I.verbose("Adding events to contain sidebar scroll"),s.on("touchmove"+z,I.event.touch),S.on("scroll"+T,I.event.containScroll)}},unbind:{clickaway:function(){I.verbose("Removing clickaway events from context",A),A.off(z)},scrollLock:function(){I.verbose("Removing scroll lock from page"),s.off(z),r.off(z),S.off("scroll"+T)}},add:{bodyCSS:function(){var t=S.outerWidth(),n=S.outerHeight(),i=I.get.direction(),o={left:t,right:-t,top:n,bottom:-n},a;I.is.rtl()&&(I.verbose("RTL detected, flipping widths"),o.left=-t,o.right=t),a='<style title="'+x+'">',"left"===i||"right"===i?(I.debug("Adding CSS rules for animation distance",t),a+=" .ui.visible."+i+".sidebar ~ .fixed, .ui.visible."+i+".sidebar ~ .pusher {   -webkit-transform: translate3d("+o[i]+"px, 0, 0);           transform: translate3d("+o[i]+"px, 0, 0); }"):("top"===i||"bottom"==i)&&(a+=" .ui.visible."+i+".sidebar ~ .fixed, .ui.visible."+i+".sidebar ~ .pusher {   -webkit-transform: translate3d(0, "+o[i]+"px, 0);           transform: translate3d(0, "+o[i]+"px, 0); }"),I.is.ie()&&("left"===i||"right"===i?(I.debug("Adding CSS rules for animation distance",t),a+=" body.pushable > .ui.visible."+i+".sidebar ~ .pusher:after {   -webkit-transform: translate3d("+o[i]+"px, 0, 0);           transform: translate3d("+o[i]+"px, 0, 0); }"):("top"===i||"bottom"==i)&&(a+=" body.pushable > .ui.visible."+i+".sidebar ~ .pusher:after {   -webkit-transform: translate3d(0, "+o[i]+"px, 0);           transform: translate3d(0, "+o[i]+"px, 0); }"),a+=" body.pushable > .ui.visible.left.sidebar ~ .ui.visible.right.sidebar ~ .pusher:after, body.pushable > .ui.visible.right.sidebar ~ .ui.visible.left.sidebar ~ .pusher:after {   -webkit-transform: translate3d(0px, 0, 0);           transform: translate3d(0px, 0, 0); }"),a+="</style>",l.append(a),R=e("style[title="+x+"]"),I.debug("Adding sizing css to head",R)}},refresh:function(){I.verbose("Refreshing selector cache"),A=e(a.context),P=A.children(b.sidebar),F=A.children(b.pusher),E=A.children(b.fixed)},refreshSidebars:function(){I.verbose("Refreshing other sidebars"),P=A.children(b.sidebar)},repaint:function(){I.verbose("Forcing repaint event"),O.style.display="none",O.offsetHeight,O.scrollTop=O.scrollTop,O.style.display=""},setup:{layout:function(){0===A.children(b.pusher).length&&(I.debug("Adding wrapper element for sidebar"),I.error(C.pusher),F=e('<div class="pusher" />'),A.children().not(b.omitted).not(P).wrapAll(F),I.refresh()),(0===S.nextAll(b.pusher).length||S.nextAll(b.pusher)[0]!==F[0])&&(I.debug("Moved sidebar to correct parent element"),I.error(C.movedSidebar,O),S.detach().prependTo(A),I.refresh()),I.set.pushable(),I.set.direction()}},attachEvents:function(t,n){var i=e(t);n=e.isFunction(I[n])?I[n]:I.toggle,i.length>0?(I.debug("Attaching sidebar events to element",t,n),i.on("click"+T,n)):I.error(C.notFound,t)},show:function(t){var n=a.useLegacy===!0?I.legacyPushPage:I.pushPage;if(t=e.isFunction(t)?t:function(){},I.is.hidden()){if(I.refreshSidebars(),a.overlay&&(I.error(C.overlay),a.transition="overlay"),I.refresh(),I.othersActive())if(I.debug("Other sidebars currently visible"),a.exclusive){if("overlay"!=a.transition)return void I.hideOthers(I.show);I.hideOthers()}else a.transition="overlay";n(function(){t.call(O),a.onShow.call(O)}),a.onChange.call(O),a.onVisible.call(O)}else I.debug("Sidebar is already visible")},hide:function(t){var n=a.useLegacy===!0?I.legacyPullPage:I.pullPage;t=e.isFunction(t)?t:function(){},(I.is.visible()||I.is.animating())&&(I.debug("Hiding sidebar",t),I.refreshSidebars(),n(function(){t.call(O),a.onHidden.call(O)}),a.onChange.call(O),a.onHide.call(O))},othersAnimating:function(){return P.not(S).filter("."+y.animating).length>0},othersVisible:function(){return P.not(S).filter("."+y.visible).length>0},othersActive:function(){return I.othersVisible()||I.othersAnimating()},hideOthers:function(e){var t=P.not(S).filter("."+y.visible),n=t.length,i=0;e=e||function(){},t.sidebar("hide",function(){i++,i==n&&e()})},toggle:function(){I.verbose("Determining toggled direction"),I.is.hidden()?I.show():I.hide()},pushPage:function(t){var n=I.get.transition(),i="safe"==n?A:"overlay"===n||I.othersActive()?S:F,o,r;t=e.isFunction(t)?t:function(){},"scale down"==a.transition&&I.scrollToTop(),I.set.transition(n),I.repaint(),o=function(){I.bind.clickaway(),I.add.bodyCSS(),I.set.animating(),I.set.visible(),I.othersVisible()||a.dimPage&&F.addClass(y.dimmed)},r=function(e){e.target==i[0]&&(i.off(N+z,r),I.remove.animating(),I.bind.scrollLock(),t.call(O))},i.off(N+z),i.on(N+z,r),v(o)},pullPage:function(t){var n=I.get.transition(),i="safe"==n?A:"overlay"==n||I.othersActive()?S:F,o,r;t=e.isFunction(t)?t:function(){},I.verbose("Removing context push state",I.get.direction()),I.set.transition(n),I.unbind.clickaway(),I.unbind.scrollLock(),o=function(){I.set.animating(),I.remove.visible(),a.dimPage&&!I.othersVisible()&&F.removeClass(y.dimmed)},r=function(e){e.target==i[0]&&(i.off(N+z,r),I.remove.animating(),I.remove.transition(),I.remove.bodyCSS(),("scale down"==n||a.returnScroll&&I.is.mobile())&&I.scrollBack(),t.call(O))},i.off(N+z),i.on(N+z,r),v(o)},legacyPushPage:function(t){var n=S.width(),i=I.get.direction(),o={};n=n||S.width(),t=e.isFunction(t)?t:function(){},o[i]=n,I.debug("Using javascript to push context",o),I.set.visible(),I.set.transition(),I.set.animating(),a.dimPage&&F.addClass(y.dimmed),A.css("position","relative").animate(o,a.duration,a.easing,function(){I.remove.animating(),I.bind.clickaway(),t.call(O)})},legacyPullPage:function(t){var n=0,i=I.get.direction(),o={};n=n||S.width(),t=e.isFunction(t)?t:function(){},o[i]="0px",I.debug("Using javascript to pull context",o),I.unbind.clickaway(),I.set.animating(),I.remove.visible(),a.dimPage&&!I.othersActive()&&F.removeClass(y.dimmed),A.css("position","relative").animate(o,a.duration,a.easing,function(){I.remove.animating(),t.call(O)})},scrollToTop:function(){I.verbose("Scrolling to top of page to avoid animation issues"),j=e(t).scrollTop(),S.scrollTop(0),t.scrollTo(0,0)},scrollBack:function(){I.verbose("Scrolling back to original page position"),t.scrollTo(0,j)},set:{ios:function(){c.addClass(y.ios)},pushed:function(){A.addClass(y.pushed)},pushable:function(){A.addClass(y.pushable)},active:function(){S.addClass(y.active)},animating:function(){S.addClass(y.animating)},transition:function(e){e=e||I.get.transition(),S.addClass(e)},direction:function(e){e=e||I.get.direction(),S.addClass(y[e])},visible:function(){S.addClass(y.visible)},overlay:function(){S.addClass(y.overlay)}},remove:{bodyCSS:function(){I.debug("Removing body css styles",R),R&&R.length>0&&R.remove()},pushed:function(){A.removeClass(y.pushed)},pushable:function(){A.removeClass(y.pushable)},active:function(){S.removeClass(y.active)},animating:function(){S.removeClass(y.animating)},transition:function(e){e=e||I.get.transition(),S.removeClass(e)},direction:function(e){e=e||I.get.direction(),S.removeClass(y[e])},visible:function(){S.removeClass(y.visible)},overlay:function(){S.removeClass(y.overlay)}},get:{direction:function(){return S.hasClass(y.top)?y.top:S.hasClass(y.right)?y.right:S.hasClass(y.bottom)?y.bottom:y.left},transition:function(){var e=I.get.direction(),t;return t=I.is.mobile()?"auto"==a.mobileTransition?a.defaultTransition.mobile[e]:a.mobileTransition:"auto"==a.transition?a.defaultTransition.computer[e]:a.transition,I.verbose("Determined transition",t),t},transitionEvent:function(){var e=n.createElement("element"),t={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"},o;for(o in t)if(e.style[o]!==i)return t[o]}},is:{ie:function(){var e=!t.ActiveXObject&&"ActiveXObject"in t,n="ActiveXObject"in t;return e||n},legacy:function(){var e=n.createElement("div"),o={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"},a;n.body.insertBefore(e,null);for(var r in o)e.style[r]!==i&&(e.style[r]="translate3d(1px,1px,1px)",a=t.getComputedStyle(e).getPropertyValue(o[r]));return n.body.removeChild(e),!(a!==i&&a.length>0&&"none"!==a)},ios:function(){var e=navigator.userAgent,t=e.match(w.ios);return t?(I.verbose("Browser was found to be iOS",e),!0):!1},mobile:function(){var e=navigator.userAgent,t=e.match(w.mobile);return t?(I.verbose("Browser was found to be mobile",e),!0):(I.verbose("Browser is not mobile, using regular transition",e),!1)},hidden:function(){return!I.is.visible()},visible:function(){return S.hasClass(y.visible)},open:function(){return I.is.visible()},closed:function(){return I.is.hidden()},vertical:function(){return S.hasClass(y.top)},animating:function(){return A.hasClass(y.animating)},rtl:function(){return"rtl"==S.css("direction")}},setting:function(t,n){if(I.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,a,t);else{if(n===i)return a[t];a[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,I,t);else{if(n===i)return I[t];I[t]=n}},debug:function(){a.debug&&(a.performance?I.performance.log(arguments):(I.debug=Function.prototype.bind.call(console.info,console,a.name+":"),I.debug.apply(console,arguments)))},verbose:function(){a.verbose&&a.debug&&(a.performance?I.performance.log(arguments):(I.verbose=Function.prototype.bind.call(console.info,console,a.name+":"),I.verbose.apply(console,arguments)))},error:function(){I.error=Function.prototype.bind.call(console.error,console,a.name+":"),I.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;a.performance&&(t=(new Date).getTime(),i=d||t,n=t-i,d=t,m.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:O,"Execution Time":n})),clearTimeout(I.performance.timer),I.performance.timer=setTimeout(I.performance.display,100)},display:function(){var t=a.name+":",n=0;d=!1,clearTimeout(I.performance.timer),e.each(m,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",u&&(t+=" '"+u+"'"),(console.group!==i||console.table!==i)&&m.length>0&&(console.groupCollapsed(t),console.table?console.table(m):e.each(m,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),m=[]}},invoke:function(t,n,o){var a=D,r,s,c;return n=n||p,o=O||o,"string"==typeof t&&a!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var c=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(a[c])&&n!=r)a=a[c];else{if(a[c]!==i)return s=a[c],!1;if(!e.isPlainObject(a[o])||n==r)return a[o]!==i?(s=a[o],!1):(I.error(C.method,t),!1);a=a[o]}})),e.isFunction(s)?c=s.apply(o,n):s!==i&&(c=s),e.isArray(h)?h.push(c):h!==i?h=[h,c]:c!==i&&(h=c),s}},g?(D===i&&I.initialize(),I.invoke(f)):(D!==i&&I.invoke("destroy"),I.initialize())}),h!==i?h:this},e.fn.sidebar.settings={name:"Sidebar",namespace:"sidebar",debug:!1,verbose:!0,performance:!0,transition:"auto",mobileTransition:"auto",defaultTransition:{computer:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"},mobile:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"}},context:"body",exclusive:!1,closable:!0,dimPage:!0,scrollLock:!1,returnScroll:!1,delaySetup:!1,useLegacy:"auto",duration:500,easing:"easeInOutQuint",onChange:function(){},onShow:function(){},onHide:function(){},onHidden:function(){},onVisible:function(){},className:{active:"active",animating:"animating",dimmed:"dimmed",ios:"ios",pushable:"pushable",pushed:"pushed",right:"right",top:"top",left:"left",bottom:"bottom",visible:"visible"},selector:{fixed:".fixed",omitted:"script, link, style, .ui.modal, .ui.dimmer, .ui.nag, .ui.fixed",pusher:".pusher",sidebar:".ui.sidebar"},regExp:{ios:/(iPad|iPhone|iPod)/g,mobile:/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/g},error:{method:"The method you called is not defined.",pusher:"Had to add pusher element. For optimal performance make sure body content is inside a pusher element",movedSidebar:"Had to move sidebar. For optimal performance make sure sidebar and pusher are direct children of your body tag",overlay:"The overlay setting is no longer supported, use animation: overlay",notFound:"There were no elements that matched the specified selector"}},e.extend(e.easing,{easeInOutQuint:function(e,t,n,i,o){return(t/=o/2)<1?i/2*t*t*t*t*t+n:i/2*((t-=2)*t*t*t*t+2)+n}})}(n,window,document),function(e,t,n,i){"use strict";e.fn.sticky=function(n){var o=e(this),a=o.selector||"",r=(new Date).getTime(),s=[],c=arguments[0],l="string"==typeof c,u=[].slice.call(arguments,1),d;return o.each(function(){var o=e.isPlainObject(n)?e.extend(!0,{},e.fn.sticky.settings,n):e.extend({},e.fn.sticky.settings),m=o.className,f=o.namespace,g=o.error,p="."+f,v="module-"+f,h=e(this),b=e(t),y=h.offsetParent(),x=e(o.scrollContext),w,C=h.selector||"",T=h.data(v),k=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)},S=this,A,P;P={initialize:function(){P.determineContext(),P.verbose("Initializing sticky",o,y),P.save.positions(),P.checkErrors(),P.bind.events(),o.observeChanges&&P.observeChanges(),P.instantiate()},instantiate:function(){P.verbose("Storing instance of module",P),T=P,h.data(v,P)},destroy:function(){P.verbose("Destroying previous instance"),P.reset(),A&&A.disconnect(),b.off("load"+p,P.event.load).off("resize"+p,P.event.resize),x.off("scrollchange"+p,P.event.scrollchange),h.removeData(v)},observeChanges:function(){var e=w[0];"MutationObserver"in t&&(A=new MutationObserver(function(e){clearTimeout(P.timer),P.timer=setTimeout(function(){P.verbose("DOM tree modified, updating sticky menu"),P.refresh()},100)}),A.observe(S,{childList:!0,subtree:!0}),A.observe(e,{childList:!0,subtree:!0}),P.debug("Setting up mutation observer",A))},determineContext:function(){return w=o.context?e(o.context):y,0===w.length?void P.error(g.invalidContext,o.context,h):void 0},checkErrors:function(){return P.is.hidden()&&P.error(g.visible,h),P.cache.element.height>P.cache.context.height?(P.reset(),void P.error(g.elementSize,h)):void 0},bind:{events:function(){b.on("load"+p,P.event.load).on("resize"+p,P.event.resize),x.off("scroll"+p).on("scroll"+p,P.event.scroll).on("scrollchange"+p,P.event.scrollchange)}},event:{load:function(){P.verbose("Page contents finished loading"),k(P.refresh)},resize:function(){P.verbose("Window resized"),k(P.refresh)},scroll:function(){k(function(){x.trigger("scrollchange"+p,x.scrollTop())})},scrollchange:function(e,t){P.stick(t),o.onScroll.call(S)}},refresh:function(e){P.reset(),e&&(y=h.offsetParent()),P.save.positions(),P.stick(),o.onReposition.call(S)},supports:{sticky:function(){var t=e("<div/>"),n=t.get();return t.addClass(m.supported),t.css("position").match("sticky")}},save:{lastScroll:function(e){P.lastScroll=e},positions:function(){var e={height:b.height()},t={margin:{top:parseInt(h.css("margin-top"),10),bottom:parseInt(h.css("margin-bottom"),10)},offset:h.offset(),width:h.outerWidth(),height:h.outerHeight()},n={offset:w.offset(),height:w.outerHeight(),bottomPadding:parseInt(w.css("padding-bottom"),10)};P.cache={fits:t.height<e.height,window:{height:e.height},element:{margin:t.margin,top:t.offset.top-t.margin.top,left:t.offset.left,width:t.width,height:t.height,bottom:t.offset.top+t.height},context:{top:n.offset.top,height:n.height,bottomPadding:n.bottomPadding,bottom:n.offset.top+n.height-n.bottomPadding}},P.set.containerSize(),P.set.size(),P.stick(),P.debug("Caching element positions",P.cache)}},get:{direction:function(e){var t="down";return e=e||x.scrollTop(),P.lastScroll!==i&&(P.lastScroll<e?t="down":P.lastScroll>e&&(t="up")),t},scrollChange:function(e){return e=e||x.scrollTop(),P.lastScroll?e-P.lastScroll:0},currentElementScroll:function(){return P.is.top()?Math.abs(parseInt(h.css("top"),10))||0:Math.abs(parseInt(h.css("bottom"),10))||0},elementScroll:function(e){e=e||x.scrollTop();var t=P.cache.element,n=P.cache.window,i=P.get.scrollChange(e),a=t.height-n.height+o.offset,r=P.get.currentElementScroll(),s=r+i,r;return r=P.cache.fits||0>s?0:s>a?a:s}},remove:{offset:function(){h.css("margin-top","")}},set:{offset:function(){P.verbose("Setting offset on element",o.offset),h.css("margin-top",o.offset)},containerSize:function(){var e=y.get(0).tagName;"HTML"===e||"body"==e?y=h.offsetParent():Math.abs(y.height()-P.cache.context.height)>5&&(P.debug("Context has padding, specifying exact height for container",P.cache.context.height),y.css({height:P.cache.context.height}))},scroll:function(e){P.debug("Setting scroll on element",e),P.is.top()&&h.css("bottom","").css("top",-e),P.is.bottom()&&h.css("top","").css("bottom",e)},size:function(){0!==P.cache.element.height&&0!==P.cache.element.width&&h.css({width:P.cache.element.width,height:P.cache.element.height})}},is:{top:function(){return h.hasClass(m.top)},bottom:function(){return h.hasClass(m.bottom)},initialPosition:function(){return!P.is.fixed()&&!P.is.bound()},hidden:function(){return!h.is(":visible")},bound:function(){return h.hasClass(m.bound)},fixed:function(){return h.hasClass(m.fixed)}},stick:function(e){var t=e||x.scrollTop(),n=P.cache,i=n.fits,a=n.element,r=n.window,s=n.context,c=P.is.bottom()&&o.pushing?o.bottomOffset:o.offset,e={top:t+c,bottom:t+c+r.height},l=P.get.direction(e.top),u=i?0:P.get.elementScroll(e.top),d=!i,m=0!==a.height;P.save.lastScroll(e.top),m&&(P.is.initialPosition()?e.top>=s.bottom?(P.debug("Element bottom of container"),P.bindBottom()):e.top>=a.top&&(P.debug("Element passed, fixing element to page"),P.fixTop()):P.is.fixed()?P.is.top()?e.top<a.top?(P.debug("Fixed element reached top of container"),P.setInitialPosition()):a.height+e.top-u>s.bottom?(P.debug("Fixed element reached bottom of container"),P.bindBottom()):d&&P.set.scroll(u):P.is.bottom()&&(e.bottom-a.height<a.top?(P.debug("Bottom fixed rail has reached top of container"),P.setInitialPosition()):e.bottom>s.bottom?(P.debug("Bottom fixed rail has reached bottom of container"),P.bindBottom()):d&&P.set.scroll(u)):P.is.bottom()&&(o.pushing?P.is.bound()&&e.bottom<s.bottom&&(P.debug("Fixing bottom attached element to bottom of browser."),P.fixBottom()):P.is.bound()&&e.top<s.bottom-a.height&&(P.debug("Fixing bottom attached element to top of browser."),P.fixTop())))},bindTop:function(){P.debug("Binding element to top of parent container"),P.remove.offset(),h.css("left","").css("top","").css("margin-bottom","").removeClass(m.fixed).removeClass(m.bottom).addClass(m.bound).addClass(m.top),o.onTop.call(S),o.onUnstick.call(S)},bindBottom:function(){P.debug("Binding element to bottom of parent container"),P.remove.offset(),h.css("left","").css("top","").css("margin-bottom",P.cache.context.bottomPadding).removeClass(m.fixed).removeClass(m.top).addClass(m.bound).addClass(m.bottom),o.onBottom.call(S),o.onUnstick.call(S)},setInitialPosition:function(){P.unfix(),P.unbind()},fixTop:function(){P.debug("Fixing element to top of page"),P.set.offset(),h.css("left",P.cache.element.left).css("bottom","").removeClass(m.bound).removeClass(m.bottom).addClass(m.fixed).addClass(m.top),o.onStick.call(S)},fixBottom:function(){P.debug("Sticking element to bottom of page"),P.set.offset(),h.css("left",P.cache.element.left).css("bottom","").removeClass(m.bound).removeClass(m.top).addClass(m.fixed).addClass(m.bottom),o.onStick.call(S)},unbind:function(){P.debug("Removing absolute position on element"),P.remove.offset(),h.removeClass(m.bound).removeClass(m.top).removeClass(m.bottom)},unfix:function(){P.debug("Removing fixed position on element"),P.remove.offset(),h.removeClass(m.fixed).removeClass(m.top).removeClass(m.bottom),o.onUnstick.call(S)},reset:function(){P.debug("Reseting elements position"),P.unbind(),P.unfix(),P.resetCSS(),P.remove.offset()},resetCSS:function(){h.css({width:"",height:""}),y.css({height:""})},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,o,t);else{if(n===i)return o[t];o[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,P,t);else{if(n===i)return P[t];P[t]=n}},debug:function(){o.debug&&(o.performance?P.performance.log(arguments):(P.debug=Function.prototype.bind.call(console.info,console,o.name+":"),P.debug.apply(console,arguments)))},verbose:function(){o.verbose&&o.debug&&(o.performance?P.performance.log(arguments):(P.verbose=Function.prototype.bind.call(console.info,console,o.name+":"),P.verbose.apply(console,arguments)))},error:function(){P.error=Function.prototype.bind.call(console.error,console,o.name+":"),P.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;o.performance&&(t=(new Date).getTime(),i=r||t,n=t-i,r=t,s.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:S,"Execution Time":n})),clearTimeout(P.performance.timer),P.performance.timer=setTimeout(P.performance.display,0)},display:function(){var t=o.name+":",n=0;r=!1,clearTimeout(P.performance.timer),e.each(s,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",a&&(t+=" '"+a+"'"),(console.group!==i||console.table!==i)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(t,n,o){var a=T,r,s,c;return n=n||u,o=S||o,"string"==typeof t&&a!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var c=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(a[c])&&n!=r)a=a[c];else{if(a[c]!==i)return s=a[c],!1;if(!e.isPlainObject(a[o])||n==r)return a[o]!==i?(s=a[o],!1):!1;a=a[o]}})),e.isFunction(s)?c=s.apply(o,n):s!==i&&(c=s),e.isArray(d)?d.push(c):d!==i?d=[d,c]:c!==i&&(d=c),s}},l?(T===i&&P.initialize(),P.invoke(c)):(T!==i&&T.invoke("destroy"),P.initialize())}),d!==i?d:this},e.fn.sticky.settings={name:"Sticky",namespace:"sticky",debug:!1,verbose:!1,performance:!1,pushing:!1,context:!1,scrollContext:t,offset:0,bottomOffset:0,observeChanges:!0,onReposition:function(){},onScroll:function(){},onStick:function(){},onUnstick:function(){},onTop:function(){},onBottom:function(){},error:{container:"Sticky element must be inside a relative container",visible:"Element is hidden, you must call refresh after element becomes visible",method:"The method you called is not defined.",invalidContext:"Context specified does not exist",elementSize:"Sticky element is larger than its container, cannot create sticky."},className:{bound:"bound",fixed:"fixed",supported:"native",top:"top",bottom:"bottom"}}}(n,window,document),function(e,t,n,i){"use strict";e.fn.tab=function(n){var o=e(e.isFunction(this)?t:this),a=e.isPlainObject(n)?e.extend(!0,{},e.fn.tab.settings,n):e.extend({},e.fn.tab.settings),r=o.selector||"",s=(new Date).getTime(),c=[],l=arguments[0],u="string"==typeof l,d=[].slice.call(arguments,1),m,f;return o.each(function(){var n=a.className,g=a.metadata,p=a.selector,v=a.error,h="."+a.namespace,b="module-"+a.namespace,y=e(this),x={},w=!0,C=0,T,k,S,A,P,E=this,F=y.data(b);m={initialize:function(){m.debug("Initializing tab menu item",y),m.determineTabs(),m.debug("Determining tabs",a.context,k),a.auto&&m.set.auto(),e.isWindow(E)||(m.debug("Attaching tab activation events to element",y),y.on("click"+h,m.event.click)),m.instantiate()},determineTabs:function(){var t;"parent"===a.context?(y.closest(p.ui).length>0?(t=y.closest(p.ui),m.verbose("Using closest UI element for determining parent",t)):t=y,T=t.parent(),m.verbose("Determined parent element for creating context",T)):a.context?(T=e(a.context),m.verbose("Using selector for tab context",a.context,T)):T=e("body"),a.childrenOnly?(k=T.children(p.tabs),m.debug("Searching tab context children for tabs",T,k)):(k=T.find(p.tabs),m.debug("Searching tab context for tabs",T,k))},initializeHistory:function(){if(a.history){if(m.debug("Initializing page state"),e.address===i)return m.error(v.state),!1;if("state"==a.historyType){if(m.debug("Using HTML5 to manage state"),a.path===!1)return m.error(v.path),!1;e.address.history(!0).state(a.path)}e.address.bind("change",m.event.history.change)}},instantiate:function(){m.verbose("Storing instance of module",m),F=m,y.data(b,m)},destroy:function(){m.debug("Destroying tabs",y),y.removeData(b).off(h)},event:{click:function(t){var n=e(this).data(g.tab);n!==i?(a.history?(m.verbose("Updating page state",t),e.address.value(n)):(m.verbose("Changing tab",t),m.changeTab(n)),t.preventDefault()):m.debug("No tab specified")},history:{change:function(t){var n=t.pathNames.join("/")||m.get.initialPath(),o=a.templates.determineTitle(n)||!1;m.performance.display(),m.debug("History change event",n,t),P=t,n!==i&&m.changeTab(n),o&&e.address.title(o)}}},refresh:function(){S&&(m.debug("Refreshing tab",S),m.changeTab(S))},cache:{read:function(e){return e!==i?x[e]:!1},add:function(e,t){e=e||S,m.debug("Adding cached content for",e),x[e]=t},remove:function(e){e=e||S,m.debug("Removing cached content for",e),delete x[e]}},set:{auto:function(){var t="string"==typeof a.path?a.path.replace(/\/$/,"")+"/{$tab}":"/{$tab}";m.verbose("Setting up automatic tab retrieval from server",t),e.isPlainObject(a.apiSettings)?a.apiSettings.url=t:a.apiSettings={url:t}},state:function(t){e.address.value(t)}},changeTab:function(n){var i=t.history&&t.history.pushState,o=i&&a.ignoreFirstLoad&&w,r=a.auto||e.isPlainObject(a.apiSettings),s=r&&!o?m.utilities.pathToArray(n):m.get.defaultPathArray(n);n=m.utilities.arrayToPath(s),e.each(s,function(t,i){var c=s.slice(0,t+1),l=m.utilities.arrayToPath(c),u=m.is.tab(l),d=t+1==s.length,f=m.get.tabElement(l),g,p,h,b;if(m.verbose("Looking for tab",i),u){if(m.verbose("Tab was found",i),S=l,A=m.utilities.filterArray(s,c),d?b=!0:(p=s.slice(0,t+2),h=m.utilities.arrayToPath(p),b=!m.is.tab(h),b&&m.verbose("Tab parameters found",p)),b&&r)return o?(m.debug("Ignoring remote content on first tab load",l),w=!1,m.cache.add(n,f.html()),m.activate.all(l),a.onTabInit.call(f,l,A,P),a.onTabLoad.call(f,l,A,P)):(m.activate.navigation(l),m.content.fetch(l,n)),!1;m.debug("Opened local tab",l),m.activate.all(l),m.cache.read(l)||(m.cache.add(l,!0),m.debug("First time tab loaded calling tab init"),a.onTabInit.call(f,l,A,P)),a.onTabLoad.call(f,l,A,P)}else{if(-1!=n.search("/")||""===n)return m.error(v.missingTab,y,T,l),!1;if(g=e("#"+n+', a[name="'+n+'"]'),l=g.closest("[data-tab]").data("tab"),f=m.get.tabElement(l),g&&g.length>0&&l)return m.debug("No tab found, but deep anchor link present, opening parent tab"),m.activate.all(l),m.cache.read(l)||(m.cache.add(l,!0),m.debug("First time tab loaded calling tab init"),a.onTabInit.call(f,l,A,P)),!1}})},content:{fetch:function(t,o){var r=m.get.tabElement(t),s={dataType:"html",on:"now",onSuccess:function(e){m.cache.add(o,e),m.content.update(t,e),t==S?(m.debug("Content loaded",t),m.activate.tab(t)):m.debug("Content loaded in background",t),a.onTabInit.call(r,t,A,P),a.onTabLoad.call(r,t,A,P)},urlData:{tab:o}},c=r.api("get request")||!1,l=c&&"pending"===c.state(),u,d;o=o||t,d=m.cache.read(o),m.activate.tab(t),a.cache&&d?(m.debug("Showing existing content",o),m.content.update(t,d),a.onTabLoad.call(r,t,A,P)):l?(m.debug("Content is already loading",o),r.addClass(n.loading)):e.api!==i?(u=e.extend(!0,{headers:{"X-Remote":!0}},a.apiSettings,s),m.debug("Retrieving remote content",o,u),r.api(u)):m.error(v.api)},update:function(e,t){m.debug("Updating html for",e);var n=m.get.tabElement(e);n.html(t)}},activate:{all:function(e){m.activate.tab(e),m.activate.navigation(e)},tab:function(e){var t=m.get.tabElement(e);m.verbose("Showing tab content for",t),t.addClass(n.active).siblings(k).removeClass(n.active+" "+n.loading)},navigation:function(e){var t=m.get.navElement(e);m.verbose("Activating tab navigation for",t,e),t.addClass(n.active).siblings(o).removeClass(n.active+" "+n.loading)}},deactivate:{all:function(){m.deactivate.navigation(),m.deactivate.tabs()},navigation:function(){o.removeClass(n.active)},tabs:function(){k.removeClass(n.active+" "+n.loading)}},is:{tab:function(e){return e!==i?m.get.tabElement(e).length>0:!1}},get:{initialPath:function(){return o.eq(0).data(g.tab)||k.eq(0).data(g.tab)},path:function(){return e.address.value()},defaultPathArray:function(e){return m.utilities.pathToArray(m.get.defaultPath(e))},defaultPath:function(e){var t=o.filter("[data-"+g.tab+'^="'+e+'/"]').eq(0),n=t.data(g.tab)||!1;if(n){if(m.debug("Found default tab",n),C<a.maxDepth)return C++,m.get.defaultPath(n);m.error(v.recursion)}else m.debug("No default tabs found for",e,k);return C=0,e},navElement:function(e){return e=e||S,o.filter("[data-"+g.tab+'="'+e+'"]')},tabElement:function(e){var t,n,i,o;return e=e||S,i=m.utilities.pathToArray(e),o=m.utilities.last(i),t=k.filter("[data-"+g.tab+'="'+o+'"]'),n=k.filter("[data-"+g.tab+'="'+e+'"]'),
t.length>0?t:n},tab:function(){return S}},utilities:{filterArray:function(t,n){return e.grep(t,function(t){return-1==e.inArray(t,n)})},last:function(t){return e.isArray(t)?t[t.length-1]:!1},pathToArray:function(e){return e===i&&(e=S),"string"==typeof e?e.split("/"):[e]},arrayToPath:function(t){return e.isArray(t)?t.join("/"):!1}},setting:function(t,n){if(m.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,a,t);else{if(n===i)return a[t];a[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,m,t);else{if(n===i)return m[t];m[t]=n}},debug:function(){a.debug&&(a.performance?m.performance.log(arguments):(m.debug=Function.prototype.bind.call(console.info,console,a.name+":"),m.debug.apply(console,arguments)))},verbose:function(){a.verbose&&a.debug&&(a.performance?m.performance.log(arguments):(m.verbose=Function.prototype.bind.call(console.info,console,a.name+":"),m.verbose.apply(console,arguments)))},error:function(){m.error=Function.prototype.bind.call(console.error,console,a.name+":"),m.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;a.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,c.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:E,"Execution Time":n})),clearTimeout(m.performance.timer),m.performance.timer=setTimeout(m.performance.display,100)},display:function(){var t=a.name+":",n=0;s=!1,clearTimeout(m.performance.timer),e.each(c,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",r&&(t+=" '"+r+"'"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(t,n,o){var a=F,r,s,c;return n=n||d,o=E||o,"string"==typeof t&&a!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var c=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(a[c])&&n!=r)a=a[c];else{if(a[c]!==i)return s=a[c],!1;if(!e.isPlainObject(a[o])||n==r)return a[o]!==i?(s=a[o],!1):(m.error(v.method,t),!1);a=a[o]}})),e.isFunction(s)?c=s.apply(o,n):s!==i&&(c=s),e.isArray(f)?f.push(c):f!==i?f=[f,c]:c!==i&&(f=c),s}},u?(F===i&&m.initialize(),m.invoke(l)):(F!==i&&F.invoke("destroy"),m.initialize())}),m&&!u&&m.initializeHistory(),f!==i?f:this},e.tab=function(){e(t).tab.apply(this,arguments)},e.fn.tab.settings={name:"Tab",namespace:"tab",debug:!1,verbose:!0,performance:!0,auto:!1,history:!1,historyType:"hash",path:!1,context:!1,childrenOnly:!1,maxDepth:25,alwaysRefresh:!1,cache:!0,ignoreFirstLoad:!1,apiSettings:!1,onTabInit:function(e,t,n){},onTabLoad:function(e,t,n){},templates:{determineTitle:function(e){}},error:{api:"You attempted to load content without API module",method:"The method you called is not defined",missingTab:"Activated tab cannot be found for this context.",noContent:"The tab you specified is missing a content url.",path:"History enabled, but no path was specified",recursion:"Max recursive depth reached",state:"History requires Asual's Address library <https://github.com/asual/jquery-address>"},metadata:{tab:"tab",loaded:"loaded",promise:"promise"},className:{loading:"loading",active:"active"},selector:{tabs:".ui.tab",ui:".ui"}}}(n,window,document),function(e,t,n,i){"use strict";e.fn.transition=function(){var o=e(this),a=o.selector||"",r=(new Date).getTime(),s=[],c=arguments,l=c[0],u=[].slice.call(arguments,1),d="string"==typeof l,m=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)},f;return o.each(function(t){var m=e(this),g=this,p,v,h,b,y,x,w,C,T,k,S,A;A={initialize:function(){p=A.get.settings.apply(g,c),b=p.className,h=p.error,y=p.metadata,S="."+p.namespace,k="module-"+p.namespace,v=m.data(k)||A,w=A.get.animationEndEvent(),C=A.get.animationName(),x=A.get.animationStartEvent(),d&&(d=A.invoke(l)),d===!1&&(A.verbose("Converted arguments into settings object",p),p.interval?A.delay(p.animate):A.animate(),A.instantiate())},instantiate:function(){A.verbose("Storing instance of module",A),v=A,m.data(k,v)},destroy:function(){A.verbose("Destroying previous module for",g),m.removeData(k)},refresh:function(){A.verbose("Refreshing display type on next animation"),delete A.displayType},forceRepaint:function(){A.verbose("Forcing element repaint");var e=m.parent(),t=m.next();0===t.length?m.detach().appendTo(e):m.detach().insertBefore(t)},repaint:function(){A.verbose("Repainting element");var e=g.offsetWidth},delay:function(e){var n=p.reverse===!0,a="auto"==p.reverse&&A.get.direction()==b.outward,r;e=typeof e!==i?e:p.interval,r=n||a?(o.length-t)*p.interval:t*p.interval,A.debug("Delaying animation by",r),setTimeout(A.animate,r)},animate:function(e){if(p=e||p,!A.is.supported())return A.error(h.support),!1;if(A.debug("Preparing animation",p.animation),A.is.animating()){if(p.queue)return!p.allowRepeats&&A.has.direction()&&A.is.occurring()&&A.queuing!==!0?A.debug("Animation is currently occurring, preventing queueing same animation",p.animation):A.queue(p.animation),!1;if(!p.allowRepeats&&A.is.occurring())return A.debug("Animation is already occurring, will not execute repeated animation",p.animation),!1;A.debug("New animation started, completing previous early",p.animation),A.complete()}A.can.animate()?A.set.animating(p.animation):A.error(h.noAnimation,p.animation,g)},reset:function(){A.debug("Resetting animation to beginning conditions"),A.remove.animationCallbacks(),A.restore.conditions(),A.remove.animating()},queue:function(e){A.debug("Queueing animation of",e),A.queuing=!0,m.one(w+".queue"+S,function(){A.queuing=!1,A.repaint(),A.animate.apply(this,p)})},complete:function(e){A.debug("Animation complete",p.animation),A.remove.completeCallback(),A.remove.failSafe(),A.is.looping()||(A.is.outward()?(A.verbose("Animation is outward, hiding element"),A.restore.conditions(),A.hide(),p.onHide.call(this)):A.is.inward()?(A.verbose("Animation is outward, showing element"),A.restore.conditions(),A.show(),p.onShow.call(this)):A.restore.conditions(),A.remove.animation(),A.remove.animating()),p.onComplete.call(this)},has:{direction:function(t){var n=!1;return t=t||p.animation,"string"==typeof t&&(t=t.split(" "),e.each(t,function(e,t){(t===b.inward||t===b.outward)&&(n=!0)})),n},inlineDisplay:function(){var t=m.attr("style")||"";return e.isArray(t.match(/display.*?;/,""))}},set:{animating:function(e){e=e||p.animation,A.is.animating()||A.save.conditions(),A.remove.direction(),A.remove.completeCallback(),A.can.transition()&&!A.has.direction()&&A.set.direction(),A.remove.hidden(),A.set.display(),m.addClass(b.animating+" "+b.transition+" "+e).addClass(e).one(w+".complete"+S,A.complete),p.useFailSafe&&A.add.failSafe(),A.set.duration(p.duration),p.onStart.call(this),A.debug("Starting tween",e,m.attr("class"))},duration:function(e,t){t=t||p.duration,t="number"==typeof t?t+"ms":t,(t||0===t)&&(A.verbose("Setting animation duration",t),m.css({"-webkit-animation-duration":t,"-moz-animation-duration":t,"-ms-animation-duration":t,"-o-animation-duration":t,"animation-duration":t}))},display:function(){var e=A.get.style(),t=A.get.displayType(),n=e+"display: "+t+" !important;";m.css("display",""),A.refresh(),m.css("display")!==t&&(A.verbose("Setting inline visibility to",t),m.attr("style",n))},direction:function(){m.is(":visible")&&!A.is.hidden()?(A.debug("Automatically determining the direction of animation","Outward"),m.removeClass(b.inward).addClass(b.outward)):(A.debug("Automatically determining the direction of animation","Inward"),m.removeClass(b.outward).addClass(b.inward))},looping:function(){A.debug("Transition set to loop"),m.addClass(b.looping)},hidden:function(){A.is.hidden()||m.addClass(b.transition).addClass(b.hidden),"none"!==m.css("display")&&(A.verbose("Overriding default display to hide element"),m.css("display","none"))},visible:function(){m.addClass(b.transition).addClass(b.visible)}},save:{displayType:function(e){m.data(y.displayType,e)},transitionExists:function(t,n){e.fn.transition.exists[t]=n,A.verbose("Saving existence of transition",t,n)},conditions:function(){var e=m.attr("class")||!1,t=m.attr("style")||"";m.removeClass(p.animation),A.remove.direction(),A.cache={className:m.attr("class"),style:A.get.style()},A.verbose("Saving original attributes",A.cache)}},restore:{conditions:function(){return A.cache===i?!1:(A.cache.className?m.attr("class",A.cache.className):m.removeAttr("class"),A.cache.style?(A.verbose("Restoring original style attribute",A.cache.style),m.attr("style",A.cache.style)):(A.verbose("Clearing style attribute"),m.removeAttr("style")),void A.verbose("Restoring original attributes",A.cache))}},add:{failSafe:function(){var e=A.get.duration();A.timer=setTimeout(function(){m.trigger(w)},e+p.failSafeDelay),A.verbose("Adding fail safe timer",A.timer)}},remove:{animating:function(){m.removeClass(b.animating)},animation:function(){m.css({"-webkit-animation":"","-moz-animation":"","-ms-animation":"","-o-animation":"",animation:""})},animationCallbacks:function(){A.remove.queueCallback(),A.remove.completeCallback()},queueCallback:function(){m.off(".queue"+S)},completeCallback:function(){m.off(".complete"+S)},display:function(){m.css("display","")},direction:function(){m.removeClass(b.inward).removeClass(b.outward)},failSafe:function(){A.verbose("Removing fail safe timer",A.timer),A.timer&&clearTimeout(A.timer)},hidden:function(){m.removeClass(b.hidden)},visible:function(){m.removeClass(b.visible)},looping:function(){A.debug("Transitions are no longer looping"),A.is.looping()&&(A.reset(),m.removeClass(b.looping))},transition:function(){m.removeClass(b.visible).removeClass(b.hidden)}},get:{settings:function(t,n,i){return"object"==typeof t?e.extend(!0,{},e.fn.transition.settings,t):"function"==typeof i?e.extend({},e.fn.transition.settings,{animation:t,onComplete:i,duration:n}):"string"==typeof n||"number"==typeof n?e.extend({},e.fn.transition.settings,{animation:t,duration:n}):"object"==typeof n?e.extend({},e.fn.transition.settings,n,{animation:t}):"function"==typeof n?e.extend({},e.fn.transition.settings,{animation:t,onComplete:n}):e.extend({},e.fn.transition.settings,{animation:t});return e.fn.transition.settings},direction:function(t){return t=t||p.animation,"string"==typeof t&&(t=t.split(" "),e.each(t,function(e,t){return t===b.inward?b.inward:t===b.outward?b.outward:void 0})),A.can.transition()?m.is(":visible")&&!A.is.hidden()?b.outward:b.inward:"static"},duration:function(e){return e=e||p.duration,e===!1&&(e=m.css("animation-duration")||0),"string"==typeof e?e.indexOf("ms")>-1?parseFloat(e):1e3*parseFloat(e):e},displayType:function(){return p.displayType?p.displayType:(m.data(y.displayType)===i&&A.can.transition(!0),m.data(y.displayType))},style:function(){var e=m.attr("style")||"";return e.replace(/display.*?;/,"")},transitionExists:function(t){return e.fn.transition.exists[t]},animationName:function(){var e=n.createElement("div"),t={animation:"animationName",OAnimation:"oAnimationName",MozAnimation:"mozAnimationName",WebkitAnimation:"webkitAnimationName"},o;for(o in t)if(e.style[o]!==i)return t[o];return!1},animationStartEvent:function(){var e=n.createElement("div"),t={animation:"animationstart",OAnimation:"oAnimationStart",MozAnimation:"mozAnimationStart",WebkitAnimation:"webkitAnimationStart"},o;for(o in t)if(e.style[o]!==i)return t[o];return!1},animationEndEvent:function(){var e=n.createElement("div"),t={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"},o;for(o in t)if(e.style[o]!==i)return t[o];return!1}},can:{transition:function(t){var n=m.attr("class"),o=m.prop("tagName"),a=p.animation,r=A.get.transitionExists(a),s,c,l,u,d;if(r===i||t){if(A.verbose("Determining whether animation exists"),s=e("<"+o+" />").addClass(n).insertAfter(m),c=s.addClass(a).removeClass(b.inward).removeClass(b.outward).addClass(b.animating).addClass(b.transition).css(C),l=s.addClass(b.inward).css(C),d=s.attr("class",n).removeAttr("style").removeClass(b.hidden).removeClass(b.visible).show().css("display"),A.verbose("Determining final display state",d),A.save.displayType(d),s.remove(),c!=l)A.debug("Direction exists for animation",a),u=!0;else{if("none"==c||!c)return void A.debug("No animation defined in css",a);A.debug("Static animation found",a,d),u=!1}A.save.transitionExists(a,u)}return r!==i?r:u},animate:function(){return A.can.transition()!==i}},is:{animating:function(){return m.hasClass(b.animating)},inward:function(){return m.hasClass(b.inward)},outward:function(){return m.hasClass(b.outward)},looping:function(){return m.hasClass(b.looping)},occurring:function(e){return e=e||p.animation,e="."+e.replace(" ","."),m.filter(e).length>0},visible:function(){return m.is(":visible")},hidden:function(){return"hidden"===m.css("visibility")},supported:function(){return C!==!1&&w!==!1}},hide:function(){A.verbose("Hiding element"),A.is.animating()&&A.reset(),A.remove.display(),A.remove.visible(),A.set.hidden(),A.repaint()},show:function(e){A.verbose("Showing element",e),A.remove.hidden(),A.set.visible(),A.set.display(),A.repaint()},toggle:function(){A.is.visible()?A.hide():A.show()},stop:function(){A.debug("Stopping current animation"),m.trigger(w)},stopAll:function(){A.debug("Stopping all animation"),A.remove.queueCallback(),m.trigger(w)},clear:{queue:function(){A.debug("Clearing animation queue"),A.remove.queueCallback()}},enable:function(){A.verbose("Starting animation"),m.removeClass(b.disabled)},disable:function(){A.debug("Stopping animation"),m.addClass(b.disabled)},setting:function(t,n){if(A.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,p,t);else{if(n===i)return p[t];p[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,A,t);else{if(n===i)return A[t];A[t]=n}},debug:function(){p.debug&&(p.performance?A.performance.log(arguments):(A.debug=Function.prototype.bind.call(console.info,console,p.name+":"),A.debug.apply(console,arguments)))},verbose:function(){p.verbose&&p.debug&&(p.performance?A.performance.log(arguments):(A.verbose=Function.prototype.bind.call(console.info,console,p.name+":"),A.verbose.apply(console,arguments)))},error:function(){A.error=Function.prototype.bind.call(console.error,console,p.name+":"),A.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;p.performance&&(t=(new Date).getTime(),i=r||t,n=t-i,r=t,s.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:g,"Execution Time":n})),clearTimeout(A.performance.timer),A.performance.timer=setTimeout(A.performance.display,100)},display:function(){var t=p.name+":",n=0;r=!1,clearTimeout(A.performance.timer),e.each(s,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",a&&(t+=" '"+a+"'"),o.length>1&&(t+=" ("+o.length+")"),(console.group!==i||console.table!==i)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(t,n,o){var a=v,r,s,c;return n=n||u,o=g||o,"string"==typeof t&&a!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var c=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(a[c])&&n!=r)a=a[c];else{if(a[c]!==i)return s=a[c],!1;if(!e.isPlainObject(a[o])||n==r)return a[o]!==i?(s=a[o],!1):!1;a=a[o]}})),e.isFunction(s)?c=s.apply(o,n):s!==i&&(c=s),e.isArray(f)?f.push(c):f!==i?f=[f,c]:c!==i&&(f=c),s!==i?s:!1}},A.initialize()}),f!==i?f:this},e.fn.transition.exists={},e.fn.transition.settings={name:"Transition",debug:!1,verbose:!0,performance:!0,namespace:"transition",interval:0,reverse:"auto",onStart:function(){},onComplete:function(){},onShow:function(){},onHide:function(){},useFailSafe:!0,failSafeDelay:100,allowRepeats:!1,displayType:!1,animation:"fade",duration:!1,queue:!0,metadata:{displayType:"display"},className:{animating:"animating",disabled:"disabled",hidden:"hidden",inward:"in",loading:"loading",looping:"looping",outward:"out",transition:"transition",visible:"visible"},error:{noAnimation:"There is no css animation matching the one you specified.",repeated:"That animation is already occurring, cancelling repeated animation",method:"The method you called is not defined",support:"This browser does not support CSS animations"}}}(n,window,document),function(e,t,n,i){"use strict";e.fn.video=function(n){var o=e(this),a=o.selector||"",r=(new Date).getTime(),s=[],c=arguments[0],l="string"==typeof c,u=[].slice.call(arguments,1),d=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)},m;return o.each(function(){var d=e.isPlainObject(n)?e.extend(!0,{},e.fn.video.settings,n):e.extend({},e.fn.video.settings),f=d.selector,g=d.className,p=d.error,v=d.metadata,h=d.namespace,b=d.templates,y="."+h,x="module-"+h,w=e(t),C=e(this),T=C.find(f.placeholder),k=C.find(f.playButton),S=C.find(f.embed),A=this,P=C.data(x),E;E={initialize:function(){E.debug("Initializing video"),E.create(),T.on("click"+y,E.play),k.on("click"+y,E.play),E.instantiate()},instantiate:function(){E.verbose("Storing instance of module",E),P=E,C.data(x,E)},create:function(){var e=C.data(v.image),t=b.video(e);C.html(t),E.refresh(),e||E.play(),E.debug("Creating html for video element",t)},destroy:function(){E.verbose("Destroying previous instance of video"),E.reset(),C.removeData(x).off(y),T.off(y),k.off(y)},refresh:function(){E.verbose("Refreshing selector cache"),T=C.find(f.placeholder),k=C.find(f.playButton),S=C.find(f.embed)},change:function(e,t,n){E.debug("Changing video to ",e,t,n),C.data(v.source,e).data(v.id,t).data(v.url,n),d.onChange()},reset:function(){E.debug("Clearing video embed and showing placeholder"),C.removeClass(g.active),S.html(" "),T.show(),d.onReset()},play:function(){E.debug("Playing video");var e=C.data(v.source)||!1,t=C.data(v.url)||!1,n=C.data(v.id)||!1;S.html(E.generate.html(e,n,t)),C.addClass(g.active),d.onPlay()},get:{source:function(e){return"string"!=typeof e?!1:-1!==e.search("youtube.com")?"youtube":-1!==e.search("vimeo.com")?"vimeo":!1},id:function(e){return e.match(d.regExp.youtube)?e.match(d.regExp.youtube)[1]:e.match(d.regExp.vimeo)?e.match(d.regExp.vimeo)[2]:!1}},generate:{html:function(e,t,n){E.debug("Generating embed html");var i;return e=e||d.source,t=t||d.id,e&&t||n?(e&&t||(e=E.get.source(n),t=E.get.id(n)),"vimeo"==e?i='<iframe src="//player.vimeo.com/video/'+t+"?="+E.generate.url(e)+'" width="100%" height="100%" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>':"youtube"==e&&(i='<iframe src="//www.youtube.com/embed/'+t+"?="+E.generate.url(e)+'" width="100%" height="100%" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>')):E.error(p.noVideo),i},url:function(e){var t=d.api?1:0,n="auto"===d.autoplay?C.data("image")!==i:d.autoplay,o=d.hd?1:0,a=d.showUI?1:0,r=d.showUI?0:1,s="";return"vimeo"==e&&(s="api="+t+"&amp;title="+a+"&amp;byline="+a+"&amp;portrait="+a+"&amp;autoplay="+n,d.color&&(s+="&amp;color="+d.color)),"ustream"==e?(s="autoplay="+n,d.color&&(s+="&amp;color="+d.color)):"youtube"==e&&(s="enablejsapi="+t+"&amp;autoplay="+n+"&amp;autohide="+r+"&amp;hq="+o+"&amp;modestbranding=1",d.color&&(s+="&amp;color="+d.color)),s}},setting:function(t,n){if(E.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,d,t);else{if(n===i)return d[t];d[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,E,t);else{if(n===i)return E[t];E[t]=n}},debug:function(){d.debug&&(d.performance?E.performance.log(arguments):(E.debug=Function.prototype.bind.call(console.info,console,d.name+":"),E.debug.apply(console,arguments)))},verbose:function(){d.verbose&&d.debug&&(d.performance?E.performance.log(arguments):(E.verbose=Function.prototype.bind.call(console.info,console,d.name+":"),E.verbose.apply(console,arguments)))},error:function(){E.error=Function.prototype.bind.call(console.error,console,d.name+":"),E.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;d.performance&&(t=(new Date).getTime(),i=r||t,n=t-i,r=t,s.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:A,"Execution Time":n})),clearTimeout(E.performance.timer),E.performance.timer=setTimeout(E.performance.display,100)},display:function(){var t=d.name+":",n=0;r=!1,clearTimeout(E.performance.timer),e.each(s,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",a&&(t+=" '"+a+"'"),o.length>1&&(t+=" ("+o.length+")"),(console.group!==i||console.table!==i)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(t,n,o){var a=P,r,s,c;return n=n||u,o=A||o,"string"==typeof t&&a!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var c=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(a[c])&&n!=r)a=a[c];else{if(a[c]!==i)return s=a[c],!1;if(!e.isPlainObject(a[o])||n==r)return a[o]!==i?(s=a[o],!1):(E.error(p.method,t),!1);a=a[o]}})),e.isFunction(s)?c=s.apply(o,n):s!==i&&(c=s),e.isArray(m)?m.push(c):m!==i?m=[m,c]:c!==i&&(m=c),s}},l?(P===i&&E.initialize(),E.invoke(c)):(P!==i&&P.invoke("destroy"),E.initialize())}),m!==i?m:this},e.fn.video.settings={name:"Video",namespace:"video",debug:!1,verbose:!0,performance:!0,metadata:{id:"id",image:"image",source:"source",url:"url"},source:!1,url:!1,id:!1,aspectRatio:16/9,onPlay:function(){},onReset:function(){},onChange:function(){},onPause:function(){},onStop:function(){},width:"auto",height:"auto",autoplay:"auto",color:"#442359",hd:!0,showUI:!1,api:!0,regExp:{youtube:/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/,vimeo:/http:\/\/(www\.)?vimeo.com\/(\d+)($|\/)/},error:{noVideo:"No video specified",method:"The method you called is not defined"},className:{active:"active"},selector:{embed:".embed",placeholder:".placeholder",playButton:".play"}},e.fn.video.settings.templates={video:function(e){var t="";return e&&(t+='<i class="video play icon"></i><img class="placeholder" src="'+e+'">'),t+='<div class="embed"></div>'}}}(n,window,document),function(e,t,n,i){"use strict";e.api=e.fn.api=function(n){var o=e(e.isFunction(this)?t:this),a=o.selector||"",r=(new Date).getTime(),s=[],c=arguments[0],l="string"==typeof c,u=[].slice.call(arguments,1),d;return o.each(function(){var t=e.isPlainObject(n)?e.extend(!0,{},e.fn.api.settings,n):e.extend({},e.fn.api.settings),o=t.namespace,m=t.metadata,f=t.selector,g=t.error,p=t.className,v="."+o,h="module-"+o,b=e(this),y=b.closest(f.form),x=t.stateContext?e(t.stateContext):b,w,C,T,k,S=this,A=x.get(),P=b.data(h),E;E={initialize:function(){var e=E.get.event();l||(e?(E.debug("Attaching API events to element",e),b.on(e+v,E.event.trigger)):"now"==t.on&&(E.debug("Querying API now",e),E.query())),E.instantiate()},instantiate:function(){E.verbose("Storing instance of module",E),P=E,b.data(h,P)},destroy:function(){E.verbose("Destroying previous module for",S),b.removeData(h).off(v)},query:function(){if(E.is.disabled())return void E.debug("Element is disabled API request aborted");if(E.is.loading()&&0===t.throttle)return void E.debug("Cancelling request, previous request is still pending");if(t.defaultData&&e.extend(!0,t.urlData,E.get.defaultData()),(t.serializeForm!==!1||x.is("form"))&&("json"==t.serializeForm?e.extend(!0,t.data,E.get.formData()):t.data=E.get.formData()),C=E.get.settings(),C===!1)return E.cancelled=!0,void E.error(g.beforeSend);if(E.cancelled=!1,t.url?(E.debug("Using specified url",T),T=E.add.urlData(t.url)):(T=E.add.urlData(E.get.templateURL()),E.debug("Added URL Data to url",T)),!T){if(!E.is.form())return void E.error(g.missingURL,t.action);T=b.attr("action")||"",E.debug("No url or action specified, defaulting to form action",T)}E.set.loading(),w=e.extend(!0,{},t,{type:t.method||t.type,data:k,url:t.base+T,beforeSend:t.beforeXHR,success:function(){},failure:function(){},complete:function(){}}),E.debug("Querying URL",w.url),E.debug("Sending data",k,w.method),E.verbose("Using AJAX settings",w),E.is.loading()?E.timer=setTimeout(function(){E.request=E.create.request(),E.xhr=E.create.xhr(),t.onRequest.call(A,E.request,E.xhr)},t.throttle):(E.request=E.create.request(),E.xhr=E.create.xhr(),t.onRequest.call(A,E.request,E.xhr))},is:{disabled:function(){return b.filter(t.filter).length>0},form:function(){return b.is("form")},input:function(){return b.is("input")},loading:function(){return E.request&&"pending"==E.request.state()}},was:{cancelled:function(){return E.cancelled||!1},succesful:function(){return E.request&&"resolved"==E.request.state()},failure:function(){return E.request&&"rejected"==E.request.state()},complete:function(){return E.request&&("resolved"==E.request.state()||"rejected"==E.request.state())}},add:{urlData:function(n,o){var a,r;return n&&(a=n.match(t.regExp.required),r=n.match(t.regExp.optional),o=o||t.urlData,a&&(E.debug("Looking for required URL variables",a),e.each(a,function(t,a){var r=-1!==a.indexOf("$")?a.substr(2,a.length-3):a.substr(1,a.length-2),s=e.isPlainObject(o)&&o[r]!==i?o[r]:b.data(r)!==i?b.data(r):x.data(r)!==i?x.data(r):o[r];return s===i?(E.error(g.requiredParameter,r,n),n=!1,!1):(E.verbose("Found required variable",r,s),void(n=n.replace(a,s)))})),r&&(E.debug("Looking for optional URL variables",a),e.each(r,function(t,a){var r=-1!==a.indexOf("$")?a.substr(3,a.length-4):a.substr(2,a.length-3),s=e.isPlainObject(o)&&o[r]!==i?o[r]:b.data(r)!==i?b.data(r):x.data(r)!==i?x.data(r):o[r];s!==i?(E.verbose("Optional variable Found",r,s),n=n.replace(a,s)):(E.verbose("Optional variable not found",r),n=-1!==n.indexOf("/"+a)?n.replace("/"+a,""):n.replace(a,""))}))),n}},event:{trigger:function(e){E.query(),("submit"==e.type||"click"==e.type)&&e.preventDefault()},xhr:{always:function(){},done:function(e){var n=this,i=(new Date).getTime()-r,o=t.loadingDuration-i;o=o>0?o:0,setTimeout(function(){E.request.resolveWith(n,[e])},o)},fail:function(e,n,i){var o=this,a=(new Date).getTime()-r,s=t.loadingDuration-a;s=s>0?s:0,setTimeout(function(){"abort"!==n?E.request.rejectWith(o,[e,n,i]):E.reset()},s)}},request:{complete:function(e){E.remove.loading(),t.onComplete.call(A,e,b)},done:function(n){E.debug("API Response Received",n),"json"==t.dataType&&e.isFunction(t.successTest)?(E.debug("Checking JSON returned success",t.successTest,n),t.successTest(n)?t.onSuccess.call(A,n,b):(E.debug("JSON test specified by user and response failed",n),t.onFailure.call(A,n,b))):t.onSuccess.call(A,n,b)},error:function(n,o,a){var r=t.error[o]!==i?t.error[o]:a,s;if(n!==i)if(n.readyState!==i&&4==n.readyState){if(200!=n.status&&a!==i&&""!==a)E.error(g.statusMessage+a,w.url);else if("error"==o&&"json"==t.dataType)try{s=e.parseJSON(n.responseText),s&&s.error!==i&&(r=s.error)}catch(c){E.error(g.JSONParse)}E.remove.loading(),E.set.error(),t.errorDuration&&setTimeout(E.remove.error,t.errorDuration),E.debug("API Request error:",r),t.onError.call(A,r,b)}else t.onAbort.call(A,r,b),E.debug("Request Aborted (Most likely caused by page change or CORS Policy)",o,a)}}},create:{request:function(){return e.Deferred().always(E.event.request.complete).done(E.event.request.done).fail(E.event.request.error)},xhr:function(){return e.ajax(w).always(E.event.xhr.always).done(E.event.xhr.done).fail(E.event.xhr.fail)}},set:{error:function(){E.verbose("Adding error state to element",x),x.addClass(p.error)},loading:function(){E.verbose("Adding loading state to element",x),x.addClass(p.loading)}},remove:{error:function(){E.verbose("Removing error state from element",x),x.removeClass(p.error)},loading:function(){E.verbose("Removing loading state from element",x),x.removeClass(p.loading)}},get:{request:function(){return E.request||!1},xhr:function(){return E.xhr||!1},settings:function(){var e;return e=t.beforeSend.call(b,t),e&&(e.success!==i&&(E.debug("Legacy success callback detected",e),E.error(g.legacyParameters,e.success),e.onSuccess=e.success),e.failure!==i&&(E.debug("Legacy failure callback detected",e),E.error(g.legacyParameters,e.failure),e.onFailure=e.failure),e.complete!==i&&(E.debug("Legacy complete callback detected",e),E.error(g.legacyParameters,e.complete),e.onComplete=e.complete)),e===i&&E.error(g.noReturnedValue),e!==i?e:t},defaultData:function(){var t={};return e.isWindow(S)||(E.is.input()?t.value=b.val():E.is.form()&&(t.text=b.text())),t},event:function(){return e.isWindow(S)||"now"==t.on?(E.debug("API called without element, no events attached"),!1):"auto"==t.on?b.is("input")?S.oninput!==i?"input":S.onpropertychange!==i?"propertychange":"keyup":b.is("form")?"submit":"click":t.on},formData:function(){var e;return b.serializeObject!==i?e=y.serializeObject():(E.error(g.missingSerialize),e=y.serialize()),E.debug("Retrieved form data",e),e},templateURL:function(e){var n;return e=e||b.data(m.action)||t.action||!1,e&&(E.debug("Looking up url for action",e,t.api),t.api[e]!==i?(n=t.api[e],E.debug("Found template url",n)):E.is.form()||E.error(g.missingAction,t.action,t.api)),n}},abort:function(){var e=E.get.xhr();e&&"resolved"!==e.state()&&(E.debug("Cancelling API request"),e.abort(),E.request.rejectWith(t.apiSettings))},reset:function(){E.remove.error(),E.remove.loading()},setting:function(n,o){if(E.debug("Changing setting",n,o),e.isPlainObject(n))e.extend(!0,t,n);else{if(o===i)return t[n];t[n]=o}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,E,t);else{if(n===i)return E[t];E[t]=n}},debug:function(){t.debug&&(t.performance?E.performance.log(arguments):(E.debug=Function.prototype.bind.call(console.info,console,t.name+":"),E.debug.apply(console,arguments)))},verbose:function(){t.verbose&&t.debug&&(t.performance?E.performance.log(arguments):(E.verbose=Function.prototype.bind.call(console.info,console,t.name+":"),E.verbose.apply(console,arguments)))},error:function(){E.error=Function.prototype.bind.call(console.error,console,t.name+":"),E.error.apply(console,arguments)},performance:{log:function(e){var n,i,o;t.performance&&(n=(new Date).getTime(),o=r||n,i=n-o,r=n,s.push({Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":i})),clearTimeout(E.performance.timer),E.performance.timer=setTimeout(E.performance.display,100)},display:function(){var n=t.name+":",o=0;r=!1,clearTimeout(E.performance.timer),e.each(s,function(e,t){o+=t["Execution Time"]}),n+=" "+o+"ms",a&&(n+=" '"+a+"'"),(console.group!==i||console.table!==i)&&s.length>0&&(console.groupCollapsed(n),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(t,n,o){var a=P,r,s,c;return n=n||u,o=S||o,"string"==typeof t&&a!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var c=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(a[c])&&n!=r)a=a[c];else{if(a[c]!==i)return s=a[c],!1;if(!e.isPlainObject(a[o])||n==r)return a[o]!==i?(s=a[o],!1):(E.error(g.method,t),!1);a=a[o]}})),e.isFunction(s)?c=s.apply(o,n):s!==i&&(c=s),e.isArray(d)?d.push(c):d!==i?d=[d,c]:c!==i&&(d=c),s}},l?(P===i&&E.initialize(),E.invoke(c)):(P!==i&&P.invoke("destroy"),E.initialize())}),d!==i?d:this},e.api.settings={name:"API",namespace:"api",debug:!0,verbose:!1,performance:!0,on:"auto",filter:".disabled",stateContext:!1,loadingDuration:0,errorDuration:2e3,action:!1,url:!1,base:"",urlData:{},defaultData:!0,serializeForm:!1,throttle:0,method:"get",data:{},dataType:"json",beforeSend:function(e){return e},beforeXHR:function(e){},onRequest:function(e,t){},onSuccess:function(e,t){},onComplete:function(e,t){},onFailure:function(e,t){},onError:function(e,t){},onAbort:function(e,t){},successTest:!1,error:{beforeSend:"The before send function has aborted the request",error:"There was an error with your request",exitConditions:"API Request Aborted. Exit conditions met",JSONParse:"JSON could not be parsed during error handling",legacyParameters:"You are using legacy API success callback names",method:"The method you called is not defined",missingAction:"API action used but no url was defined",
missingSerialize:"Required dependency jquery-serialize-object missing, using basic serialize",missingURL:"No URL specified for api event",noReturnedValue:"The beforeSend callback must return a settings object, beforeSend ignored.",parseError:"There was an error parsing your request",requiredParameter:"Missing a required URL parameter: ",statusMessage:"Server gave an error: ",timeout:"Your request timed out"},regExp:{required:/\{\$*[A-z0-9]+\}/g,optional:/\{\/\$*[A-z0-9]+\}/g},className:{loading:"loading",error:"error"},selector:{form:"form"},metadata:{action:"action"}},e.api.settings.api={}}(n,window,document),function(e,t,n,i){"use strict";e.fn.state=function(t){var o=e(this),a=o.selector||"",r="ontouchstart"in n.documentElement,s=(new Date).getTime(),c=[],l=arguments[0],u="string"==typeof l,d=[].slice.call(arguments,1),m;return o.each(function(){var n=e.isPlainObject(t)?e.extend(!0,{},e.fn.state.settings,t):e.extend({},e.fn.state.settings),r=n.error,f=n.metadata,g=n.className,p=n.namespace,v=n.states,h=n.text,b="."+p,y=p+"-module",x=e(this),w=this,C=x.data(y),T;T={initialize:function(){T.verbose("Initializing module"),n.automatic&&T.add.defaults(),n.context&&""!==a?e(n.context).on(a,"mouseenter"+b,T.change.text).on(a,"mouseleave"+b,T.reset.text).on(a,"click"+b,T.toggle.state):x.on("mouseenter"+b,T.change.text).on("mouseleave"+b,T.reset.text).on("click"+b,T.toggle.state),T.instantiate()},instantiate:function(){T.verbose("Storing instance of module",T),C=T,x.data(y,T)},destroy:function(){T.verbose("Destroying previous module",C),x.off(b).removeData(y)},refresh:function(){T.verbose("Refreshing selector cache"),x=e(w)},add:{defaults:function(){var o=t&&e.isPlainObject(t.states)?t.states:{};e.each(n.defaults,function(t,a){T.is[t]!==i&&T.is[t]()&&(T.verbose("Adding default states",t,w),e.extend(n.states,a,o))})}},is:{active:function(){return x.hasClass(g.active)},loading:function(){return x.hasClass(g.loading)},inactive:function(){return!x.hasClass(g.active)},state:function(e){return g[e]===i?!1:x.hasClass(g[e])},enabled:function(){return!x.is(n.filter.active)},disabled:function(){return x.is(n.filter.active)},textEnabled:function(){return!x.is(n.filter.text)},button:function(){return x.is(".button:not(a, .submit)")},input:function(){return x.is("input")},progress:function(){return x.is(".ui.progress")}},allow:function(e){T.debug("Now allowing state",e),v[e]=!0},disallow:function(e){T.debug("No longer allowing",e),v[e]=!1},allows:function(e){return v[e]||!1},enable:function(){x.removeClass(g.disabled)},disable:function(){x.addClass(g.disabled)},setState:function(e){T.allows(e)&&x.addClass(g[e])},removeState:function(e){T.allows(e)&&x.removeClass(g[e])},toggle:{state:function(){var t,o;if(T.allows("active")&&T.is.enabled()){if(T.refresh(),e.fn.api!==i)if(t=x.api("get request"),o=x.api("was cancelled"))T.debug("API Request cancelled by beforesend"),n.activateTest=function(){return!1},n.deactivateTest=function(){return!1};else if(t)return void T.listenTo(t);T.change.state()}}},listenTo:function(t){T.debug("API request detected, waiting for state signal",t),t&&(h.loading&&T.update.text(h.loading),e.when(t).then(function(){"resolved"==t.state()?(T.debug("API request succeeded"),n.activateTest=function(){return!0},n.deactivateTest=function(){return!0}):(T.debug("API request failed"),n.activateTest=function(){return!1},n.deactivateTest=function(){return!1}),T.change.state()}))},change:{state:function(){T.debug("Determining state change direction"),T.is.inactive()?T.activate():T.deactivate(),n.sync&&T.sync(),n.onChange.call(w)},text:function(){T.is.textEnabled()&&(T.is.disabled()?(T.verbose("Changing text to disabled text",h.hover),T.update.text(h.disabled)):T.is.active()?h.hover?(T.verbose("Changing text to hover text",h.hover),T.update.text(h.hover)):h.deactivate&&(T.verbose("Changing text to deactivating text",h.deactivate),T.update.text(h.deactivate)):h.hover?(T.verbose("Changing text to hover text",h.hover),T.update.text(h.hover)):h.activate&&(T.verbose("Changing text to activating text",h.activate),T.update.text(h.activate)))}},activate:function(){n.activateTest.call(w)&&(T.debug("Setting state to active"),x.addClass(g.active),T.update.text(h.active),n.onActivate.call(w))},deactivate:function(){n.deactivateTest.call(w)&&(T.debug("Setting state to inactive"),x.removeClass(g.active),T.update.text(h.inactive),n.onDeactivate.call(w))},sync:function(){T.verbose("Syncing other buttons to current state"),o.not(x).state(T.is.active()?"activate":"deactivate")},get:{text:function(){return n.selector.text?x.find(n.selector.text).text():x.html()},textFor:function(e){return h[e]||!1}},flash:{text:function(e,t,i){var o=T.get.text();T.debug("Flashing text message",e,t),e=e||n.text.flash,t=t||n.flashDuration,i=i||function(){},T.update.text(e),setTimeout(function(){T.update.text(o),i.call(w)},t)}},reset:{text:function(){var e=h.active||x.data(f.storedText),t=h.inactive||x.data(f.storedText);T.is.textEnabled()&&(T.is.active()&&e?(T.verbose("Resetting active text",e),T.update.text(e)):t&&(T.verbose("Resetting inactive text",e),T.update.text(t)))}},update:{text:function(e){var t=T.get.text();e&&e!==t?(T.debug("Updating text",e),n.selector.text?x.data(f.storedText,e).find(n.selector.text).text(e):x.data(f.storedText,e).html(e)):T.debug("Text is already set, ignoring update",e)}},setting:function(t,o){if(T.debug("Changing setting",t,o),e.isPlainObject(t))e.extend(!0,n,t);else{if(o===i)return n[t];n[t]=o}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,T,t);else{if(n===i)return T[t];T[t]=n}},debug:function(){n.debug&&(n.performance?T.performance.log(arguments):(T.debug=Function.prototype.bind.call(console.info,console,n.name+":"),T.debug.apply(console,arguments)))},verbose:function(){n.verbose&&n.debug&&(n.performance?T.performance.log(arguments):(T.verbose=Function.prototype.bind.call(console.info,console,n.name+":"),T.verbose.apply(console,arguments)))},error:function(){T.error=Function.prototype.bind.call(console.error,console,n.name+":"),T.error.apply(console,arguments)},performance:{log:function(e){var t,i,o;n.performance&&(t=(new Date).getTime(),o=s||t,i=t-o,s=t,c.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:w,"Execution Time":i})),clearTimeout(T.performance.timer),T.performance.timer=setTimeout(T.performance.display,100)},display:function(){var t=n.name+":",o=0;s=!1,clearTimeout(T.performance.timer),e.each(c,function(e,t){o+=t["Execution Time"]}),t+=" "+o+"ms",a&&(t+=" '"+a+"'"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(t,n,o){var a=C,s,c,l;return n=n||d,o=w||o,"string"==typeof t&&a!==i&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(n,o){var l=n!=s?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(a[l])&&n!=s)a=a[l];else{if(a[l]!==i)return c=a[l],!1;if(!e.isPlainObject(a[o])||n==s)return a[o]!==i?(c=a[o],!1):(T.error(r.method,t),!1);a=a[o]}})),e.isFunction(c)?l=c.apply(o,n):c!==i&&(l=c),e.isArray(m)?m.push(l):m!==i?m=[m,l]:l!==i&&(m=l),c}},u?(C===i&&T.initialize(),T.invoke(l)):(C!==i&&C.invoke("destroy"),T.initialize())}),m!==i?m:this},e.fn.state.settings={name:"State",debug:!1,verbose:!0,namespace:"state",performance:!0,onActivate:function(){},onDeactivate:function(){},onChange:function(){},activateTest:function(){return!0},deactivateTest:function(){return!0},automatic:!0,sync:!1,flashDuration:1e3,filter:{text:".loading, .disabled",active:".disabled"},context:!1,error:{beforeSend:"The before send function has cancelled state change",method:"The method you called is not defined."},metadata:{promise:"promise",storedText:"stored-text"},className:{active:"active",disabled:"disabled",error:"error",loading:"loading",success:"success",warning:"warning"},selector:{text:!1},defaults:{input:{disabled:!0,loading:!0,active:!0},button:{disabled:!0,loading:!0,active:!0},progress:{active:!0,success:!0,warning:!0,error:!0}},states:{active:!0,disabled:!0,error:!0,loading:!0,success:!0,warning:!0},text:{disabled:!1,flash:!1,hover:!1,active:!1,inactive:!1,activate:!1,deactivate:!1}}}(n,window,document),function(e,t,n,i){"use strict";e.fn.visibility=function(o){var a=e(this),r=a.selector||"",s=(new Date).getTime(),c=[],l=arguments[0],u="string"==typeof l,d=[].slice.call(arguments,1),m;return a.each(function(){var a=e.isPlainObject(o)?e.extend(!0,{},e.fn.visibility.settings,o):e.extend({},e.fn.visibility.settings),f=a.className,g=a.namespace,p=a.error,v="."+g,h="module-"+g,b=e(t),y=e(this),x=e(a.context),w=y.selector||"",C=y.data(h),T=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)},k=this,S,A;A={initialize:function(){A.debug("Initializing",a),A.setup.cache(),A.save.position(),A.should.trackChanges()&&(A.bind.events(),"image"==a.type&&A.setup.image(),"fixed"==a.type&&A.setup.fixed(),a.observeChanges&&A.observeChanges(),A.is.visible()||A.error(p.visible,y)),a.initialCheck&&A.checkVisibility(),A.instantiate()},instantiate:function(){A.debug("Storing instance",A),y.data(h,A),C=A},destroy:function(){A.verbose("Destroying previous module"),S&&S.disconnect(),b.off("load"+v,A.event.load).off("resize"+v,A.event.resize),x.off("scrollchange"+v,A.event.scrollchange),y.off(v).removeData(h)},observeChanges:function(){var e=x[0];"MutationObserver"in t&&(S=new MutationObserver(function(e){A.verbose("DOM tree modified, updating visibility calculations"),A.timer=setTimeout(function(){A.verbose("DOM tree modified, updating sticky menu"),A.refresh()},100)}),S.observe(k,{childList:!0,subtree:!0}),A.debug("Setting up mutation observer",S))},bind:{events:function(){A.verbose("Binding visibility events to scroll and resize"),b.on("load"+v,A.event.load).on("resize"+v,A.event.resize),x.off("scroll"+v).on("scroll"+v,A.event.scroll).on("scrollchange"+v,A.event.scrollchange)},imageLoad:function(){var t=y.find("img"),i=t.length,o=i,a=0,r=[],s=[],c=n.createElement("img"),l=function(){a++,a>=i&&(A.debug("Images finished loading inside element, refreshing position"),A.refresh())};if(i>0)for(t.each(function(){r.push(e(this).attr("src"))});o--;)c=n.createElement("img"),c.onload=l,c.onerror=l,c.src=r[o],s.push(c)}},event:{resize:function(){A.debug("Window resized"),T(A.refresh)},load:function(){A.debug("Page finished loading"),T(A.refresh)},scroll:function(){a.throttle?(clearTimeout(A.timer),A.timer=setTimeout(function(){x.trigger("scrollchange"+v,[x.scrollTop()])},a.throttle)):T(function(){x.trigger("scrollchange"+v,[x.scrollTop()])})},scrollchange:function(e,t){A.checkVisibility(t)}},precache:function(t,i){t instanceof Array||(t=[t]);for(var o=t.length,a=0,r=[],s=n.createElement("img"),c=function(){a++,a>=t.length&&e.isFunction(i)&&i()};o--;)s=n.createElement("img"),s.onload=c,s.onerror=c,s.src=t[o],r.push(s)},should:{trackChanges:function(){return u?(A.debug("One time query, no need to bind events"),!1):(A.debug("Callbacks being attached"),!0)}},setup:{cache:function(){A.cache={occurred:{},screen:{},element:{}}},image:function(){var e=y.data("src");e&&(A.verbose("Lazy loading image",e),a.observeChanges=!1,A.topVisible(function(){A.debug("Image top visible",k),A.precache(e,function(){A.set.image(e),a.onTopVisible=!1})}))},fixed:function(){A.verbose("Setting up fixed on element pass"),a.once=!1,a.onTopPassed=function(){y.addClass(f.fixed).css({top:a.offset+"px"}),a.transition&&e.fn.transition!==i&&y.transition(a.transition,a.duration)},a.onTopPassedReverse=function(){y.removeClass(f.fixed).css({position:"",top:""})}}},set:{image:function(t){var n=A.cache.screen.bottom<A.cache.element.top;y.attr("src",t),n?(A.verbose("Image outside browser, no show animation"),y.show()):a.transition?e.fn.transition!==i?y.transition(a.transition,a.duration):y.fadeIn(a.duration):y.show()}},is:{visible:function(){return A.cache&&A.cache.element?A.cache.element.width>0:!1}},refresh:function(){A.debug("Refreshing constants (width/height)"),A.reset(),A.save.position(),A.checkVisibility(),a.onRefresh.call(k)},reset:function(){A.verbose("Reseting all cached values"),e.isPlainObject(A.cache)&&(A.cache.screen={},A.cache.element={})},checkVisibility:function(e){A.verbose("Checking visibility of element",A.cache.element),A.is.visible()&&(A.save.scroll(e),A.save.calculations(),A.passed(),A.passingReverse(),A.topVisibleReverse(),A.bottomVisibleReverse(),A.topPassedReverse(),A.bottomPassedReverse(),A.passing(),A.topVisible(),A.bottomVisible(),A.topPassed(),A.bottomPassed(),a.onUpdate&&a.onUpdate.call(k,A.get.elementCalculations()))},passed:function(t,n){var o=A.get.elementCalculations(),r;if(t!==i&&n!==i)a.onPassed[t]=n;else{if(t!==i)return A.get.pixelsPassed(t)>o.pixelsPassed;o.passing&&e.each(a.onPassed,function(e,t){o.bottomVisible||o.pixelsPassed>A.get.pixelsPassed(e)?A.execute(t,e):a.once||A.remove.occurred(t)})}},passing:function(e){var t=A.get.elementCalculations(),n=e||a.onPassing,o="passing";return e&&(A.debug("Adding callback for passing",e),a.onPassing=e),t.passing?A.execute(n,o):a.once||A.remove.occurred(o),e!==i?t.passing:void 0},topVisible:function(e){var t=A.get.elementCalculations(),n=e||a.onTopVisible,o="topVisible";return e&&(A.debug("Adding callback for top visible",e),a.onTopVisible=e),t.topVisible?A.execute(n,o):a.once||A.remove.occurred(o),e===i?t.topVisible:void 0},bottomVisible:function(e){var t=A.get.elementCalculations(),n=e||a.onBottomVisible,o="bottomVisible";return e&&(A.debug("Adding callback for bottom visible",e),a.onBottomVisible=e),t.bottomVisible?A.execute(n,o):a.once||A.remove.occurred(o),e===i?t.bottomVisible:void 0},topPassed:function(e){var t=A.get.elementCalculations(),n=e||a.onTopPassed,o="topPassed";return e&&(A.debug("Adding callback for top passed",e),a.onTopPassed=e),t.topPassed?A.execute(n,o):a.once||A.remove.occurred(o),e===i?t.topPassed:void 0},bottomPassed:function(e){var t=A.get.elementCalculations(),n=e||a.onBottomPassed,o="bottomPassed";return e&&(A.debug("Adding callback for bottom passed",e),a.onBottomPassed=e),t.bottomPassed?A.execute(n,o):a.once||A.remove.occurred(o),e===i?t.bottomPassed:void 0},passingReverse:function(e){var t=A.get.elementCalculations(),n=e||a.onPassingReverse,o="passingReverse";return e&&(A.debug("Adding callback for passing reverse",e),a.onPassingReverse=e),t.passing?a.once||A.remove.occurred(o):A.get.occurred("passing")&&A.execute(n,o),e!==i?!t.passing:void 0},topVisibleReverse:function(e){var t=A.get.elementCalculations(),n=e||a.onTopVisibleReverse,o="topVisibleReverse";return e&&(A.debug("Adding callback for top visible reverse",e),a.onTopVisibleReverse=e),t.topVisible?a.once||A.remove.occurred(o):A.get.occurred("topVisible")&&A.execute(n,o),e===i?!t.topVisible:void 0},bottomVisibleReverse:function(e){var t=A.get.elementCalculations(),n=e||a.onBottomVisibleReverse,o="bottomVisibleReverse";return e&&(A.debug("Adding callback for bottom visible reverse",e),a.onBottomVisibleReverse=e),t.bottomVisible?a.once||A.remove.occurred(o):A.get.occurred("bottomVisible")&&A.execute(n,o),e===i?!t.bottomVisible:void 0},topPassedReverse:function(e){var t=A.get.elementCalculations(),n=e||a.onTopPassedReverse,o="topPassedReverse";return e&&(A.debug("Adding callback for top passed reverse",e),a.onTopPassedReverse=e),t.topPassed?a.once||A.remove.occurred(o):A.get.occurred("topPassed")&&A.execute(n,o),e===i?!t.onTopPassed:void 0},bottomPassedReverse:function(e){var t=A.get.elementCalculations(),n=e||a.onBottomPassedReverse,o="bottomPassedReverse";return e&&(A.debug("Adding callback for bottom passed reverse",e),a.onBottomPassedReverse=e),t.bottomPassed?a.once||A.remove.occurred(o):A.get.occurred("bottomPassed")&&A.execute(n,o),e===i?!t.bottomPassed:void 0},execute:function(e,t){var n=A.get.elementCalculations(),i=A.get.screenCalculations();e=e||!1,e&&(a.continuous?(A.debug("Callback being called continuously",t,n),e.call(k,n,i)):A.get.occurred(t)||(A.debug("Conditions met",t,n),e.call(k,n,i))),A.save.occurred(t)},remove:{occurred:function(e){e?A.cache.occurred[e]!==i&&A.cache.occurred[e]===!0&&(A.debug("Callback can now be called again",e),A.cache.occurred[e]=!1):A.cache.occurred={}}},save:{calculations:function(){A.verbose("Saving all calculations necessary to determine positioning"),A.save.direction(),A.save.screenCalculations(),A.save.elementCalculations()},occurred:function(e){e&&(A.cache.occurred[e]===i||A.cache.occurred[e]!==!0)&&(A.verbose("Saving callback occurred",e),A.cache.occurred[e]=!0)},scroll:function(e){e=e+a.offset||x.scrollTop()+a.offset,A.cache.scroll=e},direction:function(){var e=A.get.scroll(),t=A.get.lastScroll(),n;return n=e>t&&t?"down":t>e&&t?"up":"static",A.cache.direction=n,A.cache.direction},elementPosition:function(){var e=A.cache.element,t=A.get.screenSize();return A.verbose("Saving element position"),e.fits=e.height<t.height,e.offset=y.offset(),e.width=y.outerWidth(),e.height=y.outerHeight(),A.cache.element=e,e},elementCalculations:function(){var e=A.get.screenCalculations(),t=A.get.elementPosition();return a.includeMargin?(t.margin={},t.margin.top=parseInt(y.css("margin-top"),10),t.margin.bottom=parseInt(y.css("margin-bottom"),10),t.top=t.offset.top-t.margin.top,t.bottom=t.offset.top+t.height+t.margin.bottom):(t.top=t.offset.top,t.bottom=t.offset.top+t.height),t.topVisible=e.bottom>=t.top,t.topPassed=e.top>=t.top,t.bottomVisible=e.bottom>=t.bottom,t.bottomPassed=e.top>=t.bottom,t.pixelsPassed=0,t.percentagePassed=0,t.visible=t.topVisible||t.bottomVisible,t.passing=t.topPassed&&!t.bottomPassed,t.hidden=!t.topVisible&&!t.bottomVisible,t.passing&&(t.pixelsPassed=e.top-t.top,t.percentagePassed=(e.top-t.top)/t.height),A.cache.element=t,A.verbose("Updated element calculations",t),t},screenCalculations:function(){var e=A.get.scroll();return A.save.direction(),A.cache.screen.top=e,A.cache.screen.bottom=e+A.cache.screen.height,A.cache.screen},screenSize:function(){A.verbose("Saving window position"),A.cache.screen={height:x.height()}},position:function(){A.save.screenSize(),A.save.elementPosition()}},get:{pixelsPassed:function(e){var t=A.get.elementCalculations();return e.search("%")>-1?t.height*(parseInt(e,10)/100):parseInt(e,10)},occurred:function(e){return A.cache.occurred!==i?A.cache.occurred[e]||!1:!1},direction:function(){return A.cache.direction===i&&A.save.direction(),A.cache.direction},elementPosition:function(){return A.cache.element===i&&A.save.elementPosition(),A.cache.element},elementCalculations:function(){return A.cache.element===i&&A.save.elementCalculations(),A.cache.element},screenCalculations:function(){return A.cache.screen===i&&A.save.screenCalculations(),A.cache.screen},screenSize:function(){return A.cache.screen===i&&A.save.screenSize(),A.cache.screen},scroll:function(){return A.cache.scroll===i&&A.save.scroll(),A.cache.scroll},lastScroll:function(){return A.cache.screen===i?(A.debug("First scroll event, no last scroll could be found"),!1):A.cache.screen.top}},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,a,t);else{if(n===i)return a[t];a[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,A,t);else{if(n===i)return A[t];A[t]=n}},debug:function(){a.debug&&(a.performance?A.performance.log(arguments):(A.debug=Function.prototype.bind.call(console.info,console,a.name+":"),A.debug.apply(console,arguments)))},verbose:function(){a.verbose&&a.debug&&(a.performance?A.performance.log(arguments):(A.verbose=Function.prototype.bind.call(console.info,console,a.name+":"),A.verbose.apply(console,arguments)))},error:function(){A.error=Function.prototype.bind.call(console.error,console,a.name+":"),A.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;a.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,c.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:k,"Execution Time":n})),clearTimeout(A.performance.timer),A.performance.timer=setTimeout(A.performance.display,500)},display:function(){var t=a.name+":",n=0;s=!1,clearTimeout(A.performance.timer),e.each(c,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",r&&(t+=" '"+r+"'"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(t,n,o){var a=C,r,s,c;return n=n||d,o=k||o,"string"==typeof t&&a!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var c=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(a[c])&&n!=r)a=a[c];else{if(a[c]!==i)return s=a[c],!1;if(!e.isPlainObject(a[o])||n==r)return a[o]!==i?(s=a[o],!1):(A.error(p.method,t),!1);a=a[o]}})),e.isFunction(s)?c=s.apply(o,n):s!==i&&(c=s),e.isArray(m)?m.push(c):m!==i?m=[m,c]:c!==i&&(m=c),s}},u?(C===i&&A.initialize(),A.invoke(l)):(C!==i&&C.invoke("destroy"),A.initialize())}),m!==i?m:this},e.fn.visibility.settings={name:"Visibility",namespace:"visibility",debug:!1,verbose:!1,performance:!0,observeChanges:!0,refreshOnLoad:!0,once:!0,continuous:!1,offset:0,includeMargin:!1,context:t,initialCheck:!0,throttle:!1,type:!1,transition:!1,duration:1e3,onPassed:{},onPassing:!1,onTopVisible:!1,onBottomVisible:!1,onTopPassed:!1,onBottomPassed:!1,onPassingReverse:!1,onTopVisibleReverse:!1,onBottomVisibleReverse:!1,onTopPassedReverse:!1,onBottomPassedReverse:!1,onUpdate:!1,onRefresh:function(){},className:{fixed:"fixed"},error:{method:"The method you called is not defined.",visible:"Element is hidden, you must call refresh after element becomes visible"}}}(n,window,document)}).call(this),"undefined"==typeof Package&&(Package={}),Package["semantic:ui-css"]={}}();

!function(){var t=Package.meteor.Meteor,a=Package.templating.Template,n=Package.tracker.Tracker,e=Package.tracker.Deps,c=Package.check.check,r=Package.check.Match,i=Package.blaze.Blaze,u=Package.blaze.UI,o=Package.blaze.Handlebars,s=Package.htmljs.HTML,l;(function(){a.__checkName("basicTabs"),a.basicTabs=new a("Template.basicTabs",function(){var t=this;return s.DIV({"class":function(){return["basicTabs-container ",Spacebars.mustache(t.lookup("name"))]}},s.Raw("\n\n    <!-- Allow for the active tab to be specified in a parent helper -->\n    "),i.If(function(){return Spacebars.call(t.lookup("activeTab"))},function(){return["\n      ",i.View(function(){return Spacebars.mustache(t.lookup("trackActiveTab"),t.lookup("activeTab"))}),"\n    "]}),"\n\n    ",s.UL({"class":"tabs-list"},"\n      ",i.Each(function(){return Spacebars.call(t.lookup("tabs"))},function(){return["\n        ",s.LI({"class":function(){return["tab-item ",Spacebars.mustache(t.lookup("isActiveTab"),t.lookup("slug"))]}},i.View(function(){return Spacebars.mustache(t.lookup("name"))})),"\n      "]}),"\n    "),"\n    ",s.DIV({"class":"tabs-content-container"},"\n\n      ",s.Raw("<!-- Pass interface context to tab instances -->"),"\n      ",i._InOuterTemplateScope(t,function(){return i._TemplateWith(function(){return{context:Spacebars.call(t.lookup("__context__"))}},function(){return Spacebars.include(function(){return Spacebars.call(t.templateContentBlock)})})}),"\n\n    "),"\n\n  ")}),a.__checkName("dynamicTabs"),a.dynamicTabs=new a("Template.dynamicTabs",function(){var t=this;return s.DIV({"class":function(){return["dynamicTabs-container ",Spacebars.mustache(t.lookup("name"))]}},s.Raw("\n\n    <!-- These keep the instance synced with the parent's reactive data -->\n    "),i.If(function(){return Spacebars.call(t.lookup("activeTab"))},function(){return["\n      ",i.View(function(){return Spacebars.mustache(t.lookup("trackActiveTab"),t.lookup("activeTab"))}),"\n    "]}),"\n\n    ",i.View(function(){return Spacebars.mustache(t.lookup("trackTabs"),t.lookup("tabs"))}),"\n\n    ",s.UL({"class":"tabs-list"},"\n      ",i.Each(function(){return Spacebars.call(t.lookup("tabs"))},function(){return["\n        ",s.LI({"class":function(){return["tab-item ",Spacebars.mustache(t.lookup("isActiveTab"),t.lookup("slug"))]}},i.View(function(){return Spacebars.mustache(t.lookup("name"))})),"\n      "]}),"\n    "),"\n    ",s.DIV({"class":"tabs-content-container"},"\n\n      ",s.Raw("<!-- Pass interface context to tab instances -->"),"\n      ",i._InOuterTemplateScope(t,function(){return i._TemplateWith(function(){return{context:Spacebars.call(t.lookup("__context__"))}},function(){return Spacebars.include(function(){return Spacebars.call(t.templateContentBlock)})})}),"\n\n    "),"\n\n  ")}),a.__checkName("tabContent"),a.tabContent=new a("Template.tabContent",function(){var t=this;return s.SECTION({"class":function(){return["tabs-content ",Spacebars.mustache(t.lookup("isActiveTab"),t.lookup("slug"))]},"data-tab":function(){return Spacebars.mustache(t.lookup("slug"))}},"\n    ",i._InOuterTemplateScope(t,function(){return Spacebars.include(function(){return Spacebars.call(t.templateContentBlock)})}),"\n  ")})}).call(this),function(){l="object"==typeof l?l:{};var t=l,e;this.ReactiveTabs=e=function(){var t;return t=function(t){var e,u,o,s,l;return c(t,r.ObjectIncluding({template:String,onChange:r.Optional(Function)})),l=a[t.template],l?(u={},u["click .tab-item"]=function(t,a){return a._activeTab.set(this)},e=function(){var t,a;return a=this,c(a.data.tabs,Array),c(a.data.activeTab,r.Optional(String)),a.data.activeTab&&(t={slug:a.data.activeTab})||(t=a.data.tabs[0]),a._tabs=new i.ReactiveVar(a.data.tabs),a._activeTab=new i.ReactiveVar(t),a.setTabs=function(t){return r.test(t,Array)?a._tabs.set(t):void 0},a.setActiveTab=function(t){return r.test(t,String)?a._activeTab.set({slug:t}):void 0},a.isActiveSlug=function(t){var n;return(null!=(n=a._activeTab.get())?n.slug:void 0)===t}},s=function(){var a,e,c;return c=this,a=c.findAll(".tabs-content-container > div"),e={},c.autorun(function(){var t,r,i,u,o,s;for(i=c._tabs.get(),n.nonreactive(function(){var t,a,n,e,r;for(t=c._activeTab.get(),a=!1,e=0,r=i.length;r>e;e++)n=i[e],n.slug===t.slug&&(a=!0);return a?void 0:c._activeTab.set(i[0])}),s=[],t=u=0,o=i.length;o>u;t=++u)r=i[t],null!=r.onRender&&(e[r.slug]=r.onRender),s.push($(a[t]).addClass("tabs-content").attr("data-tab",r.slug));return s}),c.autorun(function(){var a,n;return a=c._activeTab.get(),n=null!=a?a.slug:void 0,null!=(null!=t?t.onChange:void 0)&&t.onChange(n,c),$(c.findAll(".tabs-content")).hide(),$(c.find("[data-tab='"+n+"']")).show(),null!=e[n]?e[n](c):void 0})},o={__context__:function(){var t,n;return n=a.instance(),t={isActiveSlug:n.isActiveSlug}},isActiveTab:function(t){return a.instance().isActiveSlug(t)?"active":void 0},trackActiveTab:function(t){return a.instance().setActiveTab(t)},trackTabs:function(t){return a.instance().setTabs(t)}},l.created=e,l.rendered=s,l.helpers(o),l.events(u)):void 0},{createInterface:t}}(),a.tabContent.helpers({isActiveTab:function(t){var n;return n=a.parentData(1).context,null!=(null!=n?n.isActiveSlug:void 0)&&n.isActiveSlug(t)?"active":void 0}})}.call(this),"undefined"==typeof Package&&(Package={}),Package["templates:tabs"]={}}();

!function(){var e=Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package.pdfkit={}}();

!function(){var e=Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package["reywood:publish-composite"]={}}();

!function(){var a=Package.meteor.Meteor,e;"undefined"==typeof Package&&(Package={}),Package.sfax={SFax:e}}();

!function(){var n=Package.meteor.Meteor,e=Package.mongo.Mongo,t,o,i;(function(){n.isServer&&(t={},t.publish=function(n,e,t,i){var c=0,u=!0,r;if(i=i||{},i.countFromFieldLength&&i.nonReactive)throw new Error("options.nonReactive is not yet supported with options.countFromFieldLength");if(i.countFromFieldLength)var d={};t._cursorDescription.options.fields={_id:!0},i.countFromFieldLength&&(t._cursorDescription.options.fields[i.countFromFieldLength]=!0);var a={added:function(t,o){if(i.countFromFieldLength){if(!o[i.countFromFieldLength])return;c+=o[i.countFromFieldLength].length,d[t]=c}else c+=1;u||n.changed("counts",e,{count:c})},removed:function(t,o){c-=i.countFromFieldLength?o[i.countFromFieldLength].length:1,n.changed("counts",e,{count:c})}};return i.countFromFieldLength&&(a.changed=function(t,u){u[i.countFromFieldLength]&&(o=u[i.countFromFieldLength].length,c+=o-d[t],d[t]=o,n.changed("counts",e,{count:c}))}),!i.countFromFieldLength&&u&&(n.added("counts",e,{count:t.count()}),i.noReady||n.ready()),i.nonReactive||(r=t.observeChanges(a)),i.countFromFieldLength&&n.added("counts",e,{count:c}),i.noReady||n.ready(),u=!1,n.onStop(function(){r&&r.stop()}),{stop:function(){r&&(r.stop(),r=void 0)}}},i=t.publish),n.isClient&&(t=new e.Collection("counts"),t.get=function(n){var e=this.findOne(n);return e&&e.count||0},Package.templating&&Package.templating.Template.registerHelper("getPublishedCount",function(n){return t.get(n)}))}).call(this),"undefined"==typeof Package&&(Package={}),Package["tmeasday:publish-counts"]={Counts:t}}();

!function(){var e=Package.meteor.Meteor,n=Package.tracker.Tracker,t=Package.tracker.Deps,r=Package.http.HTTP,c,i;(function(){function n(){c.loggingEnabled&&e._debug.apply(this,arguments)}function a(n){if(!i.timeTick[n]){var r=new t.Dependency;e.setInterval(function(){r.changed()},n),i.timeTick[n]=r}return i.timeTick[n]}Date.now=Date.now||function(){return+new Date},c={loggingEnabled:!0};var o=1e3;i={offset:void 0,roundTripTime:void 0,offsetDep:new t.Dependency,timeTick:{},timeCheck:function(e,n,t,r){return Math.abs(n-e-t)<r?!0:!1}},i.timeTick[o]=new t.Dependency;var f=5,s=0,u=function(){var t;t=Date.now(),r.get("/_timesync",function(r,a){var o=Date.now();if(r)return n("Error syncing to server time: ",r),void(++s<=f?e.setTimeout(c.resync,1e3):n("Max number of time sync attempts reached. Giving up."));s=0;var u=parseInt(a.content);i.offset=Math.round((u-t+(u-o))/2),i.roundTripTime=o-t,i.offsetDep.changed()})};c.serverTime=function(e,n){return check(n,Match.Optional(Match.Integer)),c.isSynced()?(e||a(n||o).depend(),(+e||Date.now())+i.offset):void 0},c.serverOffset=function(){return i.offsetDep.depend(),i.offset},c.roundTripTime=function(){return i.offsetDep.depend(),i.roundTripTime},c.isSynced=function(){return i.offsetDep.depend(),void 0!==i.offset};var d=null;c.resync=function(){null!==d&&e.clearInterval(d),u(),d=e.setInterval(u,6e5)};var p=!1;t.autorun(function(){var n=e.status().connected;n&&!p&&c.resync(),p=n});var v=5e3,m=Date.now();e.setInterval(function(){var e=Date.now();i.timeCheck(m,e,o,v)?i.timeTick[o].changed():(n("Clock discrepancy detected. Attempting re-sync."),i.offset=void 0,i.offsetDep.changed(),c.resync()),m=e},o)}).call(this),"undefined"==typeof Package&&(Package={}),Package["mizzao:timesync"]={TimeSync:c,SyncInternals:i}}();

!function(){var n=Package.meteor.Meteor,e=Package["accounts-base"].Accounts,t=Package.underscore._,r=Package.mongo.Mongo,o=Package.tracker.Tracker,i=Package.tracker.Deps,c=Package.jquery.$,u=Package.jquery.jQuery,a=Package["mizzao:timesync"].TimeSync,d,l,s;(function(){s="object"==typeof s?s:{};var e=s,t,r,o,u,f,v,g,h,p,w,k,m,y,P;k=null,o=!1,h=void 0,w=new i.Dependency,u=new i.Dependency,t=new i.Dependency,r=!0,l={idleThreshold:null,idleOnBlur:!1,computeState:function(n,e,t){var r;return r=e-n,l.idleOnBlur&&!t?!0:r>l.idleThreshold?!0:!1},connectionChange:function(n,e){return n&&!e&&o?l.reportIdle(h):void 0},onWindowBlur:function(){return r=!1,p()},onWindowFocus:function(){return r=!0,p(!0)},reportIdle:function(e){return n.call("user-status-idle",e)},reportActive:function(e){return n.call("user-status-active",e)}},m=function(e){var r;if(!a.isSynced())throw new Error("Can't start idle monitor until synced to server");if(k)throw new Error("Idle monitor is already active. Stop it first.");e=e||{},l.idleThreshold=e.threshold||6e4,r=Math.max(e.interval||1e3,1e3),l.idleOnBlur=null!=e.idleOnBlur?e.idleOnBlur:!1,k=n.setInterval(p,r),w.changed(),null==h&&(h=i.nonreactive(function(){return a.serverTime()}),t.changed()),p()},y=function(){if(!k)throw new Error("Idle monitor is not running.");n.clearInterval(k),k=null,h=void 0,w.changed(),o&&(o=!1,u.changed(),l.reportActive(i.nonreactive(function(){return a.serverTime()})))},p=function(n){var e,c;k&&(e=i.nonreactive(function(){return a.serverTime()}),null!=e&&(!n||!r&&l.idleOnBlur||(h=e,t.changed()),c=l.computeState(h,e,r),c!==o&&(o=c,u.changed())))},P=function(){return k?p(!0):void n._debug("Cannot touch as idle monitor is not running.")},f=function(){return u.depend(),o},v=function(){return w.depend(),null!=k},g=function(){return v()?(t.depend(),h):void 0},n.startup(function(){var e;return c(window).on("click keydown",function(){return p(!0)}),c(window).blur(l.onWindowBlur),c(window).focus(l.onWindowFocus),r=document.hasFocus(),i.autorun(function(){v()&&(f()?l.reportIdle(h):l.reportActive(h))}),e=n.status().connected,i.autorun(function(){var t;t=n.status().connected,l.connectionChange(t,e),e=t})}),d={startMonitor:m,stopMonitor:y,pingMonitor:P,isIdle:f,isMonitoring:v,lastActivity:g}}).call(this),"undefined"==typeof Package&&(Package={}),Package["mizzao:user-status"]={UserStatus:d,MonitorInternals:l}}();

!function(){var e=Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package["percolate:synced-cron"]={}}();

!function(){var e=Package.meteor.Meteor,a=Package.mongo.Mongo,t=Package["aldeed:simple-schema"].SimpleSchema,o=Package["aldeed:simple-schema"].MongoObject,l;(function(){l={},l.collection=new a.Collection("locations"),l.collection.deny({insert:function(){return!0},update:function(){return!0},remove:function(){return!0}}),l._schemaObject={name:{label:"Name",type:String,unique:!0,index:"text",max:100,denyUpdate:!1,autoform:{placeholder:"A unique location name"}},address:{label:"Address",type:Object},"address.one":{type:String,max:100,autoform:{label:"Address",placeholder:"Address Line 1"}},"address.two":{type:String,max:100,optional:!0,autoform:{label:!1,placeholder:"Address Line 2 (optional)"}},"address.city":{type:String,max:100,autoform:{label:!1,placeholder:"City"}},"address.state":{type:String,allowedValues:["AK","AL","AR","AZ","CA","CO","CT","DC","DE","FL","GA","HI","IA","ID","IL","IN","KS","KY","LA","MA","MD","ME","MI","MN","MO","MS","MT","NC","ND","NE","NH","NJ","NM","NV","NY","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VA","VT","WA","WI","WV","WY"],autoform:{label:!1,options:"allowed"}},"address.zip":{type:String,regEx:t.RegEx.ZipCode,autoform:{label:!1,placeholder:"Zip"}},contact:{label:"Contact Information",type:Object},"contact.name":{label:"Contact Name",type:String,max:100,autoform:{placeholder:"Contact Name"}},"contact.number":{label:"Contact Phone Number",type:String,max:25,autoform:{placeholder:"Phone Number"}},"contact.fax":{label:"Fax Number",type:String,regEx:/^\d{11}$/,autoform:{placeholder:"Fax Number"}},kiosk:{type:Object},"kiosk.active":{type:Boolean,defaultValue:!0,autoform:{defaultValue:!0}}};var e={invalidLocation:"Name already exists."};t.messages(e),l.schema=new t(l._schemaObject)}).call(this),"undefined"==typeof Package&&(Package={}),Package.locations={Locations:l}}();

!function(){var e=Package.meteor.Meteor,n=Package.mongo.Mongo,o=Package["aldeed:simple-schema"].SimpleSchema,s=Package["aldeed:simple-schema"].MongoObject,i;(function(){i={},i.collection=new n.Collection("sessions"),i.collection.deny({insert:function(){return!0},update:function(){return!0},remove:function(){return!0}}),i.schemas={},i.schemas.dentistNotes=new o({clinicalImpression:{type:String,label:"Clinical Impressions",max:5e3},recommendation:{type:String,label:"Recommendations",max:5e3},recommendedPrescriptions:{type:String,label:"Recommended Prescriptions",max:5e3},sessionId:{type:String,regEx:o.RegEx.Id}})}).call(this),"undefined"==typeof Package&&(Package={}),Package.sessions={Sessions:i}}();

!function(){var t=Package.meteor.Meteor,e=Package["accounts-base"].Accounts,o=Package.check.check,n=Package.check.Match,r=Package.ejson.EJSON,i=Package.underscore._,u=Package["iron:router"].Router,a=Package["iron:router"].RouteController,l=Package["iron:core"].Iron,s;(function(){s="object"==typeof s?s:{};var e=s,r,u,a={}.hasOwnProperty;r=l.Router.hooks,u="iron-router-auth",r.authenticate=function(){var e,r,l,s,h,c,d,p,f,g,v,m,k;if("__notfound__"===this.route.getName()||t.userId())return void this.next();if(!t.loggingIn()){if(h="authenticate",c=this.lookupOption(h),c===!1)return void this.next();if(e=null!=c?c.home:void 0,l=null!=c?c.layout:void 0,s=(null!=c?c.logout:void 0)||"logout",p=null!=c?c.replaceState:void 0,f=null!=c?c.route:void 0,v=null!=c?c.template:void 0,i.isString(c)&&(f=c),o(e,n.Optional(String)),o(l,n.Optional(String)),o(s,n.Optional(String)),o(p,n.Optional(Boolean)),o(f,n.Optional(String)),o(v,n.Optional(String,Blaze.Template)),null==p&&(p=!0),this.route.getName()===s&&!t.userId())return this.router.routes[e]&&e||(e="/"),void this.redirect(e,{},{replaceState:p});if(this.router.routes[f]){d={},k=this.params;for(r in k)a.call(k,r)&&(m=k[r],d[r]=m);return g={params:d,route:this.route.getName()},Session.set(u,g),void this.redirect(f,{},{replaceState:p})}return i.isString(v&&!Template[v])&&(v=!1),l&&(this.layout=l),this.render(v||new Template(function(){return"Not authenticated..."})),this.renderRegions(),f?console.warn('Route "'+f+'" for authenticate hook not found.'):v?void 0:console.warn(v===!1?'Template "'+v+'" for authenticate hook not found.':f?"No template set for authenticate hook.":"No route or template set for authenticate hook.")}},r.authorize=function(){var e,r,l,s,h,c,d,p,f,g,v,m,k,S,O;if("__notfound__"===this.route.getName())return void this.next();if(r=this.lookupOption("authenticate"),r===!1)return void this.next();if(!t.loggingIn()&&t.userId()){if(d="authorize",p=this.lookupOption(d),p===!1)return void this.next();if(e=null!=p?p.allow:void 0,s=null!=p?p.deny:void 0,o(e,n.Optional(Function)),o(s,n.Optional(Function)),null==e&&null!=s?l=!s():null!=e&&null==s?l=e():null!=e&&null!=s&&(l=!s()&&e()),l)return void this.next();if(Package.insecure)return console.warn('Remove "insecure" package to respect allow and deny rules.'),void this.next();if(c=null!=p?p.layout:void 0,g=null!=p?p.replaceState:void 0,v=null!=p?p.route:void 0,k=null!=p?p.template:void 0,o(c,n.Optional(String)),o(g,n.Optional(Boolean)),o(v,n.Optional(String)),o(k,n.Optional(String,Blaze.Template)),null==g&&(g=!0),this.router.routes[v]){f={},O=this.params;for(h in O)a.call(O,h)&&(S=O[h],f[h]=S);return m={notAuthorized:!0,params:f,route:this.route.getName()},Session.set(u,m),void this.redirect(v,{},{replaceState:g})}return this.state.set(u,{notAuthorized:!0}),i.isString(k&&!Template[k])&&(k=!1),c&&this.layout(c),this.render(k||new Template(function(){return"Access denied..."})),this.renderRegions(),v?console.warn('Route "'+v+'" for authorize hook not found.'):k?void 0:console.warn(k===!1?'Template "'+k+'" for authorize hook not found.':v?"No template set for authorize hook.":"No route or template set for authorize hook.")}},r.noAuth=function(){var e,r,a,l,s,h,c,d,p,f;if("__notfound__"===this.route.getName()||!t.userId())return void this.next();if(!t.loggingIn())return d=Session.get(u),t.userId()&&(null!=d?d.notAuthorized:void 0)?void this.next():(a="noAuth",l=this.lookupOption(a),e=null!=l?l.dashboard:void 0,r=null!=l?l.home:void 0,h=null!=l?l.replaceState:void 0,i.isString(l)&&(c=l),o(e,n.Optional(String)),o(r,n.Optional(String)),o(h,n.Optional(Boolean)),e?this.router.routes[e]&&(c=e):r&&this.router.routes[r]&&(c=r),null==h&&(h=!0),c=null!=(p=null!=d?d.route:void 0)?p:c,c&&this.router.routes[c]||(c="/"),s=null!=(f=null!=d?d.params:void 0)?f:{},delete Session.keys[u],this.redirect(c,s,{replaceState:h}),"/"===c?console.warn(e?'Route "'+e+'" for noAuth hook not found, using"/"':r?'Route "'+r+'" for noAuth hook not found, using "/"':'No route or template set for noAuth hook, using "/"'):void 0)}}).call(this),function(){s="object"==typeof s?s:{};var t=s,e,o;e={authenticate:{home:"home",route:"login"},authorize:{allow:function(){return!0},deny:function(){return!1},template:"notAuthorized"},except:["enroll","forgotPassword","home","login","reset","verify"],noAuth:{dashboard:"dashboard",home:"home"},only:["enroll","login"]},o=l.Router.plugins,o.auth=function(t,o){return null==o&&(o={}),i.defaults(o,e),t.onBeforeAction("authenticate",i.pick(o,"authenticate","except")),t.onBeforeAction("authorize",i.pick(o,"authorize","except")),t.onBeforeAction("noAuth",i.pick(o,"noAuth","only"))}}.call(this),"undefined"==typeof Package&&(Package={}),Package["zimme:iron-router-auth"]={}}();

!function(){var t=Package.meteor.Meteor,e=Package.templating.Template,a=Package.underscore._,n=Package["aldeed:autoform"].AutoForm,u=Package.blaze.Blaze,r=Package.blaze.UI,c=Package.blaze.Handlebars,o=Package["aldeed:simple-schema"].SimpleSchema,s=Package["aldeed:simple-schema"].MongoObject,i=Package.htmljs.HTML;(function(){e.registerHelper("attsPlusFluidClass",function t(){var t=a.clone(this.atts);return t=n.Utility.addClass(t,"fluid")}),e.registerHelper("attsPlusButtonClass",function u(){var t=a.clone(this.atts);return t=n.Utility.addClass(t,"ui blue button")}),e.autoForm.helpers({atts:function r(){var t=a.clone(this);return"browser"===t.validation||t.novalidate||(t.novalidate="novalidate"),t=n.Utility.addClass(t,"ui form"),a.omit(t,"schema","collection","validation","doc","resetOnSuccess","type","template","autosave","meteormethod","filter","autoConvert","removeEmptyStrings","trimStrings","_resolvedSchema")}})}).call(this),function(){e.__checkName("quickForm_semanticUI"),e.quickForm_semanticUI=new e("Template.quickForm_semanticUI",function(){var t=this;return i.DIV({"class":"ui form"},"\n    ",u._TemplateWith(function(){return Spacebars.call(Spacebars.dot(t.lookup("."),"qfAutoFormContext"))},function(){return Spacebars.include(t.lookupTemplate("autoForm"),function(){return["\n      ",u._TemplateWith(function(){return Spacebars.call(t.lookup("quickFieldsAtts"))},function(){return Spacebars.include(t.lookupTemplate("afQuickFields"))}),"\n      ",u.If(function(){return Spacebars.call(t.lookup("qfShouldRenderButton"))},function(){return["\n        ",i.DIV({"class":"field"},"\n          ",i.BUTTON(i.Attrs({type:"submit"},function(){return Spacebars.attrMustache(t.lookup("submitButtonAtts"))}),"\n          ",Spacebars.With(function(){return Spacebars.call(Spacebars.dot(t.lookup(".."),"atts","buttonContent"))},function(){return["\n            ",u.View("lookup:.",function(){return Spacebars.mustache(t.lookup("."))}),"\n          "]},function(){return"\n            Submit\n          "}),"\n          "),"\n        "),"\n      "]}),"\n    "]})}),"\n  ")})}.call(this),function(){e.quickForm_semanticUI.helpers({quickFieldsAtts:function(){return a.pick(this.atts,"id-prefix")},submitButtonAtts:function t(){var t=this.atts,e={};return e["class"]="string"==typeof t.buttonClasses?t.buttonClasses:"ui blue submit button",e},qfAutoFormContext:function(){var t=a.clone(this.qfAutoFormContext||{});return t=n.Utility.addClass(t,"ui form"),delete t["id-prefix"],t}})}.call(this),function(){e.__checkName("afArrayField_semanticUI"),e.afArrayField_semanticUI=new e("Template.afArrayField_semanticUI",function(){var t=this;return[i.H4({"class":"ui top attached block header"},"\n    ",u.View("lookup:afFieldLabelText",function(){return Spacebars.mustache(t.lookup("afFieldLabelText"),Spacebars.kw({name:Spacebars.dot(t.lookup("."),"atts","name")}))}),"\n  "),"\n  ",i.DIV({"class":"ui secondary bottom attached segment"},"\n    ",u.If(function(){return Spacebars.dataMustache(t.lookup("afFieldIsInvalid"),Spacebars.kw({name:Spacebars.dot(t.lookup("."),"atts","name")}))},function(){return["\n      ",i.DIV({"class":"ui form error"},"\n        ",i.DIV({"class":"error message"},u.View("lookup:afFieldMessage",function(){return Spacebars.makeRaw(Spacebars.mustache(t.lookup("afFieldMessage"),Spacebars.kw({name:Spacebars.dot(t.lookup("."),"atts","name")})))})),"\n      "),"\n    "]}),"\n    ",u._TemplateWith(function(){return{name:Spacebars.call(Spacebars.dot(t.lookup("."),"atts","name")),minCount:Spacebars.call(Spacebars.dot(t.lookup("."),"atts","minCount")),maxCount:Spacebars.call(Spacebars.dot(t.lookup("."),"atts","maxCount"))}},function(){return Spacebars.include(t.lookupTemplate("afEachArrayItem"),function(){return["\n      ",i.DIV({"class":"field autoform-array-item"},"\n        ",i.DIV({"class":"ui input"},"\n          ",u.If(function(){return Spacebars.dataMustache(t.lookup("afArrayFieldHasMoreThanMinimum"),Spacebars.kw({name:Spacebars.dot(t.lookup(".."),"atts","name"),minCount:Spacebars.dot(t.lookup(".."),"atts","minCount"),maxCount:Spacebars.dot(t.lookup(".."),"atts","maxCount")}))},function(){return["\n            ",i.DIV({"class":"ui small red corner label autoform-remove-item"},"\n              ",i.I({"class":"icon minus"}),"\n            "),"\n          "]}),"\n          ",u._TemplateWith(function(){return{name:Spacebars.call(Spacebars.dot(t.lookup("."),"name")),label:Spacebars.call(!1),options:Spacebars.call(t.lookup("afOptionsFromSchema"))}},function(){return Spacebars.include(t.lookupTemplate("afQuickField"))}),"\n        "),"\n      "),"\n    "]})}),"\n    ",u.If(function(){return Spacebars.dataMustache(t.lookup("afArrayFieldHasLessThanMaximum"),Spacebars.kw({name:Spacebars.dot(t.lookup("."),"atts","name"),minCount:Spacebars.dot(t.lookup("."),"atts","minCount"),maxCount:Spacebars.dot(t.lookup("."),"atts","maxCount")}))},function(){return["\n      ",i.DIV({"class":"field"},"\n        ",i.DIV({"class":"ui small green icon button autoform-add-item","data-autoform-field":function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"atts","name"))},"data-autoform-mincount":function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"atts","minCount"))},"data-autoform-maxcount":function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"atts","maxCount"))}},"\n          ",i.I({"class":"icon plus"}),"\n        "),"\n      "),"\n    "]}),"\n  ")]})}.call(this),function(){e.__checkName("afFormGroup_semanticUI"),e.afFormGroup_semanticUI=new e("Template.afFormGroup_semanticUI",function(){var t=this;return i.DIV({"class":function(){return["field ",Spacebars.mustache(t.lookup("required")),u.If(function(){return Spacebars.dataMustache(t.lookup("afFieldIsInvalid"),Spacebars.kw({name:Spacebars.dot(t.lookup("."),"name")}))},function(){return" error"})]}},"\n    ",u.Unless(function(){return Spacebars.call(t.lookup("skipLabel"))},function(){return["\n      ",i.LABEL("\n        ",u.If(function(){return Spacebars.call(Spacebars.dot(t.lookup("."),"labelText"))},function(){return["\n          ",u.View("lookup:..labelText",function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"labelText"))}),"\n        "]},function(){return["\n          ",u.View("lookup:afFieldLabelText",function(){return Spacebars.mustache(t.lookup("afFieldLabelText"),Spacebars.kw({name:Spacebars.dot(t.lookup("."),"name")}))}),"\n        "]}),"\n        ",u.If(function(){return Spacebars.call(t.lookup("errorsInLabel"))},function(){return["\n          ",u.If(function(){return Spacebars.dataMustache(t.lookup("afFieldIsInvalid"),Spacebars.kw({name:Spacebars.dot(t.lookup("."),"name")}))},function(){return["\n             (",u.View("lookup:afFieldMessage",function(){return Spacebars.makeRaw(Spacebars.mustache(t.lookup("afFieldMessage"),Spacebars.kw({name:Spacebars.dot(t.lookup("."),"name")})))}),")\n          "]}),"\n        "]}),"\n      "),"\n    "]}),"\n    ",u._TemplateWith(function(){return Spacebars.call(Spacebars.dot(t.lookup("."),"afFieldInputAtts"))},function(){return Spacebars.include(t.lookupTemplate("afFieldInput"))}),"\n    ",u.Unless(function(){return Spacebars.call(t.lookup("errorsInLabel"))},function(){return["\n      ",i.DIV({"class":"error message"},u.View("lookup:afFieldMessage",function(){return Spacebars.makeRaw(Spacebars.mustache(t.lookup("afFieldMessage"),Spacebars.kw({name:Spacebars.dot(t.lookup("."),"name")})))})),"\n    "]}),"\n  ")})}.call(this),function(){e.afFormGroup_semanticUI.helpers({skipLabel:function t(){var t=this,e=n.getInputType(t.afFieldInputAtts);return t.skipLabel||"boolean-checkbox"===e},required:function a(){return this.required?"required":void 0},errorsInLabel:function(){return n.findAttribute("errorsInLabels")||this.afFieldInputAtts.errorsInLabel}})}.call(this),function(){e.__checkName("afObjectField_semanticUI"),e.afObjectField_semanticUI=new e("Template.afObjectField_semanticUI",function(){var t=this;return[Spacebars.With(function(){return Spacebars.dataMustache(t.lookup("afFieldLabelText"),Spacebars.kw({name:Spacebars.dot(t.lookup("."),"name")}))},function(){return["\n    ",i.H4({"class":"ui top attached block header"},u.View("lookup:.",function(){return Spacebars.mustache(t.lookup("."))})),"\n  "]}),"\n  ",i.DIV({"class":"ui secondary bottom attached segment form error"},"\n    ",u.If(function(){return Spacebars.dataMustache(t.lookup("afFieldIsInvalid"),Spacebars.kw({name:Spacebars.dot(t.lookup("."),"name")}))},function(){return["\n      ",i.DIV({"class":"error message"},u.View("lookup:afFieldMessage",function(){return Spacebars.makeRaw(Spacebars.mustache(t.lookup("afFieldMessage"),Spacebars.kw({name:Spacebars.dot(t.lookup("."),"name")})))})),"\n    "]}),"\n    ",u._TemplateWith(function(){return Spacebars.call(t.lookup("quickFieldsAtts"))},function(){return Spacebars.include(t.lookupTemplate("afQuickFields"))}),"\n  ")]})}.call(this),function(){e.afObjectField_semanticUI.helpers({quickFieldsAtts:function(){return a.pick(this,"name","id-prefix")}})}.call(this),function(){e.__checkName("afBasicSelect_semanticUI"),e.afBasicSelect_semanticUI=new e("Template.afBasicSelect_semanticUI",function(){var t=this;return i.DIV({"class":"fluid field"},"\n    ",i.SELECT(i.Attrs(function(){return Spacebars.attrMustache(t.lookup("atts"))}),"\n      ",u.Each(function(){return Spacebars.call(Spacebars.dot(t.lookup("."),"items"))},function(){return["\n        ",u.If(function(){return Spacebars.call(Spacebars.dot(t.lookup("."),"optgroup"))},function(){return["\n          ",i.OPTGROUP({label:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"optgroup"))}},"\n            ",u.Each(function(){return Spacebars.call(Spacebars.dot(t.lookup("."),"items"))},function(){return["\n              ",i.OPTION(i.Attrs(function(){return Spacebars.attrMustache(t.lookup("afSelectOptionAtts"))}),u.View("lookup:..label",function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"label"))})),"\n            "]}),"\n          "),"\n        "]},function(){return["\n          ",i.OPTION(i.Attrs(function(){return Spacebars.attrMustache(t.lookup("afSelectOptionAtts"))}),u.View("lookup:..label",function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"label"))})),"\n        "]}),"\n      "]}),"\n    "),"\n  ")})}.call(this),function(){n.addInputType("basic-select",{template:"afBasicSelect",valueOut:function(){return this.val()},valueConverters:{stringArray:function(t){return"string"==typeof t?(t=t.split(","),a.map(t,function(t){return $.trim(t)})):t},number:n.Utility.stringToNumber,numberArray:function(t){return"string"==typeof t?(t=t.split(","),a.map(t,function(t){return t=$.trim(t),n.Utility.stringToNumber(t)})):t},"boolean":n.Utility.stringToBool,booleanArray:function(t){return"string"==typeof t?(t=t.split(","),a.map(t,function(t){return t=$.trim(t),n.Utility.stringToBool(t)})):t},date:n.Utility.stringToDate,dateArray:function(t){return"string"==typeof t?(t=t.split(","),a.map(t,function(t){return t=$.trim(t),n.Utility.stringToDate(t)})):t}},contextAdjust:function(t){t.atts.autocomplete="off";var e=a.omit(t.atts,"firstOption"),n=t.atts.firstOption;return t.items=[],n!==!1&&t.items.push({name:t.name,label:"string"==typeof n?n:"(Select One)",value:"",_id:"AUTOFORM_EMPTY_FIRST_OPTION",selected:!1,atts:e}),a.each(t.selectOptions,function(n){if(n.optgroup){var u=a.map(n.options,function(n){return{name:t.name,label:n.label,value:n.value,htmlAtts:a.omit(n,"label","value"),_id:n.value.toString(),selected:n.value===t.value,atts:e}});t.items.push({optgroup:n.optgroup,items:u})}else t.items.push({name:t.name,label:n.label,value:n.value,htmlAtts:a.omit(n,"label","value"),_id:n.value.toString(),selected:n.value===t.value,atts:e})}),t}})}.call(this),function(){e.__checkName("afCheckbox_semanticUI"),e.afCheckbox_semanticUI=new e("Template.afCheckbox_semanticUI",function(){var t=this;return i.DIV({"class":"ui checkbox"},"\n    ",i.INPUT(i.Attrs({type:"checkbox",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(t.lookup("atts"))})),"\n    ",i.LABEL(u.View("lookup:afFieldLabelText",function(){return Spacebars.mustache(t.lookup("afFieldLabelText"),Spacebars.kw({name:Spacebars.dot(t.lookup("."),"name")}))})),"\n  ")})}.call(this),function(){e.afCheckbox_semanticUI.onRendered(function(){$(this.firstNode).checkbox()})}.call(this),function(){e.__checkName("afInputButton_semanticUI"),e.afInputButton_semanticUI=new e("Template.afInputButton_semanticUI",function(){var t=this;return i.INPUT(i.Attrs({type:"button",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(t.lookup("attsPlusButtonClass"))}))})}.call(this),function(){e.__checkName("afInputColor_semanticUI"),e.afInputColor_semanticUI=new e("Template.afInputColor_semanticUI",function(){var t=this;return i.INPUT(i.Attrs({type:"color",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(t.lookup("attsPlusFluidClass"))}))})}.call(this),function(){e.__checkName("afInputDate_semanticUI"),e.afInputDate_semanticUI=new e("Template.afInputDate_semanticUI",function(){var t=this;return i.INPUT(i.Attrs({type:"date",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(t.lookup("attsPlusFluidClass"))}))})}.call(this),function(){e.__checkName("afInputDateTime_semanticUI"),e.afInputDateTime_semanticUI=new e("Template.afInputDateTime_semanticUI",function(){var t=this;return i.INPUT(i.Attrs({type:"datetime",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(t.lookup("attsPlusFluidClass"))}))})}.call(this),function(){e.__checkName("afInputDateTimeLocal_semanticUI"),e.afInputDateTimeLocal_semanticUI=new e("Template.afInputDateTimeLocal_semanticUI",function(){var t=this;return i.INPUT(i.Attrs({type:"datetime-local",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(t.lookup("attsPlusFluidClass"))}))})}.call(this),function(){e.__checkName("afInputEmail_semanticUI"),e.afInputEmail_semanticUI=new e("Template.afInputEmail_semanticUI",function(){var t=this;return i.INPUT(i.Attrs({type:"email",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(t.lookup("attsPlusFluidClass"))}))})}.call(this),function(){e.__checkName("afInputMonth_semanticUI"),e.afInputMonth_semanticUI=new e("Template.afInputMonth_semanticUI",function(){var t=this;return i.INPUT(i.Attrs({type:"month",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(t.lookup("attsPlusFluidClass"))}))})}.call(this),function(){e.__checkName("afInputNumber_semanticUI"),e.afInputNumber_semanticUI=new e("Template.afInputNumber_semanticUI",function(){var t=this;return i.INPUT(i.Attrs({type:"number",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(t.lookup("attsPlusFluidClass"))}))})}.call(this),function(){e.__checkName("afInputPassword_semanticUI"),e.afInputPassword_semanticUI=new e("Template.afInputPassword_semanticUI",function(){var t=this;return i.INPUT(i.Attrs({type:"password",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(t.lookup("attsPlusFluidClass"))}))})}.call(this),function(){e.__checkName("afRadio_semanticUI"),e.afRadio_semanticUI=new e("Template.afRadio_semanticUI",function(){var t=this;return i.DIV({"class":"ui radio checkbox"},"\n    ",i.LABEL("\n      ",i.INPUT(i.Attrs({type:"radio",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(t.lookup("atts"))})),"\n      ",u.View("lookup:afFieldLabelText",function(){return Spacebars.mustache(t.lookup("afFieldLabelText"),Spacebars.kw({name:Spacebars.dot(t.lookup("."),"name")}))}),"\n    "),"\n  ")})}.call(this),function(){e.afRadio_semanticUI.helpers({atts:function t(){var t=a.clone(this.atts);return this.selected&&(t.checked=""),t}}),e.afRadio_semanticUI.onRendered(function(){$(this.firstNode).checkbox()})}.call(this),function(){e.__checkName("afInputRange_semanticUI"),e.afInputRange_semanticUI=new e("Template.afInputRange_semanticUI",function(){var t=this;return i.INPUT(i.Attrs({type:"range",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(Spacebars.dot(t.lookup("."),"atts"))}))})}.call(this),function(){e.__checkName("afInputReset_semanticUI"),e.afInputReset_semanticUI=new e("Template.afInputReset_semanticUI",function(){var t=this;return i.INPUT(i.Attrs({type:"reset",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(t.lookup("attsPlusButtonClass"))}))})}.call(this),function(){e.__checkName("afInputSearch_semanticUI"),e.afInputSearch_semanticUI=new e("Template.afInputSearch_semanticUI",function(){var t=this;return i.INPUT(i.Attrs({type:"search",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(t.lookup("attsPlusFluidClass"))}))})}.call(this),function(){e.__checkName("afSelect_semanticUI"),e.afSelect_semanticUI=new e("Template.afSelect_semanticUI",function(){var t=this;return i.DIV({"class":"fluid field"},"\n    ",i.DIV(i.Attrs(function(){return Spacebars.attrMustache(t.lookup("divAtts"))}),"\n      ",i.INPUT(i.Attrs({type:"hidden",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(Spacebars.dot(t.lookup("."),"atts"))})),"\n      ",u.If(function(){return Spacebars.call(Spacebars.dot(t.lookup("."),"value"))},function(){return["\n        ",i.DIV({"class":"text"},u.View("lookup:label",function(){return Spacebars.mustache(t.lookup("label"))})),"\n      "]},function(){return["\n        ",i.DIV({"class":"default text"},u.View("lookup:placeholder",function(){return Spacebars.mustache(t.lookup("placeholder"))})),"\n      "]}),"\n      ",i.Raw('<i class="dropdown icon"></i>'),"\n      ",i.DIV({"class":"menu"},"\n        ",u.Unless(function(){return Spacebars.call(t.lookup("required"))},function(){return["\n          ",i.DIV({"class":"ui fluid compact clear button"},i.I({"class":"erase icon"})," Clear"),"\n        "]}),"\n        ",u.Each(function(){return Spacebars.call(Spacebars.dot(t.lookup("."),"items"))},function(){return["\n          ",u.If(function(){return Spacebars.call(Spacebars.dot(t.lookup("."),"itemGroup"))},function(){return["\n            ",i.DIV({"class":"header"},u.View("lookup:..itemGroup",function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"itemGroup"))})),"\n            ",u.Each(function(){return Spacebars.call(Spacebars.dot(t.lookup("."),"items"))},function(){return["\n              ",i.DIV(i.Attrs({"data-value":function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(t.lookup("itemHtmlAtts"))}),"\n                ",u.If(function(){return Spacebars.call(Spacebars.dot(t.lookup("."),"icon"))},function(){return["\n                  ",i.I({"class":function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"icon"))}}),"\n                "]}),"\n                ",u.View("lookup:..label",function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"label"))}),"\n              "),"\n            "]}),"\n          "]},function(){return["\n            ",i.DIV(i.Attrs({"data-value":function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(t.lookup("itemHtmlAtts"))}),"\n              ",u.If(function(){return Spacebars.call(Spacebars.dot(t.lookup("."),"icon"))},function(){return["\n                ",i.I({"class":function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"icon"))}}),"\n              "]}),"\n              ",u.View("lookup:..label",function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"label"))}),"\n            "),"\n          "]}),"\n        "]}),"\n      "),"\n    "),"\n  ")})}.call(this),function(){n.addInputType("select",{template:"afSelect",valueOut:function(){return this.val()},valueConverters:{stringArray:function(t){return"string"==typeof t?(t=t.split(","),a.map(t,function(t){return $.trim(t)})):t},number:n.Utility.stringToNumber,numberArray:function(t){return"string"==typeof t?(t=t.split(","),a.map(t,function(t){return t=$.trim(t),n.Utility.stringToNumber(t)})):t},"boolean":n.Utility.stringToBool,booleanArray:function(t){return"string"==typeof t?(t=t.split(","),a.map(t,function(t){return t=$.trim(t),n.Utility.stringToBool(t)})):t},date:n.Utility.stringToDate,dateArray:function(t){return"string"==typeof t?(t=t.split(","),a.map(t,function(t){return t=$.trim(t),n.Utility.stringToDate(t)})):t}},contextAdjust:function(t){t.atts.autocomplete="off",delete t.atts.firstOption;var e=a.omit(t.atts,"placeholder");return t.items=[],a.each(t.selectOptions,function(n){if(n.itemGroup){var u=a.map(n.items,function(n){return{name:t.name,label:n.label,icon:n.icon||!1,value:n.value,htmlAtts:a.extend({"class":"item"},a.omit(n,"label","value")),_id:n.value.toString(),selected:n.value===t.value,atts:e}});t.items.push({itemGroup:n.itemGroup,items:u})}else t.items.push({name:t.name,label:n.label,icon:n.icon||!1,value:n.value,htmlAtts:a.extend({"class":"item"},a.omit(n,"label","value")),_id:n.value.toString(),selected:n.value===t.value,atts:e})}),t}}),e.afSelect_semanticUI.helpers({divAtts:function(){var t={"class":"ui fluid selection dropdown"};return(this.atts.search||this.atts.fullTextSearch)&&(t=n.Utility.addClass(t,"search")),t},placeholder:function(){return this.atts.placeholder||"(Select One)"},label:function(){var t=this.value,e=a.find(this.items,function(e){return e.value===t});return e.label},required:function(){return""===this.atts.required},itemHtmlAtts:function(){var t=a.clone(this.htmlAtts);return this.selected&&(t=n.Utility.addClass(t,"active selected")),t}}),e.afSelect_semanticUI.events({"click .ui.clear.button":function(t){$(t.target).closest(".ui.dropdown").dropdown("clear")}}),e.afSelect_semanticUI.onRendered(function(){$(this.firstNode).find(".ui.dropdown").dropdown({fullTextSearch:this.data.atts.fullTextSearch||!1})})}.call(this),function(){e.__checkName("afCheckboxGroup_semanticUI"),e.afCheckboxGroup_semanticUI=new e("Template.afCheckboxGroup_semanticUI",function(){var t=this;return i.DIV(i.Attrs({"class":"grouped fields"},function(){return Spacebars.attrMustache(t.lookup("dsk"))}),"\n  ",u.Each(function(){return Spacebars.call(Spacebars.dot(t.lookup("."),"items"))},function(){return["\n    ",i.DIV({"class":"field"},"\n      ",i.DIV({"class":"ui checkbox"},"\n        ",i.INPUT(i.Attrs({type:"checkbox",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(t.lookup("atts"))})),"\n        ",i.LABEL(u.View("lookup:label",function(){return Spacebars.mustache(t.lookup("label"))})),"\n      "),"\n    "),"\n  "]}),"\n  ")})}.call(this),function(){e.afCheckboxGroup_semanticUI.helpers({atts:function t(){var t=a.clone(this.atts);return this.selected&&(t.checked=""),delete t["data-schema-key"],t},dsk:function n(){return{"data-schema-key":this.atts["data-schema-key"]}}}),e.afCheckboxGroup_semanticUI.onRendered(function(){$(this.firstNode).find(".ui.checkbox").checkbox()})}.call(this),function(){e.__checkName("afRadioGroup_semanticUI"),e.afRadioGroup_semanticUI=new e("Template.afRadioGroup_semanticUI",function(){var t=this;return i.DIV(i.Attrs({"class":"grouped fields"},function(){return Spacebars.attrMustache(t.lookup("dsk"))}),"\n    ",u.Each(function(){return Spacebars.call(Spacebars.dot(t.lookup("."),"items"))},function(){return["\n      ",i.DIV({"class":"field"},"\n        ",i.DIV({"class":"ui radio checkbox"},"\n          ",i.INPUT(i.Attrs({type:"radio",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(t.lookup("atts"))})),"\n          ",i.LABEL(u.View("lookup:..label",function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"label"))})),"\n        "),"\n      "),"\n    "]}),"\n  ")})}.call(this),function(){e.afRadioGroup_semanticUI.helpers({atts:function t(){var t=a.clone(this.atts);return this.selected&&(t.checked=""),delete t["data-schema-key"],t},dsk:function n(){return{"data-schema-key":this.atts["data-schema-key"]}}}),e.afRadioGroup_semanticUI.onRendered(function(){$(this.firstNode).find(".ui.radio.checkbox").checkbox()})}.call(this),function(){e.__checkName("afInputSubmit_semanticUI"),e.afInputSubmit_semanticUI=new e("Template.afInputSubmit_semanticUI",function(){var t=this;return i.INPUT(i.Attrs({type:"submit",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(t.lookup("attsPlusButtonClass"))}))})}.call(this),function(){e.__checkName("afInputTel_semanticUI"),e.afInputTel_semanticUI=new e("Template.afInputTel_semanticUI",function(){var t=this;return i.INPUT(i.Attrs({type:"tel",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(t.lookup("attsPlusFluidClass"))}))})}.call(this),function(){e.__checkName("afInputText_semanticUI"),e.afInputText_semanticUI=new e("Template.afInputText_semanticUI",function(){var t=this;return i.INPUT(i.Attrs({type:"text",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(t.lookup("attsPlusFluidClass"))}))})}.call(this),function(){e.__checkName("afTextarea_semanticUI"),e.afTextarea_semanticUI=new e("Template.afTextarea_semanticUI",function(){var t=this;return i.TEXTAREA(i.Attrs(function(){return Spacebars.attrMustache(t.lookup("attsPlusFluidClass"))},{value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}}))})}.call(this),function(){e.__checkName("afInputTime_semanticUI"),e.afInputTime_semanticUI=new e("Template.afInputTime_semanticUI",function(){var t=this;return i.INPUT(i.Attrs({type:"time",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(t.lookup("attsPlusFluidClass"))}))})}.call(this),function(){e.__checkName("afInputUrl_semanticUI"),e.afInputUrl_semanticUI=new e("Template.afInputUrl_semanticUI",function(){var t=this;return i.INPUT(i.Attrs({type:"url",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(t.lookup("attsPlusFluidClass"))}))})}.call(this),function(){e.__checkName("afInputWeek_semanticUI"),e.afInputWeek_semanticUI=new e("Template.afInputWeek_semanticUI",function(){var t=this;return i.INPUT(i.Attrs({type:"week",value:function(){return Spacebars.mustache(Spacebars.dot(t.lookup("."),"value"))}},function(){return Spacebars.attrMustache(t.lookup("attsPlusFluidClass"))}))})}.call(this),"undefined"==typeof Package&&(Package={}),Package["fabienb4:autoform-semantic-ui"]={}}();

!function(){var e=Package.meteor.Meteor,a;"undefined"==typeof Package&&(Package={}),Package["kiosk-interface"]={Kiosk:a}}();

!function(){var e=Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package["mquandalle:bower"]={}}();

!function(){var e=Package.meteor.Meteor,s=Package.templating.Template,a=Package["accounts-base"].Accounts,t=Package.underscore._,r=Package["aldeed:simple-schema"].SimpleSchema,o=Package["aldeed:simple-schema"].MongoObject,n=Package.blaze.Blaze,i=Package.blaze.UI,l=Package.blaze.Handlebars,c=Package.htmljs.HTML,d;!function(e,s){"function"==typeof define&&define.amd?define([],s):"object"==typeof exports?module.exports=s():e.owaspPasswordStrengthTest=s()}(this,function(){var e={};return e.configs={allowPassphrases:!0,maxLength:128,minLength:10,minPhraseLength:20,minOptionalTestsToPass:4},e.config=function(e){for(var s in e)e.hasOwnProperty(s)&&this.configs.hasOwnProperty(s)&&(this.configs[s]=e[s])},e.tests={required:[function(s){return s.length<e.configs.minLength?"The password must be at least "+e.configs.minLength+" characters long.":void 0},function(s){return s.length>e.configs.maxLength?"The password must be fewer than "+e.configs.maxLength+" characters.":void 0},function(e){return/(.)\1{2,}/.test(e)?"The password may not contain sequences of three or more repeated characters.":void 0}],optional:[function(e){return/[a-z]/.test(e)?void 0:"The password must contain at least one lowercase letter."},function(e){return/[A-Z]/.test(e)?void 0:"The password must contain at least one uppercase letter."},function(e){return/[0-9]/.test(e)?void 0:"The password must contain at least one number."},function(e){return/[^A-Za-z0-9 ]/.test(e)?void 0:"The password must contain at least one special character."}]},e.test=function(e){var s={errors:[],failedTests:[],passedTests:[],isPassphrase:!1,strong:!0,optionalTestsPassed:0},a=0;if(this.tests.required.forEach(function(t){var r=t(e);"string"==typeof r?(s.strong=!1,s.errors.push(r),s.failedTests.push(a)):s.passedTests.push(a),a++}),this.configs.allowPassphrases===!0&&e.length>=this.configs.minPhraseLength&&(s.isPassphrase=!0),!s.isPassphrase){var t=this.tests.required.length;this.tests.optional.forEach(function(a){var r=a(e);"string"==typeof r?(s.errors.push(r),s.failedTests.push(t)):(s.optionalTestsPassed++,s.passedTests.push(t)),t++})}return!s.isPassphrase&&s.optionalTestsPassed<this.configs.minOptionalTestsToPass&&(s.strong=!1),s},e}),function(){d={},e.users.allow({insert:function(){return!0},update:function(){return!0},remove:function(){return!0}}),e.users.deny({insert:function(){return!0},update:function(){return!0}}),e.roles.deny({insert:function(){return!0},update:function(){return!0},remove:function(){return!0}}),a.config({sendVerificationEmail:!0,forbidClientAccountCreation:!0,loginExpirationInDays:0}),d.inviteUserSchema=new r({name:{type:String,label:"Name",autoform:{placeholder:"Name"}},roles:{type:String,label:"User Role",allowedValues:["dentist","ta","ma"],autoform:{options:"allowed"}},email:{type:String,label:"Invitation Email",regEx:/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i,autoform:{placeholder:"Email Address"}},confirmEmail:{type:String,label:"Invitation Email (confirm)",autoform:{placeholder:"Re-Enter Email Address"},custom:function(){return this.value!==this.field("email").value?"emailMismatch":void 0}}}),d.setUsernameSchema=new r({username:{type:String,regEx:/^[a-z0-9A-Z_]{6,20}$/,autoform:{label:!1,placeholder:"Username"}}})}.call(this),function(){var e={allowPassphrases:!0,maxLength:128,minLength:10,minPhraseLength:20,minOptionalTestsToPass:4};owaspPasswordStrengthTest.config(e);var a=["The password must be at least "+e.minLength+" characters long.","The password must be fewer than "+e.maxLength+" characters.","The password may not contain sequences of three or more repeated characters.","The password must contain at least one lowercase letter.","The password must contain at least one uppercase letter.","The password must contain at least one number.","The password must contain at least one special character."];s.registerHelper("passwordRequirements",function(){return a});var o={passwordMismatch:"Passwords do not match.",invalidPassword:"Invalid password."};t.each(a,function(e,s){o["password"+s]=e}),r.messages(o),d.resetPasswordSchema=new r({newPassword:{type:String,autoform:{type:"password",placeholder:"New Password",autocomplete:"off"},custom:function(){var e=owaspPasswordStrengthTest.test(this.value);return e.errors.length>0?"password"+e.failedTests[0]:void 0}},confirmPassword:{type:String,autoform:{type:"password",placeholder:"New Password (confirm)"},custom:function(){return this.value!==this.field("newPassword").value?"passwordMismatch":void 0}}}),d.changePasswordSchema=new r({currentPassword:{type:String,autoform:{type:"password",placeholder:"Current Password"}},newPassword:{type:String,autoform:{type:"password",placeholder:"New Password"},custom:function(){var e=owaspPasswordStrengthTest.test(this.value);return e.errors.length>0?"password"+e.failedTests[0]:void 0}},confirmPassword:{type:String,autoform:{type:"password",placeholder:"New Password (confirm)"},custom:function(){return this.value!==this.field("newPassword").value?"passwordMismatch":void 0}}}),d.loginSchema=new r({username:{type:String,autoform:{label:!1,placeholder:"Username"}},password:{type:String,autoform:{label:!1,placeholder:"Password",autocomplete:"off"}}}),d.forgotPasswordSchema=new r({email:{type:String,regEx:r.RegEx.Email,autoform:{label:!1,placeholder:"Email Address"}}}),d.changeEmailSchema=new r({email:{type:String,regEx:r.RegEx.Email,autoform:{label:!1,placeholder:"New Email Address"}},password:{type:String,autoform:{label:!1,type:"password",placeholder:"Confirm Password"}}});var o={invalidUsername:"Username already exists."};r.messages(o),d.updateUserSchema=new r({username:{label:"Username",unique:!0,max:20,type:String,regEx:/^[a-z0-9A-Z_]{6,20}$/,autoform:{placeholder:"Username"}},address:{label:"Address",type:String,autoform:{afFieldInput:{type:"textarea",placeholder:"Address"}}},email:{label:"Email Address",type:String,regEx:/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i,autoform:{placeholder:"New Email Address"}},phone:{label:"Phone number",type:String,regEx:/^[0-9]{10,13}$/,autoform:{placeholder:"Contact Phone number"}},id:{type:String,autoform:{afFieldInput:{type:"hidden"},afFormGroup:{label:!1}}}})}.call(this),"undefined"==typeof Package&&(Package={}),Package.users={Users:d}}();

!function(){var e=Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package["browser-policy"]={}}();

!function(){var e=Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package.email={}}();

!function(){var o=Package.meteor.Meteor,n=Package["accounts-base"].Accounts,e=Package.mongo.Mongo,i;(function(){"undefined"==typeof i&&(i={}),i.configurations=new e.Collection("meteor_accounts_loginServiceConfiguration",{_preventAutopublish:!0,connection:o.isClient?n.connection:o.connection}),i.ConfigError=function(e){this.message=o.isClient&&!n.loginServicesConfigured()?"Login service configuration not yet loaded":e?"Service "+e+" not configured":"Service not configured"},i.ConfigError.prototype=new Error,i.ConfigError.prototype.name="ServiceConfiguration.ConfigError"}).call(this),"undefined"==typeof Package&&(Package={}),Package["service-configuration"]={ServiceConfiguration:i}}();

!function(){var e=Package.meteor.Meteor,t=Package.underscore._,n;(function(){n={_isCssLoaded:function(){return 0===document.styleSheets.length?!0:t.find(document.styleSheets,function(e){return e.cssText&&!e.cssRules?!e.cssText.match(/meteor-css-not-found-error/):!t.find(e.cssRules,function(e){return".meteor-css-not-found-error"===e.selectorText})})}}}).call(this),"undefined"==typeof Package&&(Package={}),Package.webapp={WebApp:n}}();

!function(){var t=Package.meteor.Meteor,e=Package.htmljs.HTML,n=Package.tracker.Tracker,a=Package.tracker.Deps,r=Package.blaze.Blaze,u=Package.blaze.UI,i=Package.blaze.Handlebars,o=Package["observe-sequence"].ObserveSequence,c=Package.templating.Template,l=Package.underscore._,f;(function(){f={};var t=function(t,e){return t===e};f.include=function(e,n,a){if(!e)return null;if("function"!=typeof e){var u=e;if(!r.isTemplate(u))throw new Error("Expected template or null, found: "+u);return e.constructView(n,a)}var i=r.ReactiveVar(null,t),o=r.View("Spacebars.include",function(){var t=i.get();if(null===t)return null;if(!r.isTemplate(t))throw new Error("Expected template or null, found: "+t);return t.constructView(n,a)});return o.__templateVar=i,o.onViewCreated(function(){this.autorun(function(){i.set(e())})}),o},f.mustacheImpl=function(t){var e=arguments;if(e.length>1){var n=e[e.length-1];if(n instanceof f.kw){var a={};for(var r in n.hash){var u=n.hash[r];a[r]="function"==typeof u?u():u}e[e.length-1]=f.kw(a)}else n=f.kw(),e=Array.prototype.slice.call(arguments),e.push(n)}return f.call.apply(null,e)},f.mustache=function(t){var n=f.mustacheImpl.apply(null,arguments);return n instanceof f.SafeString?e.Raw(n.toString()):null==n||n===!1?null:String(n)},f.attrMustache=function(t){var n=f.mustacheImpl.apply(null,arguments);if(null==n||""===n)return null;if("object"==typeof n)return n;if("string"==typeof n&&e.isValidAttributeName(n)){var a={};return a[n]="",a}throw new Error("Expected valid attribute name, '', null, or object")},f.dataMustache=function(t){var e=f.mustacheImpl.apply(null,arguments);return e},f.makeRaw=function(t){return null==t?null:t instanceof e.Raw?t:e.Raw(t)},f.call=function(t){if("function"==typeof t){for(var e=[],n=1;n<arguments.length;n++){var a=arguments[n];e[n-1]="function"==typeof a?a():a}return t.apply(null,e)}if(arguments.length>1)throw new Error("Can't call non-function: "+t);return t},f.kw=function(t){return this instanceof f.kw?void(this.hash=t||{}):new f.kw(t)},f.SafeString=function(t){return this instanceof f.SafeString?new i.SafeString(t):new f.SafeString(t)},f.SafeString.prototype=i.SafeString.prototype,f.dot=function(t,e){if(arguments.length>2){var n=[];return n.push(f.dot(t,e)),n.push.apply(n,Array.prototype.slice.call(arguments,2)),f.dot.apply(null,n)}if("function"==typeof t&&(t=t()),!t)return t;var a=t[e];return"function"!=typeof a?a:function(){return a.apply(t,arguments)}},f.With=function(t,e,a){var u=new r.ReactiveVar,i=r.View("Spacebars_with",function(){return r.If(function(){return u.get()},function(){return r.With(function(){return u.get()},e)},a)});return i.onViewCreated(function(){this.autorun(function(){u.set(t()),n.onInvalidate(function(){u.dep.changed()})})}),i},f.TemplateWith=r._TemplateWith}).call(this),function(){c.__checkName("__dynamic"),c.__dynamic=new c("Template.__dynamic",function(){var t=this;return[r.View("lookup:checkContext",function(){return f.mustache(t.lookup("checkContext"))}),"\n  ",r.If(function(){return f.call(t.lookup("dataContextPresent"))},function(){return["\n    ",f.include(t.lookupTemplate("__dynamicWithDataContext")),"\n  "]},function(){return["\n    \n    ",r._TemplateWith(function(){return{template:f.call(t.lookup("template")),data:f.call(t.lookup(".."))}},function(){return f.include(t.lookupTemplate("__dynamicWithDataContext"))}),"\n  "]})]}),c.__checkName("__dynamicWithDataContext"),c.__dynamicWithDataContext=new c("Template.__dynamicWithDataContext",function(){var t=this;return f.With(function(){return f.dataMustache(t.lookup("chooseTemplate"),t.lookup("template"))},function(){return["\n    ",r._TemplateWith(function(){return f.call(f.dot(t.lookup(".."),"data"))},function(){return f.include(t.lookupTemplate(".."))}),"    \n  "]})})}.call(this),function(){c.__dynamicWithDataContext.helpers({chooseTemplate:function(t){return c[t]||null}}),c.__dynamic.helpers({dataContextPresent:function(){return l.has(this,"data")},checkContext:function(){if(!l.has(this,"template"))throw new Error("Must specify name in the 'template' argument to {{> Template.dynamic}}.");l.each(this,function(t,e){if("template"!==e&&"data"!==e)throw new Error("Invalid argument to {{> Template.dynamic}}: "+e)})}})}.call(this),"undefined"==typeof Package&&(Package={}),Package.spacebars={Spacebars:f}}();

!function(){var e=Package.meteor.Meteor,n;(function(){var a=0,r=!1;n={hold:function(){if(!e.isCordova)return{release:function(){}};if(r)throw new Error("Can't show launch screen once it's hidden");a++;var n=!1,t=function(){e.isCordova&&(n||(a--,0===a&&"undefined"!=typeof navigator&&navigator.splashscreen&&(r=!0,navigator.splashscreen.hide())))};return{release:t}}}}).call(this),function(){var a=n.hold(),r=Package.templating&&Package.templating.Template;e.startup(function(){r?Package["iron:router"]?Package["iron:router"].Router.onAfterAction(function(){a.release()}):(r.body.onRendered(function(){a.release()}),setTimeout(function(){a.release()},6e3)):a.release()})}.call(this),"undefined"==typeof Package&&(Package={}),Package["launch-screen"]={LaunchScreen:n}}();

Router=Package["iron:router"].Router,RouteController=Package["iron:router"].RouteController,AutoForm=Package["aldeed:autoform"].AutoForm,_=Package.underscore._,SightCall=Package.sightcall.SightCall,TrueVault=Package.truevault.TrueVault,HTTP=Package.http.HTTP,Base64=Package.base64.Base64,SimpleSchema=Package["aldeed:simple-schema"].SimpleSchema,MongoObject=Package["aldeed:simple-schema"].MongoObject,Roles=Package["alanning:roles"].Roles,moment=Package["momentjs:moment"].moment,ReactiveVar=Package["reactive-var"].ReactiveVar,SFax=Package.sfax.SFax,Counts=Package["tmeasday:publish-counts"].Counts,UserStatus=Package["mizzao:user-status"].UserStatus,Locations=Package.locations.Locations,Sessions=Package.sessions.Sessions,Kiosk=Package["kiosk-interface"].Kiosk,Users=Package.users.Users,ServiceConfiguration=Package["service-configuration"].ServiceConfiguration,Meteor=Package.meteor.Meteor,WebApp=Package.webapp.WebApp,Log=Package.logging.Log,Tracker=Package.deps.Tracker,Deps=Package.deps.Deps,Session=Package.session.Session,DDP=Package.livedata.DDP,Mongo=Package.mongo.Mongo,Blaze=Package.ui.Blaze,UI=Package.ui.UI,Handlebars=Package.ui.Handlebars,Spacebars=Package.spacebars.Spacebars,Template=Package.templating.Template,check=Package.check.check,Match=Package.check.Match,$=Package.jquery.$,jQuery=Package.jquery.jQuery,Random=Package.random.Random,EJSON=Package.ejson.EJSON,LaunchScreen=Package["launch-screen"].LaunchScreen,Iron=Package["iron:core"].Iron,Accounts=Package["accounts-base"].Accounts,HTML=Package.htmljs.HTML;

!function(){Template.__checkName("enrollPassword"),Template.enrollPassword=new Template("Template.enrollPassword",function(){var e=this;return HTML.DIV({"class":"ka-top ui center aligned three column stackable page grid"},"\n		",HTML.DIV({"class":"eight wide column"},"\n			",HTML.DIV({"class":function(){return["ui large fluid ",Blaze.If(function(){return Spacebars.call(e.lookup("error"))},function(){return" error "})," ",Blaze.If(function(){return Spacebars.call(e.lookup("showResult"))},function(){return" success "})," form segment"]}},"\n				",HTML.Raw('<h2 class="ui center aligned dividing header">\n					Set Your Password\n				</h2>'),"\n				",HTML.DIV({"class":"ui info message"},"\n					",HTML.UL({"class":"ui list"},"\n						",Blaze.Each(function(){return Spacebars.call(e.lookup("passwordRequirements"))},function(){return["\n							",HTML.LI({"class":"correct-left"},Blaze.View("lookup:.",function(){return Spacebars.mustache(e.lookup("."))})),"\n						"]}),"\n						",HTML.Raw('<li class="correct-left">Alternatively use a passphrase (at least 20 characters long).</li>'),"\n					"),"\n				"),"\n				",Blaze._TemplateWith(function(){return{schema:Spacebars.call("Users.resetPasswordSchema"),id:Spacebars.call("setPassword"),template:Spacebars.call("semanticUI"),errorsInLabels:Spacebars.call(!0),resetOnSuccess:Spacebars.call(!0),trimStrings:Spacebars.call(!1)}},function(){return Spacebars.include(e.lookupTemplate("autoForm"),function(){return["\n					",Blaze._TemplateWith(function(){return{name:Spacebars.call("newPassword"),type:Spacebars.call("password")}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))}),"\n					",Blaze._TemplateWith(function(){return{name:Spacebars.call("confirmPassword"),type:Spacebars.call("password")}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))}),"\n					",HTML.BUTTON({type:"submit","class":"ui small green right floated labeled button"},"Set"),"\n				"]})}),"\n			"),"\n		"),"\n	")})}();

!function(){Template.__checkName("enrollUsername"),Template.enrollUsername=new Template("Template.enrollUsername",function(){var e=this;return HTML.DIV({"class":"ka-top ui center aligned three column stackable page grid"},"\n		",HTML.DIV({"class":"eight wide column"},"\n			",HTML.DIV({"class":function(){return["ui large fluid ",Blaze.If(function(){return Spacebars.call(e.lookup("error"))},function(){return" error "})," ",Blaze.If(function(){return Spacebars.call(e.lookup("showResult"))},function(){return" success "})," form segment"]}},"\n				",HTML.Raw('<h2 class="ui center aligned dividing header">\n					Set Your Username\n				</h2>'),"\n				",HTML.Raw('<div class="ui info message">\n					<ul class="ui list">\n						<li class="correct-left">A username must be at least 6 characters.</li>\n						<li class="correct-left">A username can\'t be more than 20 characters.</li>\n						<li class="correct-left">A username can contain the characters a-z, A-Z, 0-9, and _</li>\n					</ul>\n				</div>'),"\n				",Blaze._TemplateWith(function(){return{schema:Spacebars.call("Users.setUsernameSchema"),id:Spacebars.call("setUsername"),template:Spacebars.call("semanticUI"),errorsInLabels:Spacebars.call(!0),resetOnSuccess:Spacebars.call(!0)}},function(){return Spacebars.include(e.lookupTemplate("autoForm"),function(){return["\n					",Blaze._TemplateWith(function(){return{name:Spacebars.call("username")}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))}),"\n					",HTML.BUTTON({type:"submit","class":"ui small green right floated labeled button"},"Set"),"\n				"]})}),"\n			"),"\n		"),"\n	")})}();

!function(){Template.__checkName("layout"),Template.layout=new Template("Template.layout",function(){var n=this;return[Spacebars.include(n.lookupTemplate("nav")),HTML.Raw('\n	<!-- <div class="ui page grid"> -->\n	<!--	<div class="sixteen wide column"> -->\n			<!-- {{> queue }} -->\n	'),Blaze.View("lookup:loggingIn",function(){return Spacebars.mustache(n.lookup("loggingIn"))}),"\n	",Blaze.If(function(){return Spacebars.call(Spacebars.dot(n.lookup("Meteor"),"loggingIn"))},function(){return["\n		",HTML.DIV({"class":"ui active dimmer"},HTML.DIV({"class":"ui loader"})),"\n	"]}),"\n			",Spacebars.include(n.lookupTemplate("yield")),HTML.Raw('\n	<!--	</div> -->\n	<!-- </div> -->\n	<!-- {{> loginButtons}} -->\n	<div class="ui small basic modal">\n		<div class="header">\n			Inactivity Alert\n		</div>\n		<div class="content">\n			<div class="image">\n				<i class="warning icon"></i>\n			</div>\n			<div class="description">\n				<p>Your connection will timeout in 5 minutes.</p>\n			</div>\n		</div>\n		<div class="actions">\n			<div class="ui inverted red basic cancel button">\n				<i class="remove icon"></i>\n				Cancel\n			</div>\n		</div>\n	</div>')]})}();

!function(){Template.__checkName("loading"),Template.loading=new Template("Template.loading",function(){var a=this;return HTML.Raw('<div class="ui page grid">\n		Loading\n	</div>')})}();

!function(){Template.__checkName("location"),Template.location=new Template("Template.location",function(){var e=this;return[HTML.DIV({"class":"ui two column page grid"},"\n		",HTML.DIV({"class":"equal height row"},"\n			",HTML.DIV({"class":"nine wide column"},"\n				",Blaze.If(function(){return Spacebars.call(e.lookup("edit"))},function(){return["\n					",Spacebars.include(e.lookupTemplate("_edit_location")),"\n				"]},function(){return["\n					",Spacebars.include(e.lookupTemplate("_location_details")),"\n				"]}),"\n			"),"\n			",HTML.DIV({"class":"seven wide column"},"\n				",Spacebars.include(e.lookupTemplate("_kiosk_details")),"\n			"),"\n		"),"\n	"),"\n	",HTML.DIV({"class":"ui page grid"},"\n		",HTML.DIV({"class":"sixteen wide column"},"\n			",HTML.DIV({"class":"ui grid"},"\n				",HTML.Raw('<div class="four wide column">\n				</div>'),"\n				",HTML.DIV({"class":"twelve wide column"},"\n					",Spacebars.include(e.lookupTemplate("_location_statistics")),"\n				"),"\n				",HTML.DIV({"class":"four wide column"},"\n					",Spacebars.include(e.lookupTemplate("_location_menu")),"\n				"),"\n				",HTML.DIV({"class":"twelve wide column"},"\n					",Spacebars.include(e.lookupTemplate("_location_sessions_table")),"\n				"),"\n			"),"\n		"),"\n	")]}),Template.__checkName("_location_sessions_table_header"),Template._location_sessions_table_header=new Template("Template._location_sessions_table_header",function(){var e=this;return HTML.THEAD("\n		",HTML.TR("\n			",HTML.Raw("<th></th>"),"\n			",HTML.TH({id:"createdAtSort","class":function(){return Spacebars.mustache(e.lookup("sortState"),"createdAt")}},"Creation Date"),"\n			",HTML.TH({id:"dentistSort","class":function(){return Spacebars.mustache(e.lookup("sortState"),"dentist.username")}},"Dentist"),"\n			",HTML.Raw("<th>Status</th>"),"\n		"),"\n	")}),Template.__checkName("_location_sessions_table_body"),Template._location_sessions_table_body=new Template("Template._location_sessions_table_body",function(){var e=this;return HTML.TBODY("\n		",Blaze.If(function(){return Spacebars.call(e.lookup("sessions"))},function(){return["\n			",Blaze.Each(function(){return Spacebars.call(e.lookup("sessions"))},function(){return["\n				",Spacebars.include(e.lookupTemplate("_location_sessions_table_row")),"\n			"]}),"\n		"]},function(){return["\n			",Blaze.If(function(){return Spacebars.call(e.lookup("sessionsReady"))},function(){return["\n				",HTML.TR({"class":"full-width"},HTML.TD({colspan:"4"},"No Results Found")),"\n			"]},function(){return["\n				",HTML.DIV({"class":"ui active inverted dimmer"},HTML.DIV({"class":"ui text loader"})),"\n			"]}),"\n		"]}),"\n	")}),Template.__checkName("_session_state_finished"),Template._session_state_finished=new Template("Template._session_state_finished",function(){var e=this;return HTML.Raw('<i class="green checkmark icon"></i> Finished')}),Template.__checkName("_session_state_inactive"),Template._session_state_inactive=new Template("Template._session_state_inactive",function(){var e=this;return HTML.Raw('<i class="yellow minus icon"></i> Inactive')}),Template.__checkName("_session_state_timeout"),Template._session_state_timeout=new Template("Template._session_state_timeout",function(){var e=this;return HTML.Raw('<i class="red remove icon"></i> Timed-out')}),Template.__checkName("_session_state_inprogress"),Template._session_state_inprogress=new Template("Template._session_state_inprogress",function(){var e=this;return HTML.Raw('<i class="blue ellipsis horizontal icon"></i> In-progress')}),Template.__checkName("_location_sessions_table_row"),Template._location_sessions_table_row=new Template("Template._location_sessions_table_row",function(){var e=this;return HTML.TR("\n		",HTML.TD(HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),Spacebars.kw({route:"session.show",sessionId:e.lookup("_id")}))}},HTML.Raw('<i class="unhide icon"></i>'),"Details")),"\n		",HTML.TD(Blaze.View("lookup:date",function(){return Spacebars.mustache(e.lookup("date"),e.lookup("createdAt"))})),"\n		",HTML.TD(HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),Spacebars.kw({route:"user.show",userId:Spacebars.dot(e.lookup("dentist"),"id")}))}},Blaze.View("lookup:dentist.username",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("dentist"),"username"))}))),"\n		",HTML.TD("\n			",Blaze._TemplateWith(function(){return{template:Spacebars.call(e.lookup("status"))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})}),"\n		"),"\n	")}),Template.__checkName("_location_sessions_table"),Template._location_sessions_table=new Template("Template._location_sessions_table",function(){var e=this;return[HTML.TABLE({"class":"ui sortable striped celled table"},"\n		",Spacebars.include(e.lookupTemplate("_location_sessions_table_header")),"\n		",Spacebars.include(e.lookupTemplate("_location_sessions_table_body")),"\n	"),"\n	",HTML.DIV("\n	",Blaze.If(function(){return Spacebars.call(e.lookup("loadMoreSessions"))},function(){return["\n		",HTML.A({href:function(){return Spacebars.mustache(e.lookup("loadMoreSessions"))},"class":"ui right floated small right labeled green icon button"},"\n			",HTML.I({"class":"down arrow icon"})," Load More\n		"),"\n	"]},function(){return["\n		",Blaze.Unless(function(){return Spacebars.call(e.lookup("sessionsReady"))},function(){return["\n			",HTML.A({"class":"ui loading right floated small right labeled green icon button"},"\n				",HTML.I({"class":"down arrow icon"})," Load More\n			"),"\n		"]}),"\n	"]}),"\n	")]}),Template.__checkName("_location_statistics"),Template._location_statistics=new Template("Template._location_statistics",function(){var e=this;return HTML.DIV({"class":"ui centered grid"},"\n		",Spacebars.With(function(){return Spacebars.call(e.lookup("location"))},function(){return["\n		",HTML.DIV({"class":"four wide column"},"\n			",HTML.DIV({"class":"ui green statistic"},"\n				",HTML.DIV({"class":"value"},"\n					",Blaze.View("lookup:getCounts",function(){return Spacebars.mustache(e.lookup("getCounts"),"finished",e.lookup("_id"))}),"\n					",HTML.Comment("\n					{{#if aggregate.finished}}\n						{{aggregate.finished}}\n					{{else}}\n						0\n					{{/if}}\n					"),"\n				"),"\n				",HTML.DIV({"class":"label"},"\n					Finished Sessions\n				"),"\n			"),"\n		"),"\n		",HTML.DIV({"class":"four wide column"},"\n			",HTML.DIV({"class":"ui yellow statistic"},"\n				",HTML.DIV({"class":"value"},"\n					",Blaze.View("lookup:getCounts",function(){return Spacebars.mustache(e.lookup("getCounts"),"inactive",e.lookup("_id"))}),"\n					",HTML.Comment("\n					{{#if aggregate.inactive}}\n						{{aggregate.inactive}}\n					{{else}}\n						0\n					{{/if}}\n					"),"\n				"),"\n				",HTML.DIV({"class":"label"},"\n					Inactive Sessions\n				"),"\n			"),"\n		"),"\n		",HTML.DIV({"class":"four wide column"},"\n			",HTML.DIV({"class":"ui red statistic"},"\n				",HTML.DIV({"class":"value"},"\n					",Blaze.View("lookup:getCounts",function(){return Spacebars.mustache(e.lookup("getCounts"),"timeout",e.lookup("_id"))}),"\n					",HTML.Comment("\n					{{#if aggregate.timeout}}\n						{{aggregate.timeout}}\n					{{else}}\n						0\n					{{/if}}\n					"),"\n				"),"\n				",HTML.DIV({"class":"label"},"\n					Timed-out Sessions\n				"),"\n			"),"\n		"),"\n		",HTML.DIV({"class":"four wide column"},"\n			",HTML.DIV({"class":"ui blue statistic"},"\n				",HTML.DIV({"class":"value"},"\n					",Blaze.View("lookup:getCounts",function(){return Spacebars.mustache(e.lookup("getCounts"),"inprogress",e.lookup("_id"))}),"\n					",HTML.Comment("\n					{{#if aggregate.inprogress}}\n						{{aggregate.inprogress}}\n					{{else}}\n						0\n					{{/if}}\n					"),"\n				"),"\n				",HTML.DIV({"class":"label"},"\n					In-progress Sessions\n				"),"\n			"),"\n		"),"\n		"]}),"\n	")}),Template.__checkName("_edit_location"),Template._edit_location=new Template("Template._edit_location",function(){var e=this;return[HTML.Raw('<div class="ui attached message">\n		Edit Location\n	</div>\n	'),HTML.DIV({"class":"ui attached form segment"},"\n		",Blaze.If(function(){return Spacebars.call(e.lookup("loading"))},function(){return["\n			",HTML.DIV({"class":"ui active inverted dimmer"},HTML.DIV({"class":"ui text loader"})),"\n		"]}),"\n		",Blaze._TemplateWith(function(){return{schema:Spacebars.call("Locations.schema"),id:Spacebars.call("updateLocation"),type:Spacebars.call("method-update"),meteormethod:Spacebars.call("updateLocation"),doc:Spacebars.call(Spacebars.dot(e.lookup("."),"location"))}},function(){return Spacebars.include(e.lookupTemplate("autoForm"),function(){return["\n			",HTML.DIV({"class":"ui grid"},"\n				",HTML.DIV({"class":"row"},"\n					",HTML.DIV({"class":"eight wide column"},"\n						",Blaze._TemplateWith(function(){return{name:Spacebars.call("name"),template:Spacebars.call("din")}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))}),"\n					"),"\n					",HTML.DIV({"class":"eight wide column"},"\n						",Blaze._TemplateWith(function(){return{name:Spacebars.call("contact.fax"),template:Spacebars.call("din")}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))}),"\n					"),"\n				"),"\n				",HTML.DIV({"class":"row"},"\n					",HTML.DIV({"class":"eight wide column"},"\n						",Blaze._TemplateWith(function(){return{name:Spacebars.call("contact.name"),template:Spacebars.call("din")}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))}),"\n					"),"\n					",HTML.DIV({"class":"eight wide column"},"\n						",Blaze._TemplateWith(function(){return{name:Spacebars.call("contact.number"),template:Spacebars.call("din")}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))}),"\n					"),"\n				"),"\n				",HTML.DIV({"class":"row"},"\n					",HTML.DIV({"class":"sixteen wide column"},"\n						",HTML.DIV({"class":"field"},"\n							",Blaze._TemplateWith(function(){return{name:Spacebars.call("address.one"),template:Spacebars.call("din")}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))}),"\n							",Blaze._TemplateWith(function(){return{name:Spacebars.call("address.two"),template:Spacebars.call("din")}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))}),"\n							",HTML.DIV({"class":"ui grid"},"\n								",HTML.DIV({"class":"eight wide column"},"\n									",Blaze._TemplateWith(function(){return{name:Spacebars.call("address.city"),template:Spacebars.call("din")}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))}),"\n								"),"\n								",HTML.DIV({"class":"four wide column"},"\n									",Blaze._TemplateWith(function(){return{name:Spacebars.call("address.state"),template:Spacebars.call("din")}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))}),"\n								"),"\n								",HTML.DIV({"class":"four wide column"},"\n									",Blaze._TemplateWith(function(){return{name:Spacebars.call("address.zip"),template:Spacebars.call("din")}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))}),"\n								"),"\n							"),"\n						"),"\n					"),"\n				"),"\n			"),HTML.BR(),"\n			",HTML.BUTTON({id:"finishEdit",type:"submit","class":"ui small green labeled icon button"},HTML.I({"class":"save icon"})," Save"),"\n		"]})}),"\n	")]}),Template.__checkName("_location_details"),Template._location_details=new Template("Template._location_details",function(){var e=this;return[HTML.Raw('<div class="ui attached message">\n		Location Details\n	</div>\n	'),HTML.DIV({"class":"ui attached form segment"},"\n		",HTML.DIV({"class":"ui grid"},"\n			",HTML.DIV({"class":"row"},"\n				",HTML.DIV({"class":"eight wide column"},"\n					",HTML.DIV({"class":"field"},"\n						",HTML.Raw("<label>Name:</label>"),"\n						",HTML.P(Blaze.View("lookup:location.name",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("location"),"name"))})),"\n					"),"\n				"),"\n				",HTML.DIV({"class":"eight wide column"},"\n					",HTML.DIV({"class":"field"},"\n						",HTML.Raw("<label>Fax Number:</label>"),"\n						",HTML.P(Blaze.View("lookup:location.contact.fax",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("location"),"contact","fax"))})),"\n					"),"\n				"),"\n			"),"\n			",HTML.DIV({"class":"row"},"\n				",HTML.DIV({"class":"eight wide column"},"\n					",HTML.DIV({"class":"field"},"\n						",HTML.Raw("<label>Address:</label>"),"\n						",HTML.DIV(Blaze.View("lookup:location.address.one",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("location"),"address","one"))})),"\n						",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("location"),"address","two"))},function(){return["\n							",HTML.DIV(Blaze.View("lookup:location.address.two",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("location"),"address","two"))})),"\n						"]}),"\n						",HTML.DIV(Blaze.View("lookup:location.address.city",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("location"),"address","city"))}),", ",Blaze.View("lookup:location.address.state",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("location"),"address","state"))})," ",Blaze.View("lookup:location.address.zip",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("location"),"address","zip"))})),"\n					"),"\n				"),"\n				",HTML.DIV({"class":"eight wide column"},"\n					",HTML.DIV({"class":"field"},"\n						",HTML.Raw("<label>Contact Information</label>"),"\n						",HTML.DIV(Blaze.View("lookup:location.contact.name",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("location"),"contact","name"))})),"\n						",HTML.DIV(Blaze.View("lookup:location.contact.number",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("location"),"contact","number"))})),"\n					"),"\n				"),"\n			"),"\n		"),HTML.Raw("<br>"),"\n		",HTML.Raw('<button id="editLocation" class="ui small green labeled icon button"><i class="edit icon"></i> Edit</button>'),"\n	")]}),Template.__checkName("_kiosk_details"),Template._kiosk_details=new Template("Template._kiosk_details",function(){var e=this;return[HTML.DIV({"class":"ui attached message"},"\n		",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("location"),"kiosk","active"))},function(){return["\n			",HTML.DIV({id:"kioskEnabled","class":"ui green top right attached label"},HTML.A("Enabled")),"\n		"]},function(){return["\n			",HTML.DIV({id:"kioskDisabled","class":"ui red top right attached label"},HTML.A("Disabled")),"\n		"]}),"\n		Kiosk Details\n	"),"\n	",HTML.DIV({"class":"ui attached form segment"},"\n		",Blaze.If(function(){return Spacebars.call(e.lookup("loading"))},function(){return["\n			",HTML.DIV({"class":"ui active inverted dimmer"},HTML.DIV({"class":"ui text loader"})),"\n		"]}),"\n		",HTML.DIV({"class":"field"},"\n			",HTML.Raw("<label>API Key:</label>"),"\n			",HTML.P(Blaze.View("lookup:location.kiosk.apiKey",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("location"),"kiosk","apiKey"))})),"\n		"),"\n		",HTML.DIV({"class":"field"},"\n			",HTML.Raw("<label>Secret Key:</label>"),"\n			",HTML.P(Blaze.View("lookup:location.kiosk.secret",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("location"),"kiosk","secret"))})),"\n		"),"\n		",HTML.DIV({"class":"field"},"\n			",HTML.Raw("<label>Access Code:</label>"),"\n			",HTML.P(Blaze.View("lookup:location.kiosk.code",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("location"),"kiosk","code"))})),"\n		"),"\n		",HTML.Raw('<button id="newSecret" class="ui small green button">New Secret</button>'),"\n		",HTML.Raw('<button id="newCode" class="ui small green button">New Code</button>'),"\n	")]}),Template.__checkName("_location_menu"),Template._location_menu=new Template("Template._location_menu",function(){var e=this;return[HTML.Raw('<div class="ui attached message">\n		<i class="filter icon"></i>\n		Usage Reporting\n	</div>\n	'),HTML.DIV({"class":"ui attached form segment"},"\n		",HTML.DIV({"class":"field"},"\n			",Spacebars.include(e.lookupTemplate("_dentist_filter")),"\n		"),"\n		",HTML.Raw("<!-- <label>Date Range</label> -->"),"\n		",HTML.Raw('<div class="field">\n			<label>Date Range</label>\n			<div class="ui icon input">\n				<input id="dateStart" type="date" placeholder="Start">\n				<i class="calendar icon"></i>\n			</div>\n		<!-- </div> -->\n		<!-- <div class="field"> -->\n			<div class="ui icon input">\n				<input id="dateEnd" type="date" placeholder="End">\n				<i class="calendar icon"></i>\n			</div>\n		</div>'),"\n		",HTML.Raw('<!--<div class="field">\n			<label>Kiosk Usage for</label>\n			<div class="field">\n				<div class="ui icon input">\n					<input id="date" type="month" placeholder="Month..." />\n					<i class="calendar icon"></i>\n				</div>\n			</div>\n		</div>-->'),"\n	")]})}();

!function(){Template.__checkName("locations.list"),Template["locations.list"]=new Template("Template.locations.list",function(){var n=this;return HTML.TABLE({ui:"",green:"",striped:"",table:""},"\n		",HTML.THEAD("\n			",HTML.TR("\n				",HTML.TH("Name"),"\n				",HTML.TH("Address"),"\n				",HTML.TH("Contact"),"\n				",HTML.TH("Fax"),"\n			"),"\n		"),"\n		",HTML.TBODY("\n\n		"),"\n		",HTML.TFOOT("\n			",HTML.TR("\n				",HTML.TH({colspan:"4"},"\n					",HTML.A({"class":"ui green right floated small primary labeled icon button"},"\n						",HTML.I({"class":"building icon outline"})," New Location\n					"),"\n				"),"\n			"),"\n		"),"\n	")}),Template.__checkName("_location.row"),Template["_location.row"]=new Template("Template._location.row",function(){var n=this;return HTML.Raw("<tr>\n		<td>\n			\n		</td>\n	</tr>")})}();

!function(){Template.__checkName("locations"),Template.locations=new Template("Template.locations",function(){var e=this;return HTML.DIV({"class":"ui page grid"},"\n		",HTML.DIV({"class":"four wide column"},"\n			",Spacebars.include(e.lookupTemplate("_locations_menu")),"\n		"),"\n		",HTML.DIV({"class":"twelve wide column"},"\n			",Spacebars.include(e.lookupTemplate("_locations_table")),"\n		"),"\n	")}),Template.__checkName("_locations_table"),Template._locations_table=new Template("Template._locations_table",function(){var e=this;return[HTML.TABLE({"class":"ui sortable striped celled table"},"\n		",Spacebars.include(e.lookupTemplate("_locations_table_header")),"\n		",Spacebars.include(e.lookupTemplate("_locations_table_body")),"\n	"),HTML.Raw('\n	<!-- <a href="{{pathFor location.new}}" class="ui small right labeled green icon button"> -->\n	'),Blaze.If(function(){return Spacebars.call(e.lookup("createLocation"))},function(){return["\n		",Spacebars.include(e.lookupTemplate("_new_location")),"\n		",HTML.BR(),"\n	"]},function(){return["\n		",HTML.BUTTON({id:"createLocation","class":"ui small right labeled green icon button"},"\n			",HTML.I({"class":"plus icon"})," New Location\n		"),"\n	"]}),"\n	",Blaze.If(function(){return Spacebars.call(e.lookup("loadMoreLocations"))},function(){return["\n		",HTML.A({href:function(){return Spacebars.mustache(e.lookup("loadMoreLocations"))},"class":"ui right floated small right labeled green icon button"},"\n			",HTML.I({"class":"down arrow icon"})," Load More\n		"),"\n	"]},function(){return["\n		",Blaze.Unless(function(){return Spacebars.call(e.lookup("locationsReady"))},function(){return["\n			",HTML.A({"class":"ui loading right floated small right labeled green icon button"},"\n				",HTML.I({"class":"down arrow icon"})," Load More\n			"),"\n		"]}),"\n	"]})]}),Template.__checkName("_locations_table_header"),Template._locations_table_header=new Template("Template._locations_table_header",function(){var e=this;return HTML.THEAD("\n		",HTML.TR("\n			",HTML.Raw("<th></th>"),"\n			",HTML.TH({id:"nameSort","class":function(){return Spacebars.mustache(e.lookup("sortState"),"name")}}," Name"),"\n			",HTML.Raw("<th> Address</th>"),"\n			",HTML.Raw("<th> Contact</th>"),"\n			",HTML.Raw("<th> Usage Counts</th>"),"\n		"),"\n	")}),Template.__checkName("_locations_table_body"),Template._locations_table_body=new Template("Template._locations_table_body",function(){var e=this;return HTML.TBODY("\n		",Blaze.If(function(){return Spacebars.call(e.lookup("locations"))},function(){return["\n			",Blaze.Each(function(){return Spacebars.call(e.lookup("locations"))},function(){return["\n				",Spacebars.include(e.lookupTemplate("_locations_table_row")),"\n			"]}),"\n		"]},function(){return["\n			",Blaze.If(function(){return Spacebars.call(e.lookup("locationsReady"))},function(){return["\n				",HTML.TR({"class":"full-width"},HTML.TD({colspan:"5"},"No Results Found")),"\n			"]},function(){return["\n				",HTML.DIV({"class":"ui active inverted dimmer"},HTML.DIV({"class":"ui text loader"})),"\n			"]}),"\n		"]}),"\n	")}),Template.__checkName("_locations_table_row"),Template._locations_table_row=new Template("Template._locations_table_row",function(){var e=this;return HTML.TR("\n		",HTML.TD("\n			",HTML.DIV(HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),Spacebars.kw({route:"location.show",locationId:e.lookup("_id")}))}},HTML.Raw('<i class="unhide icon"></i>'),"Details")),"\n			",HTML.Raw('<!-- <div><a href="{{pathFor route=\'location.edit\' locationId=_id}}"><i class="edit icon"></i>Edit</a></div> -->'),"\n		"),"\n		",HTML.TD(Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})),"\n		",HTML.TD("\n			",HTML.DIV(Blaze.View("lookup:address.one",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("address"),"one"))})),"\n			",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("address"),"two"))},function(){return HTML.DIV(Blaze.View("lookup:address.two",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("address"),"two"))}))}),"\n			",HTML.DIV(Blaze.View("lookup:address.city",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("address"),"city"))}),", ",Blaze.View("lookup:address.state",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("address"),"state"))})," ",Blaze.View("lookup:address.zip",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("address"),"zip"))})),"\n		"),"\n		",HTML.TD("\n			",HTML.DIV(Blaze.View("lookup:contact.name",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("contact"),"name"))})),"\n			",HTML.DIV(Blaze.View("lookup:contact.number",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("contact"),"number"))})),"\n		"),HTML.Raw('\n		<!-- <td><span class="green">{{aggregate.finished}}</span><span class="yellow">{{aggregate.inactive}}</span><span class="red">{{aggregate.timeout}}</span></td> -->\n		'),HTML.TD("\n			",HTML.DIV({"class":"ui small green label"},"\n				",Blaze.View("lookup:getCounts",function(){return Spacebars.mustache(e.lookup("getCounts"),"finished",e.lookup("_id"))}),"\n				",HTML.Raw("<!--\n				{{#if aggregate.finished}}\n					{{aggregate.finished}}\n				{{else}}\n					0\n				{{/if}}\n				-->"),"\n			"),"\n			",HTML.DIV({"class":"ui small yellow label"},"\n				",Blaze.View("lookup:getCounts",function(){return Spacebars.mustache(e.lookup("getCounts"),"inactive",e.lookup("_id"))}),"\n				",HTML.Raw("<!--\n				{{#if aggregate.inactive}}\n					{{aggregate.inactive}}\n				{{else}}\n					0\n				{{/if}}\n				-->"),"\n			"),"\n			",HTML.DIV({"class":"ui small red label"},"\n				",Blaze.View("lookup:getCounts",function(){return Spacebars.mustache(e.lookup("getCounts"),"timeout",e.lookup("_id"))}),"\n				",HTML.Raw("<!--\n				{{#if aggregate.timeout}}\n					{{aggregate.timeout}}\n				{{else}}\n					0\n				{{/if}}\n				-->"),"\n			"),"\n			",HTML.DIV({"class":"ui small blue label"},"\n				",Blaze.View("lookup:getCounts",function(){return Spacebars.mustache(e.lookup("getCounts"),"inprogress",e.lookup("_id"))}),"\n				",HTML.Raw("<!--\n				{{#if aggregate.inprogress}}\n					{{aggregate.inprogress}}\n				{{else}}\n					0\n				{{/if}}\n				-->"),"\n			"),"\n		"),"\n	")}),Template.__checkName("_locations_table_footer"),Template._locations_table_footer=new Template("Template._locations_table_footer",function(){var e=this;return HTML.Raw('<tfoot class="full-width">\n		<tr>\n			<th colspan="5">\n				<div class="ui right float small right labeled green icon button">\n					<i class="plus icon"></i> New Location\n				</div>\n			</th>\n		</tr>\n	</tfoot>')}),Template.__checkName("_new_location"),Template._new_location=new Template("Template._new_location",function(){var e=this;return[HTML.Raw('<div class="ui attached message">\n		New Location\n	</div>\n	'),HTML.DIV({"class":"ui attached form segment"},"\n		",Blaze.If(function(){return Spacebars.call(e.lookup("loading"))},function(){return["\n			",HTML.DIV({"class":"ui active inverted dimmer"},HTML.DIV({"class":"ui text loader"})),"\n		"]}),"\n		",Blaze._TemplateWith(function(){return{schema:Spacebars.call("Locations.schema"),id:Spacebars.call("newLocation"),type:Spacebars.call("method"),errorsInLabels:Spacebars.call(!0),meteormethod:Spacebars.call("createLocation")}},function(){return Spacebars.include(e.lookupTemplate("autoForm"),function(){return["\n			",HTML.DIV({"class":"ui grid"},"\n				",HTML.DIV({"class":"row"},"\n					",HTML.DIV({"class":"eight wide column"},"\n						",Blaze._TemplateWith(function(){return{name:Spacebars.call("name"),template:Spacebars.call("semanticUI")}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))}),"\n					"),"\n					",HTML.DIV({"class":"eight wide column"},"\n						",Blaze._TemplateWith(function(){return{name:Spacebars.call("contact.fax"),template:Spacebars.call("semanticUI")}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))}),"\n					"),"\n				"),"\n				",HTML.DIV({"class":"row"},"\n					",HTML.DIV({"class":"eight wide column"},"\n						",Blaze._TemplateWith(function(){return{name:Spacebars.call("contact.name"),template:Spacebars.call("semanticUI")}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))}),"\n					"),"\n					",HTML.DIV({"class":"eight wide column"},"\n						",Blaze._TemplateWith(function(){return{name:Spacebars.call("contact.number"),template:Spacebars.call("semanticUI")}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))}),"\n					"),"\n				"),"\n				",HTML.DIV({"class":"row"},"\n					",HTML.DIV({"class":"sixteen wide column"},"\n						",HTML.DIV({"class":"field"},"\n							",Blaze._TemplateWith(function(){return{name:Spacebars.call("address.one"),template:Spacebars.call("semanticUI")}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))}),"\n							",Blaze._TemplateWith(function(){return{name:Spacebars.call("address.two"),template:Spacebars.call("semanticUI")}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))}),"\n							",HTML.DIV({"class":"ui grid"},"\n								",HTML.DIV({"class":"eight wide column"},"\n									",Blaze._TemplateWith(function(){return{name:Spacebars.call("address.city"),template:Spacebars.call("semanticUI")}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))}),"\n								"),"\n								",HTML.DIV({"class":"four wide column"},"\n									",Blaze._TemplateWith(function(){return{name:Spacebars.call("address.state"),template:Spacebars.call("semanticUI")}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))}),"\n								"),"\n								",HTML.DIV({"class":"four wide column"},"\n									",Blaze._TemplateWith(function(){return{name:Spacebars.call("address.zip"),template:Spacebars.call("semanticUI")}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))}),"\n								"),"\n							"),"\n						"),"\n					"),"\n				"),"\n			"),HTML.BR(),"\n			",HTML.BUTTON({id:"finishCreate",type:"submit","class":"ui small green right floated labeled icon button"},HTML.I({"class":"plus icon"})," Create"),"\n			",HTML.BUTTON({id:"cancelCreate","class":"ui small green labeled icon button"},HTML.I({"class":"minus icon"})," Cancel"),"\n		"]})}),"\n	")]}),Template.__checkName("_locations_menu"),Template._locations_menu=new Template("Template._locations_menu",function(){var e=this;return HTML.Raw('<div class="ui attached message">\n		<i class="filter icon"></i>\n		Usage Reporting\n	</div>\n	<div class="ui attached form segment">\n		<div class="field">\n			<label>Kiosk Usage for</label>\n			<div class="field">\n				<div class="ui icon input">\n					<input id="date" type="month" placeholder="Month...">\n					<i class="calendar icon"></i>\n				</div>\n			</div>\n		</div>\n	</div>\n	<!-- <div class="ui attached segment"> -->\n		<p><div class="ui small green label">N</div> Finished Sessions</p>\n		<p><div class="ui small yellow label">N</div> Inactive Sessions</p>\n		<p><div class="ui small red label">N</div> Timed-out Sessions</p>\n		<p><div class="ui small blue label">N</div> In-progress Sessions</p>\n	<!-- </div> -->')})}();

!function(){Template.__checkName("login"),Template.login=new Template("Template.login",function(){var e=this;return HTML.DIV({"class":"ka-top ui center aligned three column stackable page grid"},"\n		",HTML.DIV({"class":"eight wide column"},"\n			",HTML.DIV({"class":function(){return["ui large fluid ",Blaze.If(function(){return Spacebars.call(e.lookup("error"))},function(){return" error "})," ",Blaze.If(function(){return Spacebars.call(e.lookup("showResult"))},function(){return" success "})," form segment"]}},"\n				",HTML.H2({"class":"ui center aligned dividing header"},"\n					",Blaze.If(function(){return Spacebars.call(e.lookup("forgotPassword"))},function(){return"\n						Forgot Password\n					"},function(){return"\n						Login\n					"}),"\n				"),"\n				",Blaze.If(function(){return Spacebars.call(e.lookup("error"))},function(){return["\n					",HTML.DIV({"class":"ui icon error message"},"\n						",HTML.I({"class":"warning icon"}),"\n						",HTML.DIV({"class":"content"},"\n							",HTML.P(Blaze.View("lookup:error",function(){return Spacebars.mustache(e.lookup("error"))})),"\n						"),"\n					"),"\n				"]}),"\n				",Blaze.If(function(){return Spacebars.call(e.lookup("sent"))},function(){return["\n					",HTML.DIV({"class":"ui icon success message"},"\n						",HTML.I({"class":"checkmark icon"}),"\n						",HTML.DIV({"class":"content"},"\n							",HTML.P(Blaze.View("lookup:sent",function(){return Spacebars.mustache(e.lookup("sent"))})),"\n						"),"\n					"),"\n				"]}),"\n				",Blaze.If(function(){return Spacebars.call(e.lookup("forgotPassword"))},function(){return["\n					",Spacebars.include(e.lookupTemplate("_forgot_password")),"\n				"]},function(){return["\n					",Spacebars.include(e.lookupTemplate("_login")),"\n				"]}),"\n			"),"\n		"),"\n	")}),Template.__checkName("_login"),Template._login=new Template("Template._login",function(){var e=this;return Blaze._TemplateWith(function(){return{schema:Spacebars.call("Users.loginSchema"),id:Spacebars.call("loginForm"),template:Spacebars.call("semanticUI")}},function(){return Spacebars.include(e.lookupTemplate("autoForm"),function(){return["\n		",Blaze._TemplateWith(function(){return{name:Spacebars.call("username")}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))}),"\n		",Blaze._TemplateWith(function(){return{name:Spacebars.call("password"),type:Spacebars.call("password")}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))}),"\n		",HTML.BUTTON({type:"submit","class":"ui small green right floated labeled button"},"Login"),"\n		",HTML.A({href:"#",id:"forgotPasswordLink"},"Forgot password?"),"\n	"]})})}),Template.__checkName("_forgot_password"),Template._forgot_password=new Template("Template._forgot_password",function(){var e=this;return Blaze._TemplateWith(function(){return{schema:Spacebars.call("Users.forgotPasswordSchema"),id:Spacebars.call("forgotPasswordForm"),template:Spacebars.call("semanticUI")}},function(){return Spacebars.include(e.lookupTemplate("autoForm"),function(){return["\n		",Blaze._TemplateWith(function(){return{name:Spacebars.call("email"),type:Spacebars.call("email")}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))}),"\n		",HTML.BUTTON({type:"submit","class":"ui small green right floated labeled button"},"Reset"),"\n	"]})})})}();

!function(){Template.__checkName("nav"),Template.nav=new Template("Template.nav",function(){var n=this;return HTML.DIV({"class":"ui green secondary pointing menu navbar page grid"},HTML.Raw('\n		<div class="header item">\n			Dentist Is In\n		</div>\n		'),Blaze.If(function(){return Spacebars.dataMustache(n.lookup("isInRole"),"dentist,ma")},function(){return["\n			",HTML.A({"class":function(){return[Spacebars.mustache(n.lookup("isActiveRoute"),Spacebars.kw({regex:"^queue(.*)|^session(.*)voip$"}))," item"]},href:function(){return Spacebars.mustache(n.lookup("pathFor"),"queue.show")}},"\n				",HTML.I({"class":"treatment icon"}),"\n				Patient Queue\n			"),"\n		"]}),"\n		",Blaze.If(function(){return Spacebars.dataMustache(n.lookup("isInRole"),"ma,ta")},function(){return["\n			",HTML.A({"class":function(){return[Spacebars.mustache(n.lookup("isActiveRoute"),Spacebars.kw({regex:"^location(.*)$"}))," item"]},href:function(){return Spacebars.mustache(n.lookup("pathFor"),"locations.show")}},"\n				",HTML.I({"class":"building outline icon"}),"\n				Locations\n			"),"\n		"]}),"\n		",Blaze.If(function(){return Spacebars.dataMustache(n.lookup("isInRole"),"ma,ta")},function(){return["\n			",HTML.A({"class":function(){return[Spacebars.mustache(n.lookup("isActiveRoute"),Spacebars.kw({regex:"^users"}))," item"]},href:function(){return Spacebars.mustache(n.lookup("pathFor"),"users.show")}},"\n				",HTML.I({"class":"doctor icon"}),"\n				Users\n			"),"\n		"]}),"\n		",Blaze.If(function(){return Spacebars.dataMustache(n.lookup("isInRole"),"ma")},function(){return["\n			",HTML.A({"class":function(){return[Spacebars.mustache(n.lookup("isActiveRoute"),Spacebars.kw({regex:"^(?!.*voip$)session(.*)"}))," item"]},href:function(){return Spacebars.mustache(n.lookup("pathFor"),"sessions.show")}},"\n				",HTML.I({"class":"folder open outline icon"}),"\n				Sessions\n			"),"\n		"]}),"\n		",HTML.DIV({"class":"right menu"},"\n			",HTML.DIV({id:"nav-profile","class":"ui pointing dropdown link item"},"\n				",Blaze.If(function(){return Spacebars.call(n.lookup("userId"))},function(){return["\n				",Blaze.View("lookup:displayName",function(){return Spacebars.mustache(n.lookup("displayName"))}),"\n				",HTML.I({"class":"dropdown icon"}),"\n				",HTML.DIV({"class":"ui secondary vertical pointing menu"},"\n					",HTML.A({href:function(){return Spacebars.mustache(n.lookup("pathFor"),Spacebars.kw({route:"user.show",userId:n.lookup("userId")}))},"class":"item"},"\n						",HTML.I({"class":"user icon"}),"\n						Profile\n					"),"\n					",HTML.A({id:"signOut","class":"item"},"\n						",HTML.I({"class":"sign out icon"}),"\n						Sign Out\n					"),"\n				"),"\n				"]}),"\n			"),"\n		"),"\n	")})}();

!function(){Template.__checkName("patient_form"),Template.patient_form=new Template("Template.patient_form",function(){var e=this;return[HTML.DIV({"class":"ui top attached tabular menu"},"\n			",HTML.A({id:"patientTab","class":function(){return[Spacebars.mustache(e.lookup("activeTab"),"patientInfo")," item"]}},"\n				Patient Information\n			"),"\n			",HTML.A({id:"dentistTab","class":function(){return[Spacebars.mustache(e.lookup("activeTab"),"dentistNotes")," ",Spacebars.mustache(e.lookup("enabledTab"))," item"]}},"\n				Dentist Notes\n			"),"\n		"),"\n		",HTML.DIV({"class":"ui bottom attached segment"},"\n			",HTML.Raw('<div class="ui horizontal divider">Language</div>'),"\n			",Blaze.View("lookup:language",function(){return Spacebars.mustache(e.lookup("language"))}),"\n			",Spacebars.With(function(){return Spacebars.call(Spacebars.dot(e.lookup("patient"),"form"))},function(){return["\n				",HTML.DIV({"class":"ui horizontal divider"},"Name"),"\n				",Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))}),"\n				",HTML.DIV({"class":"ui horizontal divider"},"Address"),"\n				",Blaze.View("lookup:patientAddressOne",function(){return Spacebars.mustache(e.lookup("patientAddressOne"))})," ",HTML.BR(),"\n				",Blaze.If(function(){return Spacebars.call(e.lookup("patientAddressTwo"))},function(){return["\n					",Blaze.View("lookup:patientAddressTwo",function(){return Spacebars.mustache(e.lookup("patientAddressTwo"))})," ",HTML.BR(),"\n				"]}),"\n				",Blaze.View("lookup:patientAddressCity",function(){return Spacebars.mustache(e.lookup("patientAddressCity"))}),", ",Blaze.View("lookup:patientAddressState",function(){return Spacebars.mustache(e.lookup("patientAddressState"))})," ",Blaze.View("lookup:patientAddressZip",function(){return Spacebars.mustache(e.lookup("patientAddressZip"))})," ",HTML.BR(),"\n				",HTML.DIV({"class":"ui horizontal divider"},"Contact"),"\n				",HTML.LABEL("E-mail")," ",Blaze.View("lookup:patientContactEmail",function(){return Spacebars.mustache(e.lookup("patientContactEmail"))})," ",HTML.BR(),"\n				",HTML.LABEL("Phone")," ",Blaze.View("lookup:patientContactPhone",function(){return Spacebars.mustache(e.lookup("patientContactPhone"))})," ",HTML.BR(),"\n				",HTML.DIV({"class":"ui horizontal divider"},"Date of Birth"),"\n				",Blaze.View("lookup:dob",function(){return Spacebars.mustache(e.lookup("dob"))}),"\n				",HTML.DIV({"class":"ui horizontal divider"},"Sex"),"\n				",Blaze.View("lookup:sex",function(){return Spacebars.mustache(e.lookup("sex"))}),"\n				",HTML.DIV({"class":"ui horizontal divider"},"Payment Method"),"\n				",Blaze.View("lookup:payment",function(){return Spacebars.mustache(e.lookup("payment"),e.lookup("patientInsuranceInsurance"))}),"\n				",HTML.DIV({"class":"ui horizontal divider"},"Medical Conditions"),"\n				",Blaze.View("lookup:conditions",function(){return Spacebars.mustache(e.lookup("conditions"))}),"\n				",HTML.DIV({"class":"ui horizontal divider"},"Current Medications"),"\n				",Blaze.View("lookup:medications",function(){return Spacebars.mustache(e.lookup("medications"))}),"\n				",HTML.DIV({"class":"ui horizontal divider"},"Allergies"),"\n				",Blaze.View("lookup:allergies",function(){return Spacebars.mustache(e.lookup("allergies"))}),"\n			"]}),"\n		"),"\n		",HTML.DIV({"class":"ui form bottom attached fluid segment"},"\n			",Blaze._TemplateWith(function(){return{schema:Spacebars.call("Schemas.DentistNotes"),meteormethod:Spacebars.call("createDentistNotes"),id:Spacebars.call("createDentistNotes"),type:Spacebars.call("method")}},function(){return Spacebars.include(e.lookupTemplate("autoForm"),function(){return["\n				",Blaze._TemplateWith(function(){return{name:Spacebars.call("clinicalImpression"),template:Spacebars.call("din"),rows:Spacebars.call(4)}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))}),"\n				",Blaze._TemplateWith(function(){return{name:Spacebars.call("recommendation"),template:Spacebars.call("din"),rows:Spacebars.call(4)}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))}),"\n				",Blaze._TemplateWith(function(){return{name:Spacebars.call("recommendedPrescriptions"),template:Spacebars.call("din"),rows:Spacebars.call(4)}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))}),"\n				",HTML.BUTTON({type:"submit","class":"ui small green right labeled icon submit button"},"\n					",HTML.I({"class":"upload icon"}),"\n					Submit and End Call\n				"),"\n			"]})}),"\n		"),"\n		",HTML.DIV({"class":function(){return["ui ",Spacebars.mustache(e.lookup("disabledCall"))," bottom attached segment"]}},"\n			",HTML.Raw('<div class="ui checkbox">\n				<input type="checkbox" name="readAll">\n				<label>I have reviewed all submitted patient information</label>\n			</div>'),"\n			",HTML.A({id:"callPatient","class":function(){return["ui small green right labeled icon button ",Spacebars.mustache(e.lookup("readAll"))]}},"\n				",HTML.Raw('<i class="call icon"></i>'),"\n				Call Patient\n			"),"\n		")]})}();

!function(){Template.__checkName("profile"),Template.profile=new Template("Template.profile",function(){var e=this;return HTML.DIV({"class":"ui page grid"},"\n		",HTML.DIV({"class":"sixteen wide column"},"\n			",HTML.H2({"class":"ui dividing header"},"\n				",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("profile"),"profile","name"))},function(){return["\n					",Blaze.View("lookup:profile.profile.name",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("profile"),"profile","name"))}),"'s Profile\n				"]},function(){return["\n					",Blaze.View("lookup:displayName",function(){return Spacebars.mustache(e.lookup("displayName"),Spacebars.dot(e.lookup("profile"),"_id"))}),"'s Profile\n				"]}),"\n			"),"\n			",Spacebars.include(e.lookupTemplate("_admin_enable")),"\n			",HTML.DIV({"class":"nine wide column"},"\n				",Blaze.If(function(){return Spacebars.call(e.lookup("edit"))},function(){return["\n					",Spacebars.include(e.lookupTemplate("_edit_user")),"\n				"]},function(){return["\n					",Spacebars.include(e.lookupTemplate("_user_details")),"\n				"]}),"\n			"),"	\n			",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("isMe"),Spacebars.dot(e.lookup("profile"),"_id"))},function(){return["\n				",Spacebars.include(e.lookupTemplate("_change_password")),"\n			"]}),"\n		"),"\n	")}),Template.__checkName("_admin_enable"),Template._admin_enable=new Template("Template._admin_enable",function(){var e=this;return Blaze.Unless(function(){return Spacebars.dataMustache(e.lookup("isMe"),Spacebars.dot(e.lookup("profile"),"_id"))},function(){return["\n		",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("isInRole"),"ma,ta")},function(){return["\n			",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("profile"),"active"))},function(){return["\n				",HTML.DIV({id:"disableAcct","class":function(){return["negative ui small ",Spacebars.mustache(e.lookup("loading"))," button"]}},"Disable Account"),"\n			"]},function(){return["\n				",HTML.DIV({id:"enableAcct","class":function(){return["positive ui small ",Spacebars.mustache(e.lookup("loading"))," button"]}},"Enable Account"),"\n			"]}),"\n		"]}),"\n	"]})}),Template.__checkName("_admin_group"),Template._admin_group=new Template("Template._admin_group",function(){var e=this;return Blaze.Unless(function(){return Spacebars.dataMustache(e.lookup("isMe"),Spacebars.dot(e.lookup("profile"),"_id"))},function(){return["\n		",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("isInRole"),"ma,ta")},function(){return["\n			",HTML.H4({"class":"ui header"},"\n				Group\n			"),"\n			Bye\n		"]}),"\n	"]})}),Template.__checkName("_email"),Template._email=new Template("Template._email",function(){var e=this;return[HTML.Raw('<h4 class="ui header">\n		Email Address\n	</h4>\n	'),Blaze.Each(function(){return Spacebars.call(Spacebars.dot(e.lookup("profile"),"emails"))},function(){return["\n		",Blaze.View("lookup:..address",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"address"))}),"\n	"]})]}),Template.__checkName("_edit_user"),Template._edit_user=new Template("Template._edit_user",function(){var e=this;return[HTML.Raw('<div class="ui attached message">\n		Edit User Details\n	</div>\n	'),HTML.DIV({"class":"ui attached form segment"},"\n		",Blaze.If(function(){return Spacebars.call(e.lookup("loading"))},function(){return["\n			",HTML.DIV({"class":"ui active inverted dimmer"},HTML.DIV({"class":"ui text loader"})),"\n		"]}),"\n		",Blaze._TemplateWith(function(){return{schema:Spacebars.call("Users.updateUserSchema"),id:Spacebars.call("changeUser"),template:Spacebars.call("semanticUI"),errorsInLabels:Spacebars.call(!0),resetOnSuccess:Spacebars.call(!0)}},function(){return Spacebars.include(e.lookupTemplate("autoForm"),function(){return["\n			",HTML.DIV({"class":"ui grid"},"\n				",HTML.DIV({"class":"row"},"\n					",HTML.DIV({"class":"eight wide column"},"\n						",HTML.DIV({"class":"field"},"\n							",HTML.LABEL("Name:"),"\n							",HTML.P(Blaze.View("lookup:profile.profile.name",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("profile"),"profile","name"))})),"\n						"),"\n					"),"\n				"),"\n				",HTML.DIV({"class":"row"},"\n					",HTML.DIV({"class":"eight wide column"},"\n						",Blaze._TemplateWith(function(){return{name:Spacebars.call("username"),value:Spacebars.call(Spacebars.dot(e.lookup("profile"),"username"))}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))}),"\n					"),"\n					",HTML.DIV({style:"display:none"},"\n                        ",Blaze._TemplateWith(function(){return{name:Spacebars.call("id"),value:Spacebars.call(Spacebars.dot(e.lookup("profile"),"_id")),type:Spacebars.call("hidden")}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))}),"\n                    "),"\n					",Blaze.Each(function(){return Spacebars.call(Spacebars.dot(e.lookup("profile"),"emails"))},function(){return["\n						",HTML.DIV({"class":"eight wide column"},"\n							",Blaze._TemplateWith(function(){return{name:Spacebars.call("email"),value:Spacebars.call(Spacebars.dot(e.lookup("."),"address"))}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))}),"\n						"),"\n					"]}),"\n				"),"\n				",HTML.DIV({"class":"row"},"\n					",HTML.DIV({"class":"eight wide column"},"\n						",HTML.DIV({"class":"field required"},"\n							",Blaze._TemplateWith(function(){return{name:Spacebars.call("address"),value:Spacebars.call(Spacebars.dot(e.lookup("profile"),"address"))}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))}),"\n						"),"\n					"),"\n					",HTML.DIV({"class":"eight wide column"},"\n						",Blaze._TemplateWith(function(){return{name:Spacebars.call("phone"),value:Spacebars.call(Spacebars.dot(e.lookup("profile"),"phone"))}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))}),"\n					"),"\n				"),"\n				\n			"),HTML.BR(),"\n			",HTML.BUTTON({id:"finishUpdate",type:"submit","class":"ui small green labeled icon button"},HTML.I({"class":"save icon"})," Save"),"\n		"]})}),"\n	")]}),Template.__checkName("_user_details"),Template._user_details=new Template("Template._user_details",function(){var e=this;return[HTML.Raw('<div class="ui attached message">\n		User Details\n	</div>\n	'),HTML.DIV({"class":"ui attached form segment"},"\n		",HTML.DIV({"class":"ui grid"},"\n			",HTML.DIV({"class":"row"},"\n				",HTML.DIV({"class":"eight wide column"},"\n					",HTML.DIV({"class":"field"},"\n						",HTML.Raw("<label>Name:</label>"),"\n						",HTML.P(Blaze.View("lookup:profile.profile.name",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("profile"),"profile","name"))})),"\n					"),"\n				"),"\n			"),"\n			",HTML.DIV({"class":"row"},"\n				",HTML.DIV({"class":"eight wide column"},"\n					",HTML.DIV({"class":"field"},"\n						",HTML.Raw("<label>User Name:</label>"),"\n						",HTML.P(Blaze.View("lookup:profile.username",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("profile"),"username"))})),"\n					"),"\n				"),"\n				",HTML.DIV({"class":"eight wide column"},"\n					",HTML.DIV({"class":"field"},"\n						",HTML.Raw("<label>Email Address:</label>"),"\n						",HTML.P(Blaze.Each(function(){return Spacebars.call(Spacebars.dot(e.lookup("profile"),"emails"))},function(){return Blaze.View("lookup:..address",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"address"))})})),"\n					"),"\n				"),"\n			"),"\n			",HTML.DIV({"class":"row"},"\n				",HTML.DIV({"class":"eight wide column"},"\n					",HTML.DIV({"class":"field"},"\n						",HTML.Raw("<label>Address:</label>"),"\n						",HTML.P(Blaze.View("lookup:profile.address",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("profile"),"address"))})),"\n						\n					"),"\n				"),"\n				",HTML.DIV({"class":"eight wide column"},"\n					",HTML.DIV({"class":"field"},"\n						",HTML.Raw("<label>Phone Number</label>"),"\n						",HTML.P(Blaze.View("lookup:profile.phone",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("profile"),"phone"))})),"\n					"),"\n				"),"\n			"),"\n		"),HTML.Raw("<br>"),"\n		",HTML.Raw('<button id="editUser" class="ui small green labeled icon button"><i class="edit icon"></i> Edit</button>'),"\n	")]}),Template.__checkName("_update_email"),Template._update_email=new Template("Template._update_email",function(){var e=this;return[HTML.Raw('<h4 class="ui header">\n		Update Email Address\n	</h4>\n	'),Blaze._TemplateWith(function(){return{schema:Spacebars.call("Users.changeEmailSchema"),id:Spacebars.call("changeEmail"),template:Spacebars.call("semanticUI"),errorsInLabels:Spacebars.call(!0),resetOnSuccess:Spacebars.call(!0)}},function(){return Spacebars.include(e.lookupTemplate("autoForm"),function(){return["\n		",Blaze._TemplateWith(function(){return{name:Spacebars.call("email")}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))}),"\n		",Blaze._TemplateWith(function(){return{name:Spacebars.call("password"),type:Spacebars.call("password")}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))}),"\n		",HTML.BUTTON({type:"submit","class":"ui small green right floated labeled button"},"Update"),"\n	"]})}),HTML.Raw("\n	<br>")]}),Template.__checkName("_change_password"),Template._change_password=new Template("Template._change_password",function(){var e=this;return[HTML.Raw('<h4 class="ui header">\n		Update Password\n	</h4>\n	'),HTML.UL({"class":"ui list"},"\n		",Blaze.Each(function(){return Spacebars.call(e.lookup("passwordRequirements"))},function(){return["\n			",HTML.LI(Blaze.View("lookup:.",function(){return Spacebars.mustache(e.lookup("."))})),"\n		"]}),"\n		",HTML.Raw("<li>Alternatively use a passphrase (at least 20 characters long).</li>"),"\n	"),"\n	",Blaze._TemplateWith(function(){return{schema:Spacebars.call("Users.changePasswordSchema"),id:Spacebars.call("changePassword"),type:Spacebars.call("normal"),template:Spacebars.call("semanticUI"),errorsInLabels:Spacebars.call(!0),resetOnSuccess:Spacebars.call(!0),trimStrings:Spacebars.call(!1)}},function(){return Spacebars.include(e.lookupTemplate("autoForm"),function(){return["\n		",Blaze._TemplateWith(function(){return{name:Spacebars.call("currentPassword"),type:Spacebars.call("password")}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))}),"\n		",Blaze._TemplateWith(function(){return{name:Spacebars.call("newPassword"),type:Spacebars.call("password")}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))}),"\n		",Blaze._TemplateWith(function(){return{name:Spacebars.call("confirmPassword"),type:Spacebars.call("password")}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))}),"\n		",HTML.BUTTON({type:"submit","class":"ui small green right floated labeled button"},"Submit"),"\n	"]})})]}),Template.__checkName("_list_verified_emails"),Template._list_verified_emails=new Template("Template._list_verified_emails",function(){var e=this;return Blaze.If(function(){return Spacebars.call(e.lookup("verifiedEmails"))},function(){return["\n		",HTML.H4({"class":"ui header"},"\n			Verified Email Addresses\n		"),"\n		",Blaze.Each(function(){return Spacebars.call(e.lookup("verifiedEmails"))},function(){return["\n			",Spacebars.include(e.lookupTemplate("_verified_email")),"\n		"]}),"\n	"]})}),Template.__checkName("_list_unverified_emails"),Template._list_unverified_emails=new Template("Template._list_unverified_emails",function(){var e=this;return Blaze.If(function(){return Spacebars.call(e.lookup("unverifiedEmails"))},function(){return["\n		",HTML.H4({"class":"ui header"},"\n			Unverified Email Addresses\n		"),"\n		",Blaze.Each(function(){return Spacebars.call(e.lookup("unverifiedEmails"))},function(){return["\n			",Spacebars.include(e.lookupTemplate("_unverified_email")),"\n		"]}),"\n	"]})}),Template.__checkName("_verified_email"),Template._verified_email=new Template("Template._verified_email",function(){var e=this;return HTML.DIV({"class":"ui green label"},"\n		",Blaze.View("lookup:address",function(){return Spacebars.mustache(e.lookup("address"))}),"\n		",Blaze.If(function(){return Spacebars.call(e.lookup("canDelete"))},function(){return["\n			",HTML.I({"class":"delete icon"}),"\n		"]}),"\n	")}),Template.__checkName("_unverified_email"),Template._unverified_email=new Template("Template._unverified_email",function(){var e=this;return Blaze.If(function(){return Spacebars.call(e.lookup("editing"))},function(){return"\n	"},function(){return["\n		",HTML.DIV({"class":"ui yellow label"},"\n			",Blaze.View("lookup:address",function(){return Spacebars.mustache(e.lookup("address"))}),"\n			",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("isMe"),Spacebars.dot(e.lookup("profile"),"_id"))},function(){return["\n				",HTML.I({"class":"delete icon remove"}),"\n			"]}),"\n		"),"\n		",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("isMe"),Spacebars.dot(e.lookup("profile"),"_id"))},function(){return["\n			",HTML.A({href:"#"},"Resend Verification Email"),"\n		"]}),"\n	"]})}),Template.__checkName("afFormGroup_textarea"),Template.afFormGroup_textarea=new Template("Template.afFormGroup_textarea",function(){var e=this;return HTML.DIV({"class":"field required"},HTML.Raw("\n        <label>\n          Address\n		</label>\n	  "),Blaze._TemplateWith(function(){return Spacebars.call(e.lookup("afFieldInputAtts"))},function(){return Spacebars.include(e.lookupTemplate("afFieldInput"))}),"\n    ")})}();

!function(){Template.__checkName("queue"),Template.queue=new Template("Template.queue",function(){var e=this;return[HTML.Raw('<audio id="newPatientBeep" src="1alertklaxon_clean.mp3" preload="auto"></audio>\n	'),HTML.DIV({"class":"ui page grid"},"\n		",HTML.DIV({"class":"sixteen wide column"},"\n			",HTML.DIV({"class":"ui one column stackable center aligned page grid"},"\n				",HTML.DIV({"class":"column twelve wide"},"\n					",Blaze.If(function(){return Spacebars.call(e.lookup("error"))},function(){return["\n						",HTML.H2({"class":"ui red header"},"There was a problem connecting to the kiosk: ",Blaze.View("lookup:error",function(){return Spacebars.mustache(e.lookup("error"))})),"\n					"]}),"\n					",HTML.DIV({"class":"ui small statistic"},"\n						",HTML.DIV({"class":"value"},"\n							",HTML.Raw('<i class="user icon"></i>')," ",Blaze.View("lookup:getPublishedCount",function(){return Spacebars.mustache(e.lookup("getPublishedCount"),"enPatientQueue")}),"\n						"),"\n						",HTML.Raw('<div class="label">\n							English Queue\n						</div>'),"\n					"),"\n					",HTML.DIV({"class":"ui small statistic"},"\n						",HTML.DIV({"class":"value"},"\n							",HTML.Raw('<i class="user icon"></i>')," ",Blaze.View("lookup:getPublishedCount",function(){return Spacebars.mustache(e.lookup("getPublishedCount"),"esPatientQueue")}),"\n						"),"\n						",HTML.Raw('<div class="label">\n							Spanish Queue\n						</div>'),"\n					"),"\n					",HTML.DIV({"class":"ui small statistic"},"\n						",HTML.DIV({"class":"value"},"\n							",HTML.Raw('<i class="doctor icon"></i>')," ",Blaze.View("lookup:getPublishedCount",function(){return Spacebars.mustache(e.lookup("getPublishedCount"),"dentistsOnline")}),"\n						"),"\n						",HTML.Raw('<div class="label">\n							Dentists Online\n						</div>'),"\n					"),"\n					",HTML.DIV("\n						",HTML.BUTTON({id:"next-en-patient","class":function(){return["ui tiny green right labeled icon button ",Spacebars.mustache(e.lookup("isDisabled"),"en")]}},"\n							",HTML.Raw('<i class="arrow right icon"></i>'),"\n							Next English Patient\n						"),"\n						",HTML.BUTTON({id:"next-es-patient","class":function(){return["ui tiny green right labeled icon button ",Spacebars.mustache(e.lookup("isDisabled"),"es")]}},"\n							",HTML.Raw('<i class="arrow right icon"></i>'),"\n							Next Spanish Patient\n						"),"\n					"),"\n				"),"\n			"),"\n		"),"\n	")]})}();

!function(){Template.__checkName("resetPassword"),Template.resetPassword=new Template("Template.resetPassword",function(){var e=this;return HTML.DIV({"class":"ka-top ui center aligned three column stackable page grid"},"\n		",HTML.DIV({"class":"eight wide column"},"\n			",HTML.DIV({"class":function(){return["ui large fluid ",Blaze.If(function(){return Spacebars.call(e.lookup("error"))},function(){return" error "})," ",Blaze.If(function(){return Spacebars.call(e.lookup("showResult"))},function(){return" success "})," form segment"]}},"\n				",HTML.Raw('<h2 class="ui center aligned dividing header">\n					Reset Password\n				</h2>'),"\n				",HTML.DIV({"class":"ui info message"},"\n					",HTML.UL({"class":"ui list"},"\n						",Blaze.Each(function(){return Spacebars.call(e.lookup("passwordRequirements"))},function(){return["\n							",HTML.LI({"class":"correct-left"},Blaze.View("lookup:.",function(){return Spacebars.mustache(e.lookup("."))})),"\n						"]}),"\n						",HTML.Raw('<li class="correct-left">Alternatively use a passphrase (at least 20 characters long).</li>'),"\n					"),"\n				"),"\n				",Blaze._TemplateWith(function(){return{schema:Spacebars.call("Users.resetPasswordSchema"),id:Spacebars.call("resetPassword"),template:Spacebars.call("semanticUI"),errorsInLabels:Spacebars.call(!0),resetOnSuccess:Spacebars.call(!0),trimStrings:Spacebars.call(!1)}},function(){return Spacebars.include(e.lookupTemplate("autoForm"),function(){return["\n					",Blaze._TemplateWith(function(){return{name:Spacebars.call("newPassword"),type:Spacebars.call("password")}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))}),"\n					",Blaze._TemplateWith(function(){return{name:Spacebars.call("confirmPassword"),type:Spacebars.call("password")}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))}),"\n					",HTML.BUTTON({type:"submit","class":"ui small green right floated labeled button"},"Reset"),"\n				"]})}),"\n			"),"\n		"),"\n	")})}();

!function(){Template.__checkName("afFormGroup_din"),Template.afFormGroup_din=new Template("Template.afFormGroup_din",function(){var e=this;return HTML.DIV({"class":function(){return["field ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("afFieldIsInvalid"),Spacebars.kw({name:Spacebars.dot(e.lookup("."),"name")}))},function(){return"error"})]}},"\n		",Blaze.Unless(function(){return Spacebars.call(e.lookup("skipLabel"))},function(){return["\n			",HTML.LABEL(HTML.Attrs(function(){return Spacebars.attrMustache(e.lookup("afFieldLabelAtts"))}),"\n				",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("."),"labelText"))},function(){return["\n					",Blaze.View("lookup:..labelText",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"labelText"))}),"\n				"]},function(){return["\n					",Blaze.View("lookup:afFieldLabelText",function(){return Spacebars.mustache(e.lookup("afFieldLabelText"),Spacebars.kw({name:Spacebars.dot(e.lookup("."),"name")}))}),"\n				"]}),"\n			"),"\n		"]}),"\n		",Blaze._TemplateWith(function(){return Spacebars.call(Spacebars.dot(e.lookup("."),"afFieldInputAtts"))},function(){return Spacebars.include(e.lookupTemplate("afFieldInput"))}),"\n		",HTML.DIV({"class":"error message"},Blaze.View("lookup:afFieldMessage",function(){return Spacebars.mustache(e.lookup("afFieldMessage"),Spacebars.kw({name:Spacebars.dot(e.lookup("."),"atts","name")}))})),"\n	")}),Template.__checkName("afTextarea_din"),Template.afTextarea_din=new Template("Template.afTextarea_din",function(){var e=this;return HTML.TEXTAREA(HTML.Attrs(function(){return Spacebars.attrMustache(e.lookup("atts"))},{value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"value"))}}))}),Template.__checkName("afInputText_din"),Template.afInputText_din=new Template("Template.afInputText_din",function(){var e=this;return HTML.INPUT(HTML.Attrs({type:"text",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"value"))}},function(){return Spacebars.attrMustache(e.lookup("atts"))}))})}();

!function(){Template.__checkName("session"),Template.session=new Template("Template.session",function(){var e=this;return HTML.DIV({"class":"ui page grid"},HTML.Raw('\n		<h1 class="ui header">Patient Report</h1>\n		'),HTML.DIV({"class":"eight wide column"},"\n			",HTML.Raw('<div class="ui attached icon message">\n				<i class="wait icon"></i>\n				<div class="content">\n					<div class="header">\n						Session Timeline\n					</div>\n				</div>\n			</div>'),"\n			",HTML.DIV({"class":"ui attached segment"},"\n				",Spacebars.include(e.lookupTemplate("session_timeline")),"\n			"),"\n		"),"\n		",HTML.DIV({"class":"eight wide column"},"\n			",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("."),"session","form"))},function(){return["\n				",HTML.DIV({"class":"ui attached icon message"},"\n					",HTML.I({"class":"file text outline icon"}),"\n					",HTML.DIV({"class":"content"},"\n						",HTML.DIV({"class":"header"},"\n							Patient Form\n						"),"\n					"),"\n				"),"\n				",HTML.DIV({"class":"ui attached segment"},"\n					",Blaze._TemplateWith(function(){return Spacebars.call(Spacebars.dot(e.lookup("."),"session"))},function(){return Spacebars.include(e.lookupTemplate("patient_info"))}),"\n				"),"\n			"]}),"\n			",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("."),"session","dentistNotes"))},function(){return["\n				",HTML.DIV({"class":"ui attached icon message"},"\n					",HTML.I({"class":"treatment icon"}),"\n					",HTML.DIV({"class":"content"},"\n						",HTML.DIV({"class":"header"},"\n							Dentist Notes\n						"),"\n					"),"\n				"),"\n				",HTML.DIV({"class":"ui attached segment"},"\n					",Blaze._TemplateWith(function(){return Spacebars.call(Spacebars.dot(e.lookup("."),"session"))},function(){return Spacebars.include(e.lookupTemplate("dentist_notes"))}),"\n				"),"\n			"]}),"\n			",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("."),"session","survey"))},function(){return["\n				",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("."),"session","survey","skipped"))},function(){return["\n					",HTML.DIV({"class":"ui attached icon message"},"\n						",HTML.I({"class":"share icon"}),"\n						",HTML.DIV({"class":"content"},"\n							",HTML.DIV({"class":"header"},"\n								Survey Skipped\n							"),"\n						"),"\n					"),"\n				"]},function(){return["\n					",HTML.DIV({"class":"ui attached icon message"},"\n						",HTML.I({"class":"browser icon"}),"\n						",HTML.DIV({"class":"content"},"\n							",HTML.DIV({"class":"header"},"\n								Survey\n							"),"\n						"),"\n					"),"\n					",HTML.DIV({"class":"ui attached segment"},"\n						",Blaze._TemplateWith(function(){return Spacebars.call(Spacebars.dot(e.lookup("."),"session","survey","form"))},function(){return Spacebars.include(e.lookupTemplate("survey"))}),"\n					"),"\n				"]}),"\n			"]}),"\n		"),"\n	")}),Template.__checkName("session_timeline"),Template.session_timeline=new Template("Template.session_timeline",function(){var e=this;return HTML.DIV({"class":"ui feed"},"\n		",Blaze.Each(function(){return Spacebars.dataMustache(e.lookup("timeline"),Spacebars.dot(e.lookup("."),"session"))},function(){return["\n			",Blaze._TemplateWith(function(){return{template:Spacebars.call(e.lookup("template"))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})}),"\n		"]}),"\n	")}),Template.__checkName("_created"),Template._created=new Template("Template._created",function(){var e=this;return HTML.DIV({"class":"event"},HTML.Raw('\n		<div class="label">\n			<i class="file outline icon"></i>\n		</div>\n		'),HTML.DIV({"class":"content"},"\n			",HTML.DIV({"class":"date"},Blaze.View("lookup:timestamp",function(){return Spacebars.mustache(e.lookup("timestamp"),e.lookup("at"))})),"\n			",HTML.DIV({"class":"summary"},"\n				Patient created a new session at ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),Spacebars.kw({route:"location.show",locationId:Spacebars.dot(e.lookup("."),"location","id")}))}},Blaze.View("lookup:..location.name",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"location","name"))})),".\n			"),"\n		"),"\n	")}),Template.__checkName("_form"),Template._form=new Template("Template._form",function(){var e=this;return HTML.DIV({"class":"event"},HTML.Raw('\n		<div class="label">\n			<i class="green file text outline icon"></i>\n		</div>\n		'),HTML.DIV({"class":"content"},"\n			",HTML.DIV({"class":"date"},Blaze.View("lookup:timestamp",function(){return Spacebars.mustache(e.lookup("timestamp"),e.lookup("at"))})),"\n			",HTML.Raw('<div class="summary">\n				Patient completed form.\n			</div>'),"\n		"),"\n	")}),Template.__checkName("_voip"),Template._voip=new Template("Template._voip",function(){var e=this;return Blaze._TemplateWith(function(){return{template:Spacebars.call(e.lookup("template"))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})})}),Template.__checkName("_voip_ready"),Template._voip_ready=new Template("Template._voip_ready",function(){var e=this;return HTML.DIV({"class":"event"},HTML.Raw('\n		<div class="label">\n			<i class="call icon"></i>\n		</div>\n		'),HTML.DIV({"class":"content"},"\n			",HTML.DIV({"class":"date"},Blaze.View("lookup:timestamp",function(){return Spacebars.mustache(e.lookup("timestamp"),e.lookup("at"))})),"\n			",HTML.Raw('<div class="summary">\n				Patient ready for video call.\n			</div>'),"\n		"),"\n	")}),Template.__checkName("_voip_queued"),Template._voip_queued=new Template("Template._voip_queued",function(){var e=this;return HTML.DIV({"class":"event"},HTML.Raw('\n		<div class="label">\n			<i class="call icon"></i>\n		</div>\n		'),HTML.DIV({"class":"content"},"\n			",HTML.DIV({"class":"date"},Blaze.View("lookup:timestamp",function(){return Spacebars.mustache(e.lookup("timestamp"),e.lookup("at"))})),"\n			",HTML.Raw('<div class="summary">\n				Patient placed into the video call queue.\n			</div>'),"\n		"),"\n	")}),Template.__checkName("_voip_assigned"),Template._voip_assigned=new Template("Template._voip_assigned",function(){var e=this;return HTML.DIV({"class":"event"},HTML.Raw('\n		<div class="label">\n			<i class="call icon"></i>\n		</div>\n		'),HTML.DIV({"class":"content"},"\n			",HTML.DIV({"class":"date"},Blaze.View("lookup:timestamp",function(){return Spacebars.mustache(e.lookup("timestamp"),e.lookup("at"))})),"\n			",HTML.DIV({"class":"summary"},"\n				Patient assigned to ",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),Spacebars.kw({route:"user.show",userId:Spacebars.dot(e.lookup("dentist"),"id")}))}},Blaze.View("lookup:dentist.username",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("dentist"),"username"))})),".\n			"),"\n		"),"\n	")}),Template.__checkName("_voip_done"),Template._voip_done=new Template("Template._voip_done",function(){var e=this;return HTML.DIV({"class":"event"},HTML.Raw('\n		<div class="label">\n			<i class="green call icon"></i>\n		</div>\n		'),HTML.DIV({"class":"content"},"\n			",HTML.DIV({"class":"date"},Blaze.View("lookup:timestamp",function(){return Spacebars.mustache(e.lookup("timestamp"),e.lookup("at"))})),"\n			",HTML.Raw('<div class="summary">\n				Video call ended.\n			</div>'),"\n		"),"\n	")}),Template.__checkName("_notes"),Template._notes=new Template("Template._notes",function(){var e=this;return HTML.DIV({"class":"event"},HTML.Raw('\n		<div class="label">\n			<i class="green treatment icon"></i>\n		</div>\n		'),HTML.DIV({"class":"content"},"\n			",HTML.DIV({"class":"date"},Blaze.View("lookup:timestamp",function(){return Spacebars.mustache(e.lookup("timestamp"),e.lookup("at"))})),"\n			",HTML.DIV({"class":"summary"},"\n				",HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),"user.show",Spacebars.kw({userId:Spacebars.dot(e.lookup("."),"dentist","id")}))}},Blaze.View("lookup:..dentist.username",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"dentist","username"))}))," submitted their evaluation.\n			"),"\n		"),"\n	")}),Template.__checkName("_fax"),Template._fax=new Template("Template._fax",function(){var e=this;return Blaze._TemplateWith(function(){return{template:Spacebars.call(e.lookup("template"))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})})}),Template.__checkName("_fax_ready"),Template._fax_ready=new Template("Template._fax_ready",function(){var e=this;return HTML.DIV({"class":"event"},HTML.Raw('\n		<div class="label">\n			<i class="fax icon"></i>\n		</div>\n		'),HTML.DIV({"class":"content"},"\n			",HTML.DIV({"class":"date"},Blaze.View("lookup:timestamp",function(){return Spacebars.mustache(e.lookup("timestamp"),e.lookup("at"))})),"\n			",HTML.Raw('<div class="summary">\n				Patient report is ready to fax.\n			</div>'),"\n		"),"\n	")}),Template.__checkName("_fax_locked"),Template._fax_locked=new Template("Template._fax_locked",function(){var e=this;return HTML.DIV({"class":"event"},HTML.Raw('\n		<div class="label">\n			<i class="fax icon"></i>\n		</div>\n		'),HTML.DIV({"class":"content"},"\n			",HTML.DIV({"class":"date"},Blaze.View("lookup:timestamp",function(){return Spacebars.mustache(e.lookup("timestamp"),e.lookup("at"))})),"\n			",HTML.Raw('<div class="summary">\n				Patient report fax is being created.\n			</div>'),"\n		"),"\n	")}),Template.__checkName("_fax_sent"),Template._fax_sent=new Template("Template._fax_sent",function(){var e=this;return HTML.DIV({"class":"event"},HTML.Raw('\n		<div class="label">\n			<i class="fax icon"></i>\n		</div>\n		'),HTML.DIV({"class":"content"},"\n			",HTML.DIV({"class":"date"},Blaze.View("lookup:timestamp",function(){return Spacebars.mustache(e.lookup("timestamp"),e.lookup("at"))})),"\n			",HTML.Raw('<div class="summary">\n				Patient report fax has been sent.<!-- QueueId: {{SendFaxQueueId}}. -->\n			</div>'),"\n			",HTML.DIV({"class":"extra text"},"QueueId: ",Blaze.View("lookup:SendFaxQueueId",function(){return Spacebars.mustache(e.lookup("SendFaxQueueId"))})),"\n		"),"\n	")}),Template.__checkName("_fax_failed"),Template._fax_failed=new Template("Template._fax_failed",function(){var e=this;return HTML.DIV({"class":"event"},HTML.Raw('\n		<div class="label">\n			<i class="red fax icon"></i>\n		</div>\n		'),HTML.DIV({"class":"content"},"\n			",HTML.DIV({"class":"Date"},Blaze.View("lookup:timestamp",function(){return Spacebars.mustache(e.lookup("timestamp"),e.lookup("at"))})),"\n			",HTML.Raw('<div class="summary">\n				Patient report faxing has failed.\n			</div>'),"\n			",HTML.DIV({"class":"extra text"},Blaze.View("lookup:reason",function(){return Spacebars.mustache(e.lookup("reason"))})),"\n		"),"\n	")}),Template.__checkName("_fax_delivered"),Template._fax_delivered=new Template("Template._fax_delivered",function(){var e=this;return HTML.DIV({"class":"event"},HTML.Raw('\n		<div class="label">\n			<i class="green fax icon"></i>\n		</div>\n		'),HTML.DIV({"class":"content"},"\n			",HTML.DIV({"class":"date"},Blaze.View("lookup:timestamp",function(){return Spacebars.mustache(e.lookup("timestamp"),e.lookup("at"))})),"\n			",HTML.Raw('<div class="summary">\n				Patient report fax has been delivered.\n			</div>'),"\n		"),"\n	")}),Template.__checkName("_survey"),Template._survey=new Template("Template._survey",function(){var e=this;return Blaze._TemplateWith(function(){return{template:Spacebars.call(e.lookup("template"))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})})}),Template.__checkName("_survey_skipped"),Template._survey_skipped=new Template("Template._survey_skipped",function(){var e=this;return HTML.DIV({"class":"event"},HTML.Raw('\n		<div class="label">\n			<i class="share icon"></i>\n		</div>\n		'),HTML.DIV({"class":"content"},"\n			",HTML.DIV({"class":"date"},Blaze.View("lookup:timestamp",function(){return Spacebars.mustache(e.lookup("timestamp"),e.lookup("at"))})),"\n			",HTML.Raw('<div class="summary">\n				Survey skipped.\n			</div>'),"\n		"),"\n	")}),Template.__checkName("_survey_completed"),Template._survey_completed=new Template("Template._survey_completed",function(){var e=this;return HTML.DIV({"class":"event"},HTML.Raw('\n		<div class="label">\n			<i class="green browser icon"></i>\n		</div>\n		'),HTML.DIV({"class":"content"},"\n			",HTML.DIV({"class":"date"},Blaze.View("lookup:timestamp",function(){return Spacebars.mustache(e.lookup("timestamp"),e.lookup("at"))})),"\n			",HTML.Raw('<div class="summary">\n				Survey completed.\n			</div>'),"\n		"),"\n	")}),Template.__checkName("_complete"),Template._complete=new Template("Template._complete",function(){var e=this;return Blaze._TemplateWith(function(){return{template:Spacebars.call(e.lookup("template"))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})})}),Template.__checkName("_complete_finished"),Template._complete_finished=new Template("Template._complete_finished",function(){var e=this;return HTML.DIV({"class":"event"},HTML.Raw('\n		<div class="label">\n			<i class="green checkmark icon"></i>\n		</div>\n		'),HTML.DIV({"class":"content"},"\n			",HTML.DIV({"class":"date"},Blaze.View("lookup:timestamp",function(){return Spacebars.mustache(e.lookup("timestamp"),e.lookup("at"))})),"\n			",HTML.Raw('<div class="summary">\n				Session finished.\n			</div>'),"\n		"),"\n	")}),Template.__checkName("_complete_inactive"),Template._complete_inactive=new Template("Template._complete_inactive",function(){var e=this;return HTML.DIV({"class":"event"},HTML.Raw('\n		<div class="label">\n			<i class="yellow minus icon"></i>\n		</div>\n		'),HTML.DIV({"class":"content"},"\n			",HTML.DIV({"class":"date"},Blaze.View("lookup:timestamp",function(){return Spacebars.mustache(e.lookup("timestamp"),e.lookup("at"))})),"\n			",HTML.Raw('<div class="summary">\n				Session ended due to inactivity.\n			</div>'),"\n		"),"\n	")}),Template.__checkName("_complete_timeout"),Template._complete_timeout=new Template("Template._complete_timeout",function(){var e=this;return HTML.DIV({"class":"event"},HTML.Raw('\n		<div class="label">\n			<i class="red remove icon"></i>\n		</div>\n		'),HTML.DIV({"class":"content"},"\n			",HTML.DIV({"class":"date"},Blaze.View("lookup:timestamp",function(){return Spacebars.mustache(e.lookup("timestamp"),e.lookup("at"))})),"\n			",HTML.Raw('<div class="summary">\n				Server ended session, the session was considered too old to be viable.\n			</div>'),"\n		"),"\n	")}),Template.__checkName("dentist_notes"),Template.dentist_notes=new Template("Template.dentist_notes",function(){var e=this;return[HTML.Raw('<div class="ui horizontal divider">Name</div>\n	'),HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),Spacebars.kw({route:"user.show",userId:Spacebars.dot(e.lookup("."),"dentist","id")}))}},Blaze.View("lookup:..dentist.username",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("."),"dentist","username"))})),"\n	",Spacebars.With(function(){return Spacebars.call(e.lookup("dentistNotes"))},function(){return["\n		",HTML.DIV({"class":"ui horizontal divider"},"Clinical Impressions"),"\n		",Blaze.View("lookup:clinicalImpression",function(){return Spacebars.mustache(e.lookup("clinicalImpression"))}),"\n		",HTML.DIV({"class":"ui horizontal divider"},"Recommendations"),"\n		",Blaze.View("lookup:recommendation",function(){return Spacebars.mustache(e.lookup("recommendation"))}),"\n		",HTML.DIV({"class":"ui horizontal divider"},"Recommended Prescriptions"),"\n		",Blaze.View("lookup:recommendedPrescriptions",function(){return Spacebars.mustache(e.lookup("recommendedPrescriptions"))}),"\n	"]})]}),Template.__checkName("survey"),Template.survey=new Template("Template.survey",function(){var e=this;return HTML.DIV({"class":"ui ordered list"},"\n		",HTML.DIV({"class":"item"},"\n			",HTML.DIV({"class":"content"},"\n				",HTML.Raw('<div class="header">My waiting time to be seen by a dentist was:</div>'),"\n				",HTML.DIV({"class":"description"},Blaze.View("lookup:qOne",function(){return Spacebars.mustache(e.lookup("qOne"))})),"\n			"),"\n		"),"\n		",HTML.DIV({"class":"item"},"\n			",HTML.DIV({"class":"content"},"\n				",HTML.Raw('<div class="header">The dentist understood my problem and answered my questions:</div>'),"\n				",HTML.DIV({"class":"description"},Blaze.View("lookup:qTwo",function(){return Spacebars.mustache(e.lookup("qTwo"))})),"\n			"),"\n		"),"\n		",HTML.DIV({"class":"item"},"\n			",HTML.DIV({"class":"content"},"\n				",HTML.Raw('<div class="header">I will get my treatment done at the recommended facility within:</div>'),"\n				",HTML.DIV({"class":"description"},Blaze.View("lookup:qThree",function(){return Spacebars.mustache(e.lookup("qThree"))})),"\n			"),"\n		"),"\n		",HTML.DIV({"class":"item"},"\n			",HTML.DIV({"class":"content"},"\n				",HTML.Raw('<div class="header">I was pleased with my experience with those who helped me today</div>'),"\n				",HTML.Raw('<!-- <div class="header">I was pleased with my experience in the emergency department today:</div> -->'),"\n				",HTML.DIV({"class":"description"},Blaze.View("lookup:qFour",function(){return Spacebars.mustache(e.lookup("qFour"))})),"\n			"),"\n		"),"\n		",HTML.DIV({"class":"item"},"\n			",HTML.DIV({"class":"content"},"\n				",HTML.Raw('<div class="header">I would refer my friends here for care:</div>'),"\n				",HTML.DIV({"class":"description"},Blaze.View("lookup:qFive",function(){return Spacebars.mustache(e.lookup("qFive"))})),"\n			"),"\n		"),"\n	")})}();

!function(){Template.__checkName("session_voip"),Template.session_voip=new Template("Template.session_voip",function(){var e=this;return HTML.DIV({"class":"ui page grid"},"\n		",HTML.DIV({"class":"six wide column"},"\n			",HTML.Raw("<!-- {{> patient_form }} -->"),"\n			",Blaze._TemplateWith(function(){return{tabs:Spacebars.call(e.lookup("tabs")),activeTab:Spacebars.call(e.lookup("activeTab"))}},function(){return Spacebars.include(e.lookupTemplate("session_voip_tabs"),function(){return["\n				",Blaze._TemplateWith(function(){return{slug:Spacebars.call("patient_info")}},function(){return Spacebars.include(e.lookupTemplate("tabContent"),function(){return["\n					",Blaze._TemplateWith(function(){return Spacebars.call(Spacebars.dot(e.lookup(".."),"patient"))},function(){return Spacebars.include(e.lookupTemplate("patient_info_form"))}),"\n				"]})}),"\n				",Blaze._TemplateWith(function(){return{slug:Spacebars.call("dentist_notes")}},function(){return Spacebars.include(e.lookupTemplate("tabContent"),function(){return["\n					",Blaze._TemplateWith(function(){return Spacebars.call(e.lookup(".."))},function(){return Spacebars.include(e.lookupTemplate("dentist_notes_form"))}),"\n				"]})}),"\n			"]})}),"\n		"),HTML.Raw('\n		<div class="ten wide column">\n			<div id="video-container"></div>\n		</div>\n	'))}),Template.__checkName("session_voip_tabs"),Template.session_voip_tabs=new Template("Template.session_voip_tabs",function(){var e=this;return[HTML.DIV({"class":"ui top attached tabular menu"},"\n		",Blaze.If(function(){return Spacebars.call(e.lookup("activeTab"))},function(){return["\n			",Blaze.View("lookup:trackActiveTab",function(){return Spacebars.mustache(e.lookup("trackActiveTab"),e.lookup("activeTab"))}),"\n		"]}),"\n\n		",Blaze.View("lookup:trackTabs",function(){return Spacebars.mustache(e.lookup("trackTabs"),e.lookup("tabs"))}),"\n\n		",Blaze.Each(function(){return Spacebars.call(e.lookup("tabs"))},function(){return["\n			",HTML.A({"class":function(){return["tab-item ",Spacebars.mustache(e.lookup("isActiveTab"),e.lookup("slug"))," item"]}},Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})),"\n		"]}),"\n	"),"\n	",HTML.DIV({"class":"ui bottom attached fluid form segment"},"\n		",HTML.DIV({"class":"tabs-content-container"},"\n			",Blaze._InOuterTemplateScope(e,function(){return Blaze._TemplateWith(function(){return{context:Spacebars.call(e.lookup("__context__"))}},function(){return Spacebars.include(function(){return Spacebars.call(e.templateContentBlock)})})}),"\n		"),"\n	")]}),Template.__checkName("patient_info"),Template.patient_info=new Template("Template.patient_info",function(){var e=this;return[Blaze.If(function(){return Spacebars.call(e.lookup("language"))},function(){return["\n		",HTML.DIV({"class":"ui horizontal divider"},"Language"),"\n		",Blaze.View("lookup:language",function(){return Spacebars.mustache(e.lookup("language"))}),"\n	"]}),"\n	",Spacebars.With(function(){return Spacebars.call(e.lookup("form"))},function(){return["\n		",HTML.DIV({"class":"ui horizontal divider"},"Name"),"\n		",Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))}),"\n		",HTML.DIV({"class":"ui horizontal divider"},"Address"),"\n		",Blaze.View("lookup:patientAddressOne",function(){return Spacebars.mustache(e.lookup("patientAddressOne"))})," ",HTML.BR(),"\n		",Blaze.If(function(){return Spacebars.call(e.lookup("patientAddressTwo"))},function(){return["\n			",Blaze.View("lookup:patientAddressTwo",function(){return Spacebars.mustache(e.lookup("patientAddressTwo"))})," ",HTML.BR(),"\n		"]}),"\n		",Blaze.View("lookup:patientAddressCity",function(){return Spacebars.mustache(e.lookup("patientAddressCity"))}),", ",Blaze.View("lookup:patientAddressState",function(){return Spacebars.mustache(e.lookup("patientAddressState"))})," ",Blaze.View("lookup:patientAddressZip",function(){return Spacebars.mustache(e.lookup("patientAddressZip"))})," ",HTML.BR(),"\n		",HTML.DIV({"class":"ui horizontal divider"},"Contact"),"\n		",HTML.DIV({"class":"inline field"},HTML.LABEL("E-mail: ")," ",Blaze.View("lookup:patientContactEmail",function(){return Spacebars.mustache(e.lookup("patientContactEmail"))})," "),"\n		",HTML.DIV({"class":"inline field"},HTML.LABEL("Phone: ")," ",Blaze.View("lookup:patientContactPhone",function(){return Spacebars.mustache(e.lookup("patientContactPhone"))})," "),"\n		",HTML.DIV({"class":"ui horizontal divider"},"Date of Birth"),"\n		",Blaze.View("lookup:dob",function(){return Spacebars.mustache(e.lookup("dob"))}),"\n		",HTML.DIV({"class":"ui horizontal divider"},"Sex"),"\n		",Blaze.View("lookup:sex",function(){return Spacebars.mustache(e.lookup("sex"))}),"\n		",HTML.DIV({"class":"ui horizontal divider"},"Payment Method"),"\n		",Blaze.View("lookup:payment",function(){return Spacebars.mustache(e.lookup("payment"),e.lookup("patientInsuranceInsurance"))}),"\n		",HTML.DIV({"class":"ui horizontal divider"},"Medical Conditions"),"\n		",Blaze.View("lookup:conditions",function(){return Spacebars.mustache(e.lookup("conditions"))}),"\n		",HTML.DIV({"class":"ui horizontal divider"},"Current Medications"),"\n		",Blaze.View("lookup:medications",function(){return Spacebars.mustache(e.lookup("medications"))}),"\n		",HTML.DIV({"class":"ui horizontal divider"},"Allergies"),"\n		",Blaze.View("lookup:allergies",function(){return Spacebars.mustache(e.lookup("allergies"))}),"\n		",HTML.DIV({"class":"ui horizontal divider"},"Dental Complaint"),"\n		",HTML.DIV({"class":"inline field"},"\n			",HTML.LABEL("Area of Pain: "),"\n			",Blaze.View("lookup:dentalPain",function(){return Spacebars.mustache(e.lookup("dentalPain"))}),"\n		"),"\n		",HTML.DIV({"class":"inline field"},"\n			",HTML.LABEL("Duration of Pain: "),"\n			",Blaze.View("lookup:dentalDuration",function(){return Spacebars.mustache(e.lookup("dentalDuration"))}),"\n		"),"\n		",HTML.DIV({"class":"inline field"},"\n			",HTML.LABEL("Swelling Present: "),"\n			",Blaze.View("lookup:swelling",function(){return Spacebars.mustache(e.lookup("swelling"))}),"\n		"),"\n		",HTML.DIV({"class":"inline field"},"\n			",HTML.LABEL("Severity of Pain (1-10): "),"\n			",Blaze.View("lookup:dentalSeverity",function(){return Spacebars.mustache(e.lookup("dentalSeverity"))}),"\n		"),"\n	"]})]}),Template.__checkName("patient_info_form"),Template.patient_info_form=new Template("Template.patient_info_form",function(){var e=this;return[Spacebars.include(e.lookupTemplate("patient_info")),"\n	",Blaze.If(function(){return Spacebars.call(e.lookup("callActive"))},function(){return"\n	"},function(){return["\n		",HTML.DIV({"class":"ui divider"}),"\n		",HTML.DIV({"class":"ui checkbox"},"\n			",HTML.INPUT({type:"checkbox",name:"readAll"}),"\n			",HTML.LABEL("I have reviewed all submitted patient information"),"\n		"),"\n		",HTML.DIV({"class":"ui hidden divider"}),"\n		",HTML.A({id:"callPatient","class":function(){return["ui small green right labeled icon button ",Spacebars.mustache(e.lookup("readAll"))," ",Spacebars.mustache(e.lookup("scReady"))]}},"\n			",HTML.I({"class":"call icon"}),"\n			Call Patient\n		"),"\n	"]})]}),Template.__checkName("dentist_notes_form"),Template.dentist_notes_form=new Template("Template.dentist_notes_form",function(){var e=this;return[HTML.Raw('<a target="_blank" href="https://www.zocdoc.com">Make an appointment...</a>\n		'),Blaze._TemplateWith(function(){return{schema:Spacebars.call("Sessions.schemas.dentistNotes"),meteormethod:Spacebars.call("createDentistNotes"),id:Spacebars.call("createDentistNotes"),type:Spacebars.call("method")}},function(){return Spacebars.include(e.lookupTemplate("autoForm"),function(){return["\n			",Blaze._TemplateWith(function(){return{name:Spacebars.call("clinicalImpression"),template:Spacebars.call("din"),rows:Spacebars.call(4)}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))}),"\n			",Blaze._TemplateWith(function(){return{name:Spacebars.call("recommendation"),template:Spacebars.call("din"),rows:Spacebars.call(4)}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))}),"\n			",Blaze._TemplateWith(function(){return{name:Spacebars.call("recommendedPrescriptions"),template:Spacebars.call("din"),rows:Spacebars.call(4)}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))}),"\n			",Blaze.If(function(){return Spacebars.call(e.lookup("callActive"))},function(){return["\n				",Spacebars.include(e.lookupTemplate("_end_call")),"\n			"]},function(){return"\n			"}),"\n		"]})})]}),Template.__checkName("_end_call"),Template._end_call=new Template("Template._end_call",function(){var e=this;return[HTML.Raw('<div class="ui checkbox">\n		<input type="checkbox" name="canSubmit">\n		<label>I have reviewed all patient data and made my recommendations</label>\n	</div>\n	<div class="ui hidden divider"></div>\n	'),HTML.BUTTON({type:"submit","class":function(){return["ui small green right labeled icon submit button ",Spacebars.mustache(e.lookup("canSubmit"))]}},"\n		",HTML.Raw('<i class="upload icon"></i>'),"\n		Submit and End Call\n	")]})}();

!function(){Template.__checkName("sessions"),Template.sessions=new Template("Template.sessions",function(){var e=this;return HTML.DIV({"class":"ui page grid"},"\n		",HTML.DIV({"class":"four wide column"},"\n			",Spacebars.include(e.lookupTemplate("_menu")),"\n		"),"\n		",HTML.DIV({"class":"twelve wide column"},"\n			",Spacebars.include(e.lookupTemplate("_session_table")),"\n		"),"\n	")}),Template.__checkName("_session_table"),Template._session_table=new Template("Template._session_table",function(){var e=this;return[HTML.TABLE({"class":"ui sortable striped celled table"},"\n		",Spacebars.include(e.lookupTemplate("_session_table_header")),"\n		",Spacebars.include(e.lookupTemplate("_session_table_body")),"\n	"),"\n	",Blaze.If(function(){return Spacebars.call(e.lookup("loadMoreSessions"))},function(){return["\n		",HTML.A({href:function(){return Spacebars.mustache(e.lookup("loadMoreSessions"))},"class":"ui right floated small right labeled green icon button"},"\n			",HTML.I({"class":"down arrow icon"})," Load More\n		"),"\n	"]},function(){return["\n		",Blaze.Unless(function(){return Spacebars.call(e.lookup("sessionsReady"))},function(){return["\n			",HTML.A({"class":"ui loading right floated small right labeled green icon button"},"\n				",HTML.I({"class":"down arrow icon"})," Load More\n			"),"\n		"]}),"\n	"]})]}),Template.__checkName("_session_table_header"),Template._session_table_header=new Template("Template._session_table_header",function(){var e=this;return HTML.THEAD("\n		",HTML.TR("\n			",HTML.Raw("<th></th>"),"\n			",HTML.TH({id:"createdAtSort","class":function(){return Spacebars.mustache(e.lookup("sortState"),"createdAt")}},HTML.Raw('<!--<i class="calendar icon"></i> -->'),"Creation Date"),"\n			",HTML.TH({id:"locationSort","class":function(){return Spacebars.mustache(e.lookup("sortState"),"location.name")}},HTML.Raw('<!--<i class="building outline icon"></i> -->'),"Location"),"\n			",HTML.TH({id:"dentistSort","class":function(){return Spacebars.mustache(e.lookup("sortState"),"dentist.username")}},HTML.Raw('<!--<i class="doctor icon"></i> -->'),"Dentist"),"\n			",HTML.Raw('<th><!--<i class="info icon"></i> -->Status</th>'),"\n		"),"\n	")}),Template.__checkName("_session_table_body"),Template._session_table_body=new Template("Template._session_table_body",function(){var e=this;return HTML.TBODY("\n		",Blaze.If(function(){return Spacebars.call(e.lookup("sessions"))},function(){return["\n			",Blaze.Each(function(){return Spacebars.call(e.lookup("sessions"))},function(){return["\n				",Spacebars.include(e.lookupTemplate("_session_table_row")),"\n			"]}),"\n		"]},function(){return["\n			",Blaze.If(function(){return Spacebars.call(e.lookup("sessionsReady"))},function(){return["\n				",HTML.TR({"class":"full-width"},HTML.TD({colspan:"5"},"No Results Found")),"\n			"]},function(){return["\n				",HTML.DIV({"class":"ui active inverted dimmer"},HTML.DIV({"class":"ui text loader"})),"\n			"]}),"\n		"]}),"\n	")}),Template.__checkName("_session_table_row"),Template._session_table_row=new Template("Template._session_table_row",function(){var e=this;return HTML.TR("\n		",HTML.TD(HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),Spacebars.kw({route:"session.show",sessionId:e.lookup("_id")}))}},HTML.Raw('<i class="unhide icon"></i>'),"Details",HTML.Raw("<!--Full Report-->"))),"\n		",HTML.TD(Blaze.View("lookup:date",function(){return Spacebars.mustache(e.lookup("date"),e.lookup("createdAt"))})),"\n		",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("location"),"name"))},function(){return["\n			",HTML.TD(HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),Spacebars.kw({route:"location.show",locationId:Spacebars.dot(e.lookup("location"),"id")}))}},Blaze.View("lookup:location.name",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("location"),"name"))}))),"\n		"]},function(){return["\n			",HTML.TD("Unknown"),"\n		"]}),"\n		",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("dentist"),"username"))},function(){return["\n			",HTML.TD(HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),Spacebars.kw({route:"user.show",userId:Spacebars.dot(e.lookup("dentist"),"id")}))}},Blaze.View("lookup:dentist.username",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("dentist"),"username"))}))),"\n		"]},function(){return["\n			",HTML.TD("Unassigned"),"\n		"]}),"\n		",HTML.TD("\n			",HTML.Raw("<!--{{state}}-->"),"\n			",Blaze._TemplateWith(function(){return{template:Spacebars.call(e.lookup("status"))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})}),"\n		"),"\n	")}),Template.__checkName("_session_table_foot"),Template._session_table_foot=new Template("Template._session_table_foot",function(){var e=this;return HTML.Raw('<tfoot class="full-width">\n		<tr>\n			<th colspan="5">\n				<div class="ui right floated small right labeled green icon button">\n					<i class="down arrow icon"></i> Load More\n				</div>\n			</th>\n		</tr>\n	</tfoot>')}),Template.__checkName("_menu"),Template._menu=new Template("Template._menu",function(){var e=this;return[HTML.Raw('<div class="ui attached message">\n		<i class="filter icon"></i>\n		<!-- <div class="content"> -->\n			Limit Results\n		<!-- </div> -->\n	</div>\n	'),HTML.DIV({"class":"ui attached form segment"},"\n		",Blaze.If(function(){return!1},function(){return["\n		",HTML.DIV({"class":"field"},"\n			",HTML.LABEL("Search"),"\n			",HTML.DIV({"class":"ui icon input"},"\n				",HTML.INPUT({type:"text",placeholder:"Patient name or e-mail"}),"\n				",HTML.I({"class":"search icon"}),"\n			"),"\n		"),"\n		"]}),"\n		",HTML.DIV({"class":"field"},"\n			",HTML.Raw("<!-- <label>Location</label> -->"),"\n			",HTML.Raw('<!-- <select class="ui search dropdown"> -->'),"\n			",HTML.Raw('<!-- 	<option value="">Any</option> -->'),"\n			",HTML.Raw("<!-- 	{{#each this.locations}} -->"),"\n			",HTML.Raw('<!-- 		<option value="{{_id}}">{{name}}</option> -->'),"\n			",HTML.Raw("<!-- 	{{/each}} -->"),"\n			",HTML.Raw("<!-- </select> -->"),"\n			",Spacebars.include(e.lookupTemplate("_location_filter")),"\n		"),"\n		",HTML.DIV({"class":"field"},"\n			",HTML.Raw("<!-- <label>Dentist</label> -->"),"\n			",HTML.Raw('<!-- <select class="ui search dropdown"> -->'),"\n			",HTML.Raw('<!-- 	<option value="">Any</option> -->'),"\n			",HTML.Raw("<!-- 	{{#each this.dentists}} -->"),"\n			",HTML.Raw('<!-- 		<option value="{{_id}}">{{username}}</option> -->'),"\n			",HTML.Raw("<!-- 	{{/each}} -->"),"\n			",HTML.Raw("<!-- </select> -->"),"\n			",Spacebars.include(e.lookupTemplate("_dentist_filter")),"\n		"),"\n		",HTML.Raw("<!-- <label>Date Range</label> -->"),"\n		",HTML.Raw('<div class="field">\n			<label>Date Range</label>\n			<div class="ui icon input">\n				<input id="dateStart" type="date" placeholder="Start">\n				<i class="calendar icon"></i>\n			</div>\n		<!-- </div> -->\n		<!-- <div class="field"> -->\n			<div class="ui icon input">\n				<input id="dateEnd" type="date" placeholder="End">\n				<i class="calendar icon"></i>\n			</div>\n		</div>'),"\n	")]}),Template.__checkName("_location_filter"),Template._location_filter=new Template("Template._location_filter",function(){var e=this;return[HTML.Raw("<label>Location</label>\n	"),HTML.DIV({id:"locationFilter","class":"ui search selection dropdown"},"\n		",HTML.Raw('<input type="hidden" name="locationFilter">'),"\n		",HTML.Raw('<i class="dropdown icon"></i>'),"\n		",HTML.Raw('<div class="default text">Any</div>'),"\n		",HTML.DIV({"class":"menu"},"\n			",Blaze.Each(function(){return Spacebars.call(Spacebars.dot(e.lookup("."),"locations"))},function(){return["\n				",HTML.DIV({"class":"item","data-value":function(){return Spacebars.mustache(e.lookup("_id"))}},Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})),"\n			"]}),"\n		"),"\n	")]}),Template.__checkName("_dentist_filter"),Template._dentist_filter=new Template("Template._dentist_filter",function(){var e=this;return[HTML.Raw("<label>Dentist</label>\n	"),HTML.DIV({id:"dentistFilter","class":"ui selection dropdown"},"\n		",HTML.Raw('<input type="hidden" name="dentistFilter">'),"\n		",HTML.Raw('<i class="dropdown icon"></i>'),"\n		",HTML.Raw('<div class="text">Any</div>'),"\n		",HTML.DIV({"class":"menu"},"\n		",HTML.Raw('<div class="default item" data-value="">All Dentist</div>'),"\n			",Blaze.Each(function(){return Spacebars.call(Spacebars.dot(e.lookup("."),"dentists"))},function(){return["\n				",HTML.DIV({"class":"item","data-value":function(){return Spacebars.mustache(e.lookup("_id"))}},Blaze.View("lookup:username",function(){return Spacebars.mustache(e.lookup("username"))})),"\n			"]}),"\n		"),"\n	")]})}();

!function(){Template.__checkName("users"),Template.users=new Template("Template.users",function(){var e=this;return HTML.DIV({"class":"ui page grid"},"\n		",HTML.DIV({"class":"sixteen wide column"},"\n			",Spacebars.include(e.lookupTemplate("_users_table")),"\n		"),"\n	")}),Template.__checkName("_users_table"),Template._users_table=new Template("Template._users_table",function(){var e=this;return[HTML.TABLE({"class":"ui sortable striped celled table"},"\n		",Spacebars.include(e.lookupTemplate("_users_table_header")),"\n		",Spacebars.include(e.lookupTemplate("_users_table_body")),"\n	"),"\n	",Blaze.If(function(){return Spacebars.call(e.lookup("inviteUser"))},function(){return["\n		",Spacebars.include(e.lookupTemplate("_invite_user")),"\n		",HTML.BR(),"\n	"]},function(){return["\n		",HTML.BUTTON({id:"inviteUser","class":"ui small right labeled green icon button"},"\n			",HTML.I({"class":"plus icon"})," Invite User\n		"),"\n	"]}),"\n	",Blaze.If(function(){return Spacebars.call(e.lookup("loadMoreUsers"))},function(){return["\n		",HTML.A({href:function(){return Spacebars.mustache(e.lookup("loadMoreUsers"))},"class":"ui right floated small right labeled green icon button"},"\n			",HTML.I({"class":"down arrow icon"})," Load More\n		"),"\n	"]},function(){return["\n		",Blaze.Unless(function(){return Spacebars.call(e.lookup("usersReady"))},function(){return["\n			",HTML.A({"class":"ui loading right floated small right labeled green icon button"},"\n				",HTML.I({"class":"down arrow icon"})," Load More\n			"),"\n		"]}),"\n	"]})]}),Template.__checkName("_users_table_header"),Template._users_table_header=new Template("Template._users_table_header",function(){var e=this;return HTML.THEAD("\n		",HTML.TR("\n			",HTML.Raw("<th></th>"),"\n			",HTML.TH({id:"usernameSort","class":function(){return Spacebars.mustache(e.lookup("sortState"),"username")}}," Username"),"\n			",HTML.Raw("<th> Email</th>"),"\n			",HTML.Raw("<th> Group</th>"),"\n			",HTML.Raw("<th> Enabled</th>"),"\n			",HTML.Raw("<th></th>"),"\n		"),"\n	")}),Template.__checkName("_users_table_body"),Template._users_table_body=new Template("Template._users_table_body",function(){var e=this;return HTML.TBODY("\n		",Blaze.If(function(){return Spacebars.call(e.lookup("users"))},function(){return["\n			",Blaze.Each(function(){return Spacebars.call(e.lookup("users"))},function(){return["\n				",Spacebars.include(e.lookupTemplate("_users_table_row")),"\n			"]}),"\n		"]},function(){return["\n			",Blaze.If(function(){return Spacebars.call(e.lookup("usersReady"))},function(){return["\n				",HTML.TR({"class":"full-width"},HTML.TD({colspan:"5"},"No Results Found")),"\n			"]},function(){return["\n				",HTML.DIV({"class":"ui active inverted dimmer"},HTML.DIV({"class":"ui text loader"})),"\n			"]}),"\n		"]}),"\n	")}),Template.__checkName("_users_table_row"),Template._users_table_row=new Template("Template._users_table_row",function(){var e=this;return HTML.TR("\n		",HTML.TD("\n			",HTML.DIV(HTML.A({href:function(){return Spacebars.mustache(e.lookup("pathFor"),Spacebars.kw({route:"user.show",userId:e.lookup("_id")}))}},HTML.Raw('<i class="unhide icon"></i>'),"Details")),"\n		"),"\n		",HTML.TD(Blaze.View("lookup:uname",function(){return Spacebars.mustache(e.lookup("uname"))})),"\n		",HTML.TD(Blaze.View("lookup:email",function(){return Spacebars.mustache(e.lookup("email"))})),"\n		",HTML.TD(Blaze.View("lookup:group",function(){return Spacebars.mustache(e.lookup("group"))})),"\n		",HTML.TD(Blaze.View("lookup:enabled",function(){return Spacebars.mustache(e.lookup("enabled"))})),HTML.Raw('\n		<td>\n			<div><a class="deleteAccount" href=""><i class="unread icon"></i>Delete</a></div>\n		</td>\n	'))}),Template.__checkName("_users_table_footer"),Template._users_table_footer=new Template("Template._users_table_footer",function(){var e=this;return HTML.Raw('<tfoot class="full-width">\n		<tr>\n			<th colspan="5">\n				<div class="ui right float small right labeled green icon button">\n					<i class="plus icon"></i> Invite User\n				</div>\n			</th>\n		</tr>\n	</tfoot>')}),Template.__checkName("_invite_user"),Template._invite_user=new Template("Template._invite_user",function(){var e=this;return[HTML.Raw('<div class="ui attached message">\n		Invite User\n	</div>\n	'),HTML.DIV({"class":"ui attached form segment"},"\n		",Blaze.If(function(){return Spacebars.call(e.lookup("loading"))},function(){return["\n			",HTML.DIV({"class":"ui active inverted dimmer"},HTML.DIV({"class":"ui text loader"})),"\n		"]}),"\n		",Blaze._TemplateWith(function(){return{schema:Spacebars.call("Users.inviteUserSchema"),id:Spacebars.call("inviteUser"),type:Spacebars.call("method"),meteormethod:Spacebars.call("inviteUser")}},function(){return Spacebars.include(e.lookupTemplate("autoForm"),function(){return["\n			",HTML.DIV({"class":"ui grid"},"\n				",HTML.DIV({"class":"row"},"\n					",HTML.DIV({"class":"eight wide column"},"\n						",Blaze._TemplateWith(function(){return{name:Spacebars.call("name"),template:Spacebars.call("semanticUI")}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))}),"\n					"),"\n					",HTML.DIV({"class":"eight wide column"},"\n						",Blaze._TemplateWith(function(){return{name:Spacebars.call("roles"),template:Spacebars.call("semanticUI")}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))}),"\n					"),"\n				"),"\n				",HTML.DIV({"class":"row"},"\n					",HTML.DIV({"class":"eight wide column"},"\n						",Blaze._TemplateWith(function(){return{name:Spacebars.call("email"),template:Spacebars.call("semanticUI")}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))}),"\n					"),"\n					",HTML.DIV({"class":"eight wide column"},"\n						",Blaze._TemplateWith(function(){return{name:Spacebars.call("confirmEmail"),template:Spacebars.call("semanticUI")}},function(){return Spacebars.include(e.lookupTemplate("afQuickField"))}),"\n					"),"\n				"),"\n			"),HTML.BR(),"\n			",HTML.BUTTON({id:"finishInvite",type:"submit","class":"ui small green right floated labeled icon button"},HTML.I({"class":"plus icon"})," Invite"),"\n		"]})}),"\n		",HTML.Raw('<button id="cancelInvite" class="ui small green labeled icon button"><i class="minus icon"></i> Cancel</button>'),"\n	")]})}();

!function(){Router.plugin("auth",{authenticate:{route:"login"},except:["login","resetPassword","verifyEmail","enrollPassword","enrollUsername"]}),Router.route("/",function(){this.redirect("/queue")}),Router.route("/reset-password/:token",{name:"resetPassword",template:"resetPassword",loadingTemplate:"loading"}),Router.route("/verify-email/:token",function(){Accounts.verifyEmail(this.params.token,function(){var s=Meteor.user();s?Router.go("user.show",{userId:s.username||s._id}):Router.go("/")})}),Router.route("/enroll-account/:token",{name:"enrollPassword",template:"enrollPassword",loadingTemplate:"loading"}),Router.route("/enroll-account/:token/username",{name:"enrollUsername",template:"enrollUsername",loadingTemplate:"loading"}),Router.route("/login",{name:"login",template:"login",loadingTemplate:"loading",onBeforeAction:["noAuth"]}),Router.route("/user/:userId",{name:"user.show",template:"profile",loadingTemplate:"loading",layoutTemplate:"layout",waitOn:function(){return Meteor.subscribe("user.show",this.params.userId)},data:function(){return{profile:Meteor.users.findOne({_id:this.params.userId})}},authorize:{deny:function(){return Meteor.user()||Roles.userIsInRole(Meteor.user(),["ma"])?void 0:!0}}}),UsersController=RouteController.extend({name:"users.show",template:"users",authorize:{deny:function(){return Roles.userIsInRole(Meteor.user(),["ta","ma"])?void 0:!0}},loadingTemplate:"loading",layoutTemplate:"layout",increment:10,usersLimit:function(){return parseInt(this.params.query.limit)||this.increment},usersSort:function(){var s=["username"],e={},t,r;return t=this.params.query.sortKey&&_.contains(s,this.params.query.sortKey)?this.params.query.sortKey:"username",r=this.params.query.sortDir&&("-1"===this.params.query.sortDir||"1"===this.params.query.sortDir)?this.params.query.sortDir:"1",e[t]=r,e},users:function(){return Meteor.users.find({},{sort:this.usersSort(),limit:this.usersLimit()})},subscriptions:function(){this.usersSub=Meteor.subscribe("users",this.usersSort(),this.usersLimit())},data:function(){var s=Counts.get("usersCount")>this.usersLimit(),e=_.clone(this.params.query);e.limit=this.usersLimit()+this.increment;var t=this.route.path({},{query:e});return{users:this.users().fetch(),usersReady:this.usersSub.ready,loadMoreUsers:s?t:null}}}),Router.route("/users",{name:"users.show",controller:"UsersController"}),Router.route("/queue",{name:"queue.show",template:"queue",loadingTemplate:"loading",layoutTemplate:"layout",waitOn:function(){return[Meteor.subscribe("sessions.voip.count"),Meteor.subscribe("dentists.online")]},authorize:{deny:function(){return Roles.userIsInRole(Meteor.user(),["dentist","ma"])?void 0:!0}}}),SessionsController=RouteController.extend({name:"sessions.show",template:"sessions",authorize:{deny:function(){return Roles.userIsInRole(Meteor.user(),["ma"])?void 0:!0}},loadingTemplate:"loading",layoutTemplate:"layout",increment:10,sessionsLimit:function(){return parseInt(this.params.query.limit)||this.increment},sessionsFilter:function(){var s={};return this.params.query.dentistId&&(s.dentist={id:this.params.query.dentistId}),this.params.query.locationId&&(s.location={id:this.params.query.locationId}),this.params.query.start&&(s.start=new Date(this.params.query.start)),this.params.query.end&&(s.end=new Date(this.params.query.end)),s},sessionsSort:function(){var s=["createdAt","location.name","dentist.username"],e={},t,r;return t=this.params.query.sortKey&&_.contains(s,this.params.query.sortKey)?this.params.query.sortKey:"createdAt",r=this.params.query.sortDir&&("-1"===this.params.query.sortDir||"1"===this.params.query.sortDir)?this.params.query.sortDir:"1",e[t]=r,e},sessions:function(){return Sessions.collection.find({},{sort:this.sessionsSort(),limit:this.sessionsLimit()})},subscriptions:function(){this.sessionsSub=Meteor.subscribe("sessions",this.sessionsFilter(),this.sessionsSort(),this.sessionsLimit())},waitOn:function(){return[Meteor.subscribe("locations.filter"),Meteor.subscribe("dentists.filter")]},data:function(){var s=Counts.get("sessionsCount")>this.sessionsLimit(),e=_.clone(this.params.query);e.limit=this.sessionsLimit()+this.increment;var t=this.route.path({},{query:e});return{sessions:this.sessions().fetch(),sessionsReady:this.sessionsSub.ready,loadMoreSessions:s?t:null,locations:Locations.collection.find().fetch(),dentists:Meteor.users.find().fetch()}}}),Router.route("/sessions",{name:"sessions.show",controller:"SessionsController"}),Router.route("/session/:sessionId",{name:"session.show",template:"session",authorize:{deny:function(){return Roles.userIsInRole(Meteor.user(),["ma"])?void 0:!0}},loadingTemplate:"loading",layoutTemplate:"layout",waitOn:function(){return Meteor.subscribe("session",this.params.sessionId)},data:function(){return{session:Sessions.collection.findOne({_id:this.params.sessionId})}}}),Router.route("/session/:sessionId/voip",{name:"session.voip.show",template:"session_voip",authorize:{deny:function(){return Roles.userIsInRole(Meteor.user(),["dentist","ma"])?void 0:!0}},loadingTemplate:"loading",layoutTemplate:"layout",waitOn:function(){return[Meteor.subscribe("session.voip",this.params.sessionId)]},data:function(){return{patient:Sessions.collection.findOne({_id:this.params.sessionId})}}}),LocationsController=RouteController.extend({name:"locations.show",template:"locations",authorize:{deny:function(){return Roles.userIsInRole(Meteor.user(),["ta","ma"])?void 0:!0}},loadingTemplate:"loading",layoutTemplate:"layout",increment:10,locationsLimit:function(){return parseInt(this.params.query.limit)||this.increment},locationsFilter:function(){var s={};if(this.params.query.date){var e=this.params.query.date.split("-"),t=parseInt(e[0]),r=parseInt(e[1])-1;s.date=new Date(t,r)}return s},locationsSort:function(){var s=["name"],e={},t,r;return t=this.params.query.sortKey&&_.contains(s,this.params.query.sortKey)?this.params.query.sortKey:"name",r=this.params.query.sortDir&&("-1"===this.params.query.sortDir||"1"===this.params.query.sortDir)?this.params.query.sortDir:"1",e[t]=r,e},locations:function(){return Locations.collection.find({},{sort:this.locationsSort(),limit:this.locationsLimit()})},subscriptions:function(){this.locationsSub=Meteor.subscribe("locations",this.locationsFilter(),this.locationsSort(),this.locationsLimit())},data:function(){var s=Counts.get("locationsCount")>this.locationsLimit(),e=_.clone(this.params.query);e.limit=this.locationsLimit()+this.increment;var t=this.route.path({},{query:e});return{locations:this.locations().fetch(),locationsReady:this.locationsSub.ready,loadMoreLocations:s?t:null}}}),Router.route("/locations",{name:"locations.show",controller:"LocationsController"}),LocationController=RouteController.extend({name:"location.show",template:"location",authorize:{deny:function(){return Roles.userIsInRole(Meteor.user(),["ta","ma"])?void 0:!0}},loadingTemplate:"loading",layoutTemplate:"layout",increment:10,sessionsLimit:function(){return parseInt(this.params.query.limit)||this.increment},sessionsFilter:function(){var s={};if(s.location={id:this.params.locationId},this.params.query.dentistId&&(s.dentist={id:this.params.query.dentistId}),this.params.query.start&&(s.start=new Date(this.params.query.start)),this.params.query.end)s.end=new Date(this.params.query.end);else{var e=new Date,t=e.getFullYear(),r=e.getMonth();s.start=new Date(t,r,1),s.end=new Date(t,r+1,0,23,59,59,999)}return s},sessionsSort:function(){var s=["createdAt","dentist.username"],e={},t,r;return t=this.params.query.sortKey&&_.contains(s,this.params.query.sortKey)?this.params.query.sortKey:"createdAt",r=this.params.query.sortDir&&("-1"===this.params.query.sortDir||"1"===this.params.query.sortDir)?this.params.query.sortDir:"1",e[t]=r,e},sessions:function(){return Sessions.collection.find({},{sort:this.sessionsSort(),limit:this.sessionsLimit()})},subscriptions:function(){this.sessionsSub=Meteor.subscribe("sessions",this.sessionsFilter(),this.sessionsSort(),this.sessionsLimit())},waitOn:function(){return[Meteor.subscribe("location",this.sessionsFilter()),Meteor.subscribe("dentists.filter")]},data:function(){var s=Counts.get("sessionsCount")>this.sessionsLimit(),e=_.clone(this.params.query);e.limit=this.sessionsLimit()+this.increment;var t=this.route.path({locationId:this.params.locationId},{query:e});return{sessions:this.sessions().fetch(),sessionsReady:this.sessionsSub.ready,loadMoreSessions:s?t:null,location:Locations.collection.findOne({_id:this.params.locationId}),dentists:Meteor.users.find().fetch()}}}),Router.route("/location/:locationId",{name:"location.show",controller:"LocationController"})}();

!function(){Template.body.onRendered(function(){$(window).on("beforeunload",function(){localStorage.clear()})})}();

!function(){AutoForm.hooks({setPassword:{onSubmit:function(o){var r=this,e=Router.current();return Accounts.resetPassword(e.params.token,o.newPassword,function(o){r.resetForm(),r.done(),Router.go("enrollUsername",{token:e.params.token})}),!1}}})}();

!function(){AutoForm.hooks({setUsername:{onSubmit:function(e){var o=this;return Meteor.call("setUsername",e.username,function(e){o.resetForm(),o.done(),Router.go("/")}),!1}}})}();

!function(){Template.registerHelper("displayName",function(e){var r;return r=e?Meteor.users.findOne({_id:e}):Meteor.user(),r?r.username?r.username:r.emails&&r.emails[0]&&r.emails[0].address?r.emails[0].address:"":""}),Template.registerHelper("isMe",function(e){return Meteor.user()._id===e})}();

!function(){Template.layout.helpers({loggingIn:function(){return Meteor.loggingIn()}}),Template.layout.onRendered(function(){var e=this;e.modal=e.$(".modal"),e.modal.modal({onShow:function(){e.handle=Meteor.setTimeout(function(){e.modal.modal("hide"),Meteor.logout()},3e5)},onHide:function(){e.handle&&(Meteor.clearTimeout(e.handle),e.handle=null)}}),Tracker.autorun(function(e){try{UserStatus.startMonitor({threshold:288e5,idleOnBlur:!1}),e.stop()}catch(o){}}),e.autorun(function(o){UserStatus.isIdle()&&Meteor.user()?e.modal.modal("show"):e.handle&&(Meteor.clearTimeout(e.handle),e.handle=null)})}),Template.layout.onDestroyed(function(){try{UserStatus.stopMonitor()}catch(e){}})}();

!function(){var e=new ReactiveVar(!1);Template.location.onCreated(function(){e=new ReactiveVar(!1)}),Template.location.helpers({edit:function(){return e.get()}}),Template._location_details.events({"click #editLocation":function(t){e.set(!0)}});var t=new ReactiveVar(!1);Template._edit_location.onCreated(function(){t=new ReactiveVar(!1)}),Template._edit_location.helpers({loading:function(){return t.get()}}),AutoForm.hooks({updateLocation:{beginSubmit:function(){t.set(!0)},endSubmit:function(){t.set(!1)},onSuccess:function(t,n){e.set(!1)}}});var n=new ReactiveVar(!1);Template._kiosk_details.onCreated(function(){n=new ReactiveVar(!1)}),Template._kiosk_details.helpers({loading:function(){return n.get()}}),Template._kiosk_details.events({"click #kioskEnabled":function(e){var t=Router.current();Meteor.call("setKioskInactive",t.params.locationId)},"click #kioskDisabled":function(e){var t=Router.current();Meteor.call("setKioskActive",t.params.locationId)},"click #newSecret":function(e){n.set(!0);var t=Router.current();Meteor.call("newSecret",t.params.locationId,function(e,t){n.set(!1)})},"click #newCode":function(e){n.set(!0);var t=Router.current();Meteor.call("newCode",t.params.locationId,function(e,t){n.set(!1)})}}),Template._location_statistics.helpers({getCounts:function(e,t){return Counts.get("locations."+t+"."+e)||0}}),Template._location_menu.onRendered(function(){var e=this,t=Router.current();e.autorun(function(){var e=t.getParams();$("#dateStart").val(e.query.start?e.query.start:""),$("#dateEnd").val(e.query.end?e.query.end:"")})}),Template._location_menu.events({"change #dateStart":function(e){var t=Router.current(),n=_.clone(t.params.query);n.start=$(e.target).val();var a=t.route.path({locationId:t.params.locationId},{query:n});Router.go(a)},"change #dateEnd":function(e){var t=Router.current(),n=_.clone(t.params.query);n.end=$(e.target).val();var a=t.route.path({locationId:t.params.locationId},{query:n});Router.go(a)}}),Template._location_sessions_table_header.helpers({sortState:function(e){var t=Router.current(),n=t.sessionsSort();return"-1"===n[e]?"descending":"1"===n[e]?"ascending":""}}),Template._location_sessions_table_row.helpers({date:function(e){return moment(e).format("MM/DD/YY hh:mmA")},status:function(){return"_session_state_"+this.state}});var a=function(e){var t=Router.current(),n=_.clone(t.params.query);if(n.sortKey===e){var a;a="-1"===n.sortDir?"1":"1"===n.sortDir?"-1":"1",n.sortDir=a}else n.sortKey=e,n.sortDir="createdAt"===e?"-1":"1";var o=t.route.path({locationId:t.params.locationId},{query:n});Router.go(o)};Template._location_sessions_table_header.events({"click #createdAtSort":function(e){a("createdAt")},"click #dentistSort":function(e){a("dentist.username")}})}();

!function(){var e=new ReactiveVar(!1),t=new ReactiveVar(!1);Template._locations_table.onCreated(function(){e=new ReactiveVar(!1)}),Template._new_location.onCreated(function(){t=new ReactiveVar(!1)}),Template._new_location.onRendered(function(){AutoForm.resetForm("newLocation")}),Template._new_location.helpers({loading:function(){return t.get()}}),Template._new_location.events({"click #cancelCreate":function(t){e.set(!1)}}),AutoForm.hooks({newLocation:{onSuccess:function(){e.set(!1)},beginSubmit:function(){t.set(!0)},endSubmit:function(){t.set(!1)},onError:function(e,t){this.validationContext.addInvalidKeys([{name:"name",type:"invalidLocation"}])}}}),Template._locations_table.helpers({createLocation:function(){return e.get()}}),Template._locations_table.events({"click #createLocation":function(t){e.set(!0)}}),Template._locations_table_row.helpers({getCounts:function(e,t){return Counts.get("locations."+t+"."+e)||0}}),Template._locations_table_header.helpers({sortState:function(e){var t=Router.current(),n=t.locationsSort();return"-1"===n[e]?"descending":"1"===n[e]?"ascending":""}});var n=function(e){var t=Router.current(),n=_.clone(t.params.query);if(n.sortKey===e){var a;a="-1"===n.sortDir?"1":"1"===n.sortDir?"-1":"1",n.sortDir=a}else n.sortKey=e,n.sortDir="createdAt"===e?"-1":"1";var o=t.route.path({},{query:n});Router.go(o)};Template._locations_table_header.events({"click #nameSort":function(e){n("name")}}),Template._locations_menu.onRendered(function(){var e=this,t=Router.current();e.autorun(function(){var e=t.getParams();if(e.query.date)$("#date").val(e.query.date);else{var n=new Date,a=(n.getMonth()+1).toString();1===a.length&&(a="0"+a),e.query.date=n.getFullYear()+"-"+a,$("#date").val(e.query.date)}})}),Template._locations_menu.events({"change #date":function(e){var t=Router.current(),n=_.clone(t.params.query);n.date=$(e.target).val();var a=t.route.path({},{query:n});Router.go(a)}})}();

!function(){var e,o,t;Template._login.events({"click #forgotPasswordLink":function(){e.set(!1),t.set(!1),o.set(!0)}}),Template.login.onCreated(function(){e=new ReactiveVar(!1),o=new ReactiveVar(!1),t=new ReactiveVar(!1)}),Template.login.helpers({error:function(){var o=e.get();return o?"disabled"===o?"This account has been disabled":"Incorrect name or password":null},sent:function(){var e=t.get();return e?"Email sent":!1},forgotPassword:function(){return o.get()}}),AutoForm.hooks({forgotPasswordForm:{onSubmit:function(r){t.set(!1),e.set(!1);var n=this;return Accounts.forgotPassword({email:r.email},function(e){n.resetForm(),o.set(!1),t.set(!0)}),!1}}}),AutoForm.hooks({loginForm:{onSubmit:function(o){t.set(!1),e.set(!1);var r=this;return Meteor.loginWithPassword(o.username,o.password,function(e){e?r.done(e):(r.resetForm(),r.done())}),!1},onError:function(o,t){e.set(t.error)}}})}();

!function(){Template.nav.rendered=function(){this.$("#nav-profile").dropdown({on:"hover"})},Template.nav.helpers({userId:function(){var e=Meteor.user();return e?e._id:null}}),Template.nav.events({"click #signOut":function(){Meteor.logout()}})}();

!function(){Template.patient_form.rendered=function(){Session.setDefault("activeTab","patientInfo"),this.$(".ui.checkbox").checkbox({onChecked:function(){Session.set("readAll",!0)},onUnchecked:function(){Session.set("readAll",!1)}})},Template.patient_form.events({"click #callPatient":function(e){Session.set("enabledTab",!0),Session.set("activeTab","dentistNotes"),Session.set("disabledCall",!0),console.log(this),SightCall.call(this.patient.kiosk.handle)},"click #patientTab":function(e){Session.set("activeTab","patientInfo")},"click #dentistTab":function(e){Session.set("activeTab","dentistNotes")}}),Template.patient_form.helpers({activeTab:function(e){return Session.equals("activeTab",e)?"active":""},enabledTab:function(){return Session.get("enabledTab")?"":"disabled"},disabledCall:function(){return Session.get("disabledCall")?"hidden":""},language:function(){return"en"===this.patient.lang?"English":"es"===this.patient.lang?"Spanish":void 0},name:function(){var e=this.patientNameFirst;return this.patientNamePreferred&&(e+=" ("+this.patientNamePreferred+")"),this.patientNameMiddle&&(e+=" "+this.patientNameMiddle),e+=" "+this.patientNameLast},sex:function(){return"F"===this.patientSexSex?"Female":"Male"},dob:function(){return this.patientDobDob},payment:function(e){return"Self"===this.patientInsuranceInsurance?"Self Pay":this.patientInsuranceInsurance},conditions:function(){var e=this,i={medicalConditionsHivAids:"HIV/AIDS",medicalConditionsPregnant:"Pregnant/Trying to get Pregnant",medicalConditionsContraceptives:"Taking Contraceptives",medicalConditionsCancer:"Cancer",medicalConditionsDiabetes:"Diabetes",medicalConditionsHeart:"Heart Condition",medicalConditionsBlood:"Blood Pressure Issues",medicalConditionsKidneyLiver:"Kidney or Liver Issues",medicalConditionsStomach:"Stomach Problems",medicalConditionsBleeding:"Bleeding Problems",medicalConditionsPsychiatric:"Psychiatric Care",medicalConditionsRadiation:"Radiation Treatment to the Head and Neck"},n=/^medicalCondition/,t=_.reduce(e,function(e,t,a){return n.test(a)&&t?""===e?i[a]:e+", "+i[a]:e},"");return""===t?"None":t},medications:function(){return this.medicalMedications&&""!==this.medicalMedications?this.medicalMedications:"None"},allergies:function(){var e=this,i={medicalAllergiesAspirin:"Aspirin",medicalAllergiesCodeine:"Codeine",medicalAllergiesPenicillin:"Penicillin",medicalAllergiesSulfa:"Sulfa Drugs"},n=/^medicalAllergies/,t=_.reduce(e,function(e,t,a){return n.test(a)&&"medicalAllergiesOther"!==a&&t?""===e?i[a]:e+", "+i[a]:e},"");return e.medicalAllergiesOther&&(t+=", "+e.medicalAllergiesOther),""===t?"None":t},readAll:function(){return Session.get("readAll")?"":"disabled"}})}();

!function(){var e=new ReactiveVar(!1);Template.profile.onCreated(function(){e=new ReactiveVar(!1)}),Template.profile.helpers({edit:function(){return e.get()}}),Template._edit_user.onDestroyed(function(){AutoForm.resetForm("changeUser")}),Template._user_details.events({"click #editUser":function(t){e.set(!0)}});var t=new ReactiveVar(!1);Template._edit_user.onCreated(function(){t=new ReactiveVar(!1)}),Template._edit_user.helpers({loading:function(){return t.get()}}),AutoForm.hooks({changePassword:{onSubmit:function(e,t,n){var i=this;return Accounts.changePassword(e.currentPassword,e.newPassword,function(e){e&&i.done(new Error(e)),i.done()}),!1},onError:function(e,t){this.validationContext.addInvalidKeys([{name:"currentPassword",type:"invalidPassword"}])},onSuccess:function(e,t){this.resetForm()}},changeEmail:{onSubmit:function(e,t,n){var i=this;return e.password=Accounts._hashPassword(e.password),Meteor.call("updateEmail",e,function(e){e&&i.done(new Error(e)),i.done()}),!1},onError:function(e,t){console.log(t)},onSuccess:function(e,t){this.resetForm()}},changeUser:{onSubmit:function(e,t,n){var i=this;return Meteor.call("updateUser",e,function(e){e&&i.done(new Error(e)),i.done()}),!1},onError:function(e,t){this.validationContext.addInvalidKeys([{name:"username",type:"invalidUsername"}])},onSuccess:function(t,n){e.set(!1),this.resetForm()}}}),Template._list_verified_emails.helpers({verifiedEmails:function(){return _.filter(this.profile.emails,function(e){return e.verified})}}),Template._list_unverified_emails.helpers({unverifiedEmails:function(){return _.filter(this.profile.emails,function(e){return!e.verified})}}),Template._verified_email.helpers({canDelete:function(){return Meteor.user()&&Meteor.user()._id===this.data.profile._id?_.reduce(Meteor.user().emails,function(e,t){return e+(t.verified?1:0)},0)>=2:!1}}),Template._unverified_email.onCreated(function(){this.data.edit=new ReactiveVar(!1)}),Template._unverified_email.events({"click .remove":function(){this.edit.set(!0)}}),Template._unverified_email.helpers({editing:function(){return this.edit.get()}}),Template._verified_email.events({});var t=new ReactiveVar(!1);Template._admin_enable.events({"click #enableAcct":function(){t.set(!0),Meteor.call("activateUser",this.profile._id,function(e,n){t.set(!1)})},"click #disableAcct":function(){t.set(!0),Meteor.call("disableUser",this.profile._id,function(e,n){t.set(!1)})}}),Template._admin_enable.helpers({loading:function(){return t.get()?"loading":""}}),Template.afFormGroup_textarea.helpers({innerContext:function n(e){var t=Utility.normalizeContext(e.hash,"afFormGroup_textarea");return{afFieldLabelAtts:formGroupLabelAtts(t.atts),afFieldInputAtts:formGroupInputAtts(t.atts),atts:{name:t.atts.name}}}})}();

!function(){Template.queue.helpers({isDisabled:function(e){return Counts.get(e+"PatientQueue")>0?"":"disabled"},error:function(){return null}}),Template.queue.events({"click #next-en-patient":function(e){Meteor.call("getNextPatient","en",function(e,n){e&&console.log(e),n&&Router.go("session.voip.show",{sessionId:n})})},"click #next-es-patient":function(e){Meteor.call("getNextPatient","es",function(e,n){e&&console.log(e),n&&Router.go("session.voip.show",{sessionId:n})})}});var e,n,t=function(){var n=Counts.findOne({_id:"enPatientQueue"}),t=Counts.findOne({_id:"esPatientQueue"});(n&&n.count&&n.count>0||t&&t.count&&t.count>0)&&e.play()};Template.queue.onRendered(function(){e=this.$("#newPatientBeep")[0],n=Meteor.setInterval(t,5e3)}),Template.queue.onDestroyed(function(){n&&Meteor.clearInterval(n)})}();

!function(){AutoForm.hooks({resetPassword:{onSubmit:function(o){var r=this,t=Router.current();return Accounts.resetPassword(t.params.token,o.newPassword,function(o){r.resetForm(),r.done(),Router.go("/")}),!1}}})}();

!function(){Template.afFormGroup_din.helpers({skipLabel:function(){var e=this,t=AutoForm.getInputType(e.afFieldInputAtts);return e.skipLabel||"boolean-checkbox"===t}})}();

!function(){Template.session_timeline.helpers({timeline:function(e){return events=[],events.push({type:"created",at:e.createdAt,location:e.location}),e.form&&events.push({type:"form",at:e.form.at}),e.voip&&_.each(e.voip.history,function(e){events.push(_.extend({},e,{type:"voip"}))}),e.dentistNotes&&events.push({type:"notes",at:e.dentistNotes.at,dentist:e.dentist}),e.survey&&events.push({type:"survey",at:e.survey.at,action:e.survey.skipped?"skipped":"completed"}),e.complete&&events.push({type:"complete",at:e.complete.at,condition:e.complete.condition}),e.fax&&_.each(e.fax.history,function(e){events.push(_.extend({},e,{type:"fax"}))}),events.sort(function(e,t){return new Date(e.at)-new Date(t.at)}),events},template:function(){return"_"+this.type}}),Template.registerHelper("timestamp",function(e){return e?moment(e).format("MMMM Do YYYY, h:mm:ss a"):"Unknown"}),Template._voip.helpers({template:function(){return"_voip_"+this.state}}),Template._fax.helpers({template:function(){return"_fax_"+this.state}}),Template._survey.helpers({template:function(){return"_survey_"+this.action}}),Template._complete.helpers({template:function(){return"_complete_"+this.condition}});var e={T:"True",F:"False"};Template.survey.helpers({qOne:function(){var e={FIVE_MINUTES:"1-5 minutes",TEN_MINUTES:"5-10 minutes",FIFTEEN_MINUTES:"10-15 minutes",TWENTY_MINUTES:"15-20 minutes"};return e[this.waitTime]},qTwo:function(){return e[this.understanding]},qThree:function(){var e={THREE_DAYS:"1-3 days",FIVE_DAYS:"3-5 days",NEVER:"Never"};return e[this.treatment]},qFour:function(){return e[this.pleased]},qFive:function(){return e[this.refer]}})}();

!function(){Template.session_timeline.helpers({timestamp:function(t){return moment(t).format("MMMM Do YYYY, h:mm:ss")},locationId:function(){return{locationId:this.location._id}}})}();

!function(){ReactiveTabs.createInterface({template:"session_voip_tabs"}),AutoForm.addHooks("createDentistNotes",{formToDoc:function(e){return e.sessionId=Router.current().params.sessionId,e},docToForm:function(e){return delete e.sessionId,e},onSuccess:function(e,t){SightCall.hangup(),Router.go("/queue"),n.set("patient_info")}});var e=new ReactiveVar(!1),t=new ReactiveVar(!1),n=new ReactiveVar("patient_info");Template.patient_info_form.rendered=function(){this.$(".ui.checkbox").checkbox({onChecked:function(){e.set(!0)},onUnchecked:function(){e.set(!1)}})},Template.patient_info_form.events({"click #callPatient":function(e){SightCall.call(this.location.kioskHandle),n.set("dentist_notes")}}),Template.patient_info_form.helpers({readAll:function(){return e.get()?"":"disabled"},scReady:function(){return SightCall.ready.get()?"":"loading"},callActive:function(){return SightCall.callActive.get()}}),Template.patient_info.helpers({language:function(){return this.lang?"en"===this.lang?"English":"Spanish":void 0},name:function(){var e=this.patientNameFirst;return this.patientNamePreferred&&(e+=" ("+this.patientNamePreferred+")"),this.patientNameMiddle&&(e+=" "+this.patientNameMiddle),e+=" "+this.patientNameLast},sex:function(){return"F"===this.patientSexSex?"Female":"Male"},dob:function(){return _.isNumber(this.patientDobDob)?moment(this.patientDobDob).format("LL"):this.patientDobDob},payment:function(e){return"Self"===this.patientInsuranceInsurance?"Self Pay":this.patientInsuranceInsurance},conditions:function(){var e=this,t={medicalConditionsHivAids:"HIV/AIDS",medicalConditionsPregnant:"Pregnant/Trying to get Pregnant",medicalConditionsContraceptives:"Taking Contraceptives",medicalConditionsCancer:"Cancer",medicalConditionsDiabetes:"Diabetes",medicalConditionsHeart:"Heart Condition",medicalConditionsBlood:"Blood Pressure Issues",medicalConditionsKidneyLiver:"Kidney or Liver Issues",medicalConditionsStomach:"Stomach Problems",medicalConditionsBleeding:"Bleeding Problems",medicalConditionsPsychiatric:"Psychiatric Care",medicalConditionsRadiation:"Radiation Treatment to the Head and Neck"},n=/^medicalCondition/,i=_.reduce(e,function(e,i,a){return n.test(a)&&i?""===e?t[a]:e+", "+t[a]:e},"");return""===i?"None":i},medications:function(){return this.medicalMedications&&""!==this.medicalMedications?this.medicalMedications:"None"},allergies:function(){var e=this,t={medicalAllergiesAspirin:"Aspirin",medicalAllergiesCodeine:"Codeine",medicalAllergiesPenicillin:"Penicillin",medicalAllergiesSulfa:"Sulfa Drugs"},n=/^medicalAllergies/,i=_.reduce(e,function(e,i,a){return n.test(a)&&"medicalAllergiesOther"!==a&&i?""===e?t[a]:e+", "+t[a]:e},"");return e.medicalAllergiesOther&&(i+=", "+e.medicalAllergiesOther),""===i?"None":i},swelling:function(){return"Y"===this.dentalSwelling?"Yes":"No"}}),Template._end_call.rendered=function(){this.$(".ui.checkbox").checkbox({onChecked:function(){t.set(!0)},onUnchecked:function(){t.set(!1)}})},Template._end_call.helpers({canSubmit:function(){return t.get()?"":"disabled"}}),Template.dentist_notes_form.helpers({callActive:function(){return SightCall.callActive.get()?!0:!1}}),Template.session_voip.helpers({tabs:function(){return[{name:"Patient Information",slug:"patient_info"},{name:"Dentist Notes",slug:"dentist_notes"}]},activeTab:function(){return n.get()}}),Template.session_voip.onCreated(function(){SightCall.errorCallback=function(e){Meteor.call("voipFail",Router.current().params.sessionId),Router.go("/queue",{},{query:{error:e}}),n.set("patient_info")}}),Template.session_voip.onDestroyed(function(){SightCall.errorCallback=function(){}})}();

!function(){Template._session_table_row.helpers({date:function(e){return moment(e).format("MM/DD/YY hh:mmA")},status:function(){return"_session_state_"+this.state}}),Template._session_table_header.helpers({sortState:function(e){var t=Router.current(),r=t.sessionsSort();return"-1"===r[e]?"descending":"1"===r[e]?"ascending":""}});var e=function(e){var t=Router.current(),r=_.clone(t.params.query);if(r.sortKey===e){var n;n="-1"===r.sortDir?"1":"1"===r.sortDir?"-1":"1",r.sortDir=n}else r.sortKey=e,r.sortDir="createdAt"===e?"-1":"1";var o=t.route.path({},{query:r});Router.go(o)};Template._session_table_header.events({"click #createdAtSort":function(t){e("createdAt")},"click #locationSort":function(t){e("location.name")},"click #dentistSort":function(t){e("dentist.username")}}),Template._dentist_filter.onRendered(function(){var e=this,t=Router.current(),r=e.$(".ui.dropdown");r.dropdown({action:"activate",forceSelection:!1,sortSelect:!0,onChange:function(e,r,n){var o=_.clone(t.params.query);o.dentistId="undefined"==typeof e||""==typeof e?"":e;var a={};t.params.locationId&&(a.locationId=t.params.locationId);var u=t.route.path(a,{query:o});Router.go(u)}}),e.autorun(function(){var e=t.getParams();e.query.dentistId?r.dropdown("set selected",e.query.dentistId):r.dropdown("clear")})}),Template._dentist_filter.helpers({test:function(){var e=Router.current(),t=e.getParams().query.dentistId||"";this.$(".ui.dropdown").has("#dentistFilter").dropdown("set selected",t)}}),Template._location_filter.onRendered(function(){var e=this,t=Router.current(),r=e.$(".ui.dropdown");r.dropdown({action:"activate",forceSelection:!1,sortSelect:!0,onChange:function(e,r,n){var o=_.clone(t.params.query);o.locationId=e;var a=t.route.path({},{query:o});Router.go(a)}}),e.autorun(function(){var e=t.getParams();e.query.locationId?r.dropdown("set selected",e.query.locationId):r.dropdown("clear")})}),Template._menu.onRendered(function(){var e=this,t=Router.current();e.autorun(function(){var e=t.getParams();$("#dateStart").val(e.query.start?e.query.start:""),$("#dateEnd").val(e.query.end?e.query.end:"")})}),Template._menu.events({"change #dateStart":function(e){var t=Router.current(),r=_.clone(t.params.query);r.start=$(e.target).val();var n=t.route.path({},{query:r});Router.go(n)},"change #dateEnd":function(e){var t=Router.current(),r=_.clone(t.params.query);r.end=$(e.target).val();var n=t.route.path({},{query:r});Router.go(n)}})}();

!function(){var e=new ReactiveVar(!1),t=new ReactiveVar(!1);Template._users_table.onCreated(function(){e=new ReactiveVar(!1)}),Template._invite_user.onCreated(function(){t=new ReactiveVar(!1)}),Template._invite_user.onRendered(function(){AutoForm.resetForm("inviteUser")}),Template._invite_user.helpers({loading:function(){return t.get()}}),Template._invite_user.events({"click #cancelInvite":function(t){e.set(!1)}}),AutoForm.hooks({inviteUser:{onSuccess:function(){e.set(!1)},beginSubmit:function(){t.set(!0)},endSubmit:function(){t.set(!1)}}}),Template._users_table.helpers({inviteUser:function(){return e.get()}}),Template._users_table.events({"click #inviteUser":function(t){e.set(!0)}}),Template._users_table_row.helpers({uname:function(){return this.username||"Not set yet"},email:function(){return this.emails[0].address},group:function(){groups={ma:"Medical Admin",ta:"Technical Admin",dentist:"Dentist"};var e;try{e=groups[this.roles[0]]}catch(t){e="None"}return e},enabled:function(){return this.active?"Yes":"No"}}),Template._users_table_header.helpers({sortState:function(e){var t=Router.current(),n=t.usersSort();return"-1"===n[e]?"descending":"1"===n[e]?"ascending":""}});var n=function(e){var t=Router.current(),n=_.clone(t.params.query);if(n.sortKey===e){var r;r="-1"===n.sortDir?"1":"1"===n.sortDir?"-1":"1",n.sortDir=r}else n.sortKey=e,n.sortDir="createdAt"===e?"-1":"1";var i=t.route.path({},{query:n});Router.go(i)};Template._users_table_header.events({"click #usernameSort":function(e){n("username")}});var r=Match.Where(function(e){return check(e,String),SimpleSchema.RegEx.Id.test(e)});Template._users_table_row.events({"click .deleteAccount":function(){console.log("Ava 01-"+this._id),Meteor.call("deleteUser",this._id,function(e,t){console.log(e,t)})}})}();