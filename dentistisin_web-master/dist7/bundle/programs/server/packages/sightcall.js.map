{"version":3,"sources":["sightcall/server/sightcall.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAA,e;;AAEA,2C;;AAEA,kB;AACA,U;AACA,Y;AACA,W;AACA,kB;AACA,E;;AAEA,mB;AACA,iB;AACA,oB;AACA,E;;AAEA,kB;;AAEA,uC;AACA,4B;AACA,6B;AACA,E;;AAEA,qC;AACA,wC;AACA,E;;AAEA,qC;AACA,uC;AACA,E;;AAEA,mC;AACA,4C;AACA,E;;AAEA,mC;AACA,4C;AACA,E;;AAEA,uC;AACA,oD;AACA,E;;AAEA,gC;AACA,yB;AACA,E;AACA,E;;AAEA,0C;AACA,iB;AACA,W;AACA,4B;AACA,qB;AACA,G;;AAEA,iC;AACA,wH;AACA,sF;AACA,E","file":"/packages/sightcall.js","sourcesContent":["SightCall = {};\n\nvar endpoint = 'https://auth.rtccloud.net';\n\nvar ssl_params = {\n\tca: null,\n\tcert: null,\n\tkey: null,\n\tpassphrase: null,\n};\n\nvar form_params = {\n\tclient_id: null,\n\tclient_secret: null\n};\n\nvar domain = null;\n\nSightCall.config = function (options) {\n\tif (_.has(options, 'ca')) {\n\t\tssl_params.ca = options.ca;\n\t}\n\n\tif (_.has(options, 'public_cert')) {\n\t\tssl_params.cert = options.public_cert;\n\t}\n\n\tif (_.has(options, 'private_key')) {\n\t\tssl_params.key = options.private_key;\n\t}\n\n\tif (_.has(options, 'cert_pass')) {\n\t\tssl_params.passphrase = options.cert_pass;\n\t}\n\n\tif (_.has(options, 'client_id')) {\n\t\tform_params.client_id = options.client_id;\n\t}\n\n\tif (_.has(options, 'client_secret')) {\n\t\tform_params.client_secret = options.client_secret;\n\t}\n\n\tif (_.has(options, 'domain')) {\n\t\tdomain = options.domain\n\t}\n};\n\nSightCall.auth = function (uid, profile) {\n\tvar req_form = {\n\t\tuid: uid,\n\t\tidentifier_client: domain,\n\t\tid_profile: profile\n\t};\n\n\t_.extend(req_form, form_params);\n\t// TODO: Replace with updated HTTP that offers access to the underlying request rather than depending on 3rd party HTTP\n\treturn HTTP.post(endpoint + '/auth', { params: req_form, agentOptions: ssl_params });\n};\n"]}